function Wf(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Vc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qc={exports:{}},rl={},Hc={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yr=Symbol.for("react.element"),Bf=Symbol.for("react.portal"),Vf=Symbol.for("react.fragment"),Qf=Symbol.for("react.strict_mode"),Hf=Symbol.for("react.profiler"),Kf=Symbol.for("react.provider"),Yf=Symbol.for("react.context"),Xf=Symbol.for("react.forward_ref"),Gf=Symbol.for("react.suspense"),qf=Symbol.for("react.memo"),Jf=Symbol.for("react.lazy"),yo=Symbol.iterator;function Zf(e){return e===null||typeof e!="object"?null:(e=yo&&e[yo]||e["@@iterator"],typeof e=="function"?e:null)}var Kc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yc=Object.assign,Xc={};function qn(e,t,n){this.props=e,this.context=t,this.refs=Xc,this.updater=n||Kc}qn.prototype.isReactComponent={};qn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gc(){}Gc.prototype=qn.prototype;function li(e,t,n){this.props=e,this.context=t,this.refs=Xc,this.updater=n||Kc}var ai=li.prototype=new Gc;ai.constructor=li;Yc(ai,qn.prototype);ai.isPureReactComponent=!0;var go=Array.isArray,qc=Object.prototype.hasOwnProperty,ii={current:null},Jc={key:!0,ref:!0,__self:!0,__source:!0};function Zc(e,t,n){var r,s={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)qc.call(t,r)&&!Jc.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:Yr,type:e,key:a,ref:i,props:s,_owner:ii.current}}function em(e,t){return{$$typeof:Yr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function oi(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yr}function tm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xo=/\/+/g;function _l(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tm(""+e.key):t.toString(36)}function xs(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Yr:case Bf:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+_l(i,0):r,go(s)?(n="",e!=null&&(n=e.replace(xo,"$&/")+"/"),xs(s,t,n,"",function(u){return u})):s!=null&&(oi(s)&&(s=em(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(xo,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",go(e))for(var o=0;o<e.length;o++){a=e[o];var c=r+_l(a,o);i+=xs(a,t,n,c,s)}else if(c=Zf(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=r+_l(a,o++),i+=xs(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ns(e,t,n){if(e==null)return e;var r=[],s=0;return xs(e,r,"","",function(a){return t.call(n,a,s++)}),r}function nm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Re={current:null},js={transition:null},rm={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:js,ReactCurrentOwner:ii};function eu(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:ns,forEach:function(e,t,n){ns(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ns(e,function(){t++}),t},toArray:function(e){return ns(e,function(t){return t})||[]},only:function(e){if(!oi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};F.Component=qn;F.Fragment=Vf;F.Profiler=Hf;F.PureComponent=li;F.StrictMode=Qf;F.Suspense=Gf;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rm;F.act=eu;F.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Yc({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=ii.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)qc.call(t,c)&&!Jc.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Yr,type:e.type,key:s,ref:a,props:r,_owner:i}};F.createContext=function(e){return e={$$typeof:Yf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Kf,_context:e},e.Consumer=e};F.createElement=Zc;F.createFactory=function(e){var t=Zc.bind(null,e);return t.type=e,t};F.createRef=function(){return{current:null}};F.forwardRef=function(e){return{$$typeof:Xf,render:e}};F.isValidElement=oi;F.lazy=function(e){return{$$typeof:Jf,_payload:{_status:-1,_result:e},_init:nm}};F.memo=function(e,t){return{$$typeof:qf,type:e,compare:t===void 0?null:t}};F.startTransition=function(e){var t=js.transition;js.transition={};try{e()}finally{js.transition=t}};F.unstable_act=eu;F.useCallback=function(e,t){return Re.current.useCallback(e,t)};F.useContext=function(e){return Re.current.useContext(e)};F.useDebugValue=function(){};F.useDeferredValue=function(e){return Re.current.useDeferredValue(e)};F.useEffect=function(e,t){return Re.current.useEffect(e,t)};F.useId=function(){return Re.current.useId()};F.useImperativeHandle=function(e,t,n){return Re.current.useImperativeHandle(e,t,n)};F.useInsertionEffect=function(e,t){return Re.current.useInsertionEffect(e,t)};F.useLayoutEffect=function(e,t){return Re.current.useLayoutEffect(e,t)};F.useMemo=function(e,t){return Re.current.useMemo(e,t)};F.useReducer=function(e,t,n){return Re.current.useReducer(e,t,n)};F.useRef=function(e){return Re.current.useRef(e)};F.useState=function(e){return Re.current.useState(e)};F.useSyncExternalStore=function(e,t,n){return Re.current.useSyncExternalStore(e,t,n)};F.useTransition=function(){return Re.current.useTransition()};F.version="18.3.1";Hc.exports=F;var j=Hc.exports;const ci=Vc(j),sm=Wf({__proto__:null,default:ci},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm=j,am=Symbol.for("react.element"),im=Symbol.for("react.fragment"),om=Object.prototype.hasOwnProperty,cm=lm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,um={key:!0,ref:!0,__self:!0,__source:!0};function tu(e,t,n){var r,s={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)om.call(t,r)&&!um.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:am,type:e,key:a,ref:i,props:s,_owner:cm.current}}rl.Fragment=im;rl.jsx=tu;rl.jsxs=tu;Qc.exports=rl;var l=Qc.exports,ia={},nu={exports:{}},Qe={},ru={exports:{}},su={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,D){var M=T.length;T.push(D);e:for(;0<M;){var H=M-1>>>1,Y=T[H];if(0<s(Y,D))T[H]=D,T[M]=Y,M=H;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var D=T[0],M=T.pop();if(M!==D){T[0]=M;e:for(var H=0,Y=T.length,ht=Y>>>1;H<ht;){var pe=2*(H+1)-1,Ke=T[pe],I=pe+1,B=T[I];if(0>s(Ke,M))I<Y&&0>s(B,Ke)?(T[H]=B,T[I]=M,H=I):(T[H]=Ke,T[pe]=M,H=pe);else if(I<Y&&0>s(B,M))T[H]=B,T[I]=M,H=I;else break e}}return D}function s(T,D){var M=T.sortIndex-D.sortIndex;return M!==0?M:T.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],f=1,h=null,m=3,v=!1,y=!1,p=!1,N=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(T){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=T)r(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(u)}}function w(T){if(p=!1,x(T),!y)if(n(c)!==null)y=!0,_e(k);else{var D=n(u);D!==null&&mt(w,D.startTime-T)}}function k(T,D){y=!1,p&&(p=!1,g(L),L=-1),v=!0;var M=m;try{for(x(D),h=n(c);h!==null&&(!(h.expirationTime>D)||T&&!ee());){var H=h.callback;if(typeof H=="function"){h.callback=null,m=h.priorityLevel;var Y=H(h.expirationTime<=D);D=e.unstable_now(),typeof Y=="function"?h.callback=Y:h===n(c)&&r(c),x(D)}else r(c);h=n(c)}if(h!==null)var ht=!0;else{var pe=n(u);pe!==null&&mt(w,pe.startTime-D),ht=!1}return ht}finally{h=null,m=M,v=!1}}var _=!1,P=null,L=-1,O=5,A=-1;function ee(){return!(e.unstable_now()-A<O)}function Ne(){if(P!==null){var T=e.unstable_now();A=T;var D=!0;try{D=P(!0,T)}finally{D?me():(_=!1,P=null)}}else _=!1}var me;if(typeof d=="function")me=function(){d(Ne)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,It=he.port2;he.port1.onmessage=Ne,me=function(){It.postMessage(null)}}else me=function(){N(Ne,0)};function _e(T){P=T,_||(_=!0,me())}function mt(T,D){L=N(function(){T(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,_e(k))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var M=m;m=D;try{return T()}finally{m=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,D){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var M=m;m=T;try{return D()}finally{m=M}},e.unstable_scheduleCallback=function(T,D,M){var H=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?H+M:H):M=H,T){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=M+Y,T={id:f++,callback:D,priorityLevel:T,startTime:M,expirationTime:Y,sortIndex:-1},M>H?(T.sortIndex=M,t(u,T),n(c)===null&&T===n(u)&&(p?(g(L),L=-1):p=!0,mt(w,M-H))):(T.sortIndex=Y,t(c,T),y||v||(y=!0,_e(k))),T},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(T){var D=m;return function(){var M=m;m=D;try{return T.apply(this,arguments)}finally{m=M}}}})(su);ru.exports=su;var dm=ru.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm=j,Ve=dm;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lu=new Set,_r={};function gn(e,t){Wn(e,t),Wn(e+"Capture",t)}function Wn(e,t){for(_r[e]=t,e=0;e<t.length;e++)lu.add(t[e])}var Et=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oa=Object.prototype.hasOwnProperty,mm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jo={},No={};function hm(e){return oa.call(No,e)?!0:oa.call(jo,e)?!1:mm.test(e)?No[e]=!0:(jo[e]=!0,!1)}function pm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vm(e,t,n,r){if(t===null||typeof t>"u"||pm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ae(e,t,n,r,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){je[e]=new Ae(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];je[t]=new Ae(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){je[e]=new Ae(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){je[e]=new Ae(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){je[e]=new Ae(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){je[e]=new Ae(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){je[e]=new Ae(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){je[e]=new Ae(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){je[e]=new Ae(e,5,!1,e.toLowerCase(),null,!1,!1)});var ui=/[\-:]([a-z])/g;function di(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ui,di);je[t]=new Ae(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ui,di);je[t]=new Ae(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ui,di);je[t]=new Ae(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){je[e]=new Ae(e,1,!1,e.toLowerCase(),null,!1,!1)});je.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){je[e]=new Ae(e,1,!1,e.toLowerCase(),null,!0,!0)});function fi(e,t,n,r){var s=je.hasOwnProperty(t)?je[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vm(t,n,s,r)&&(n=null),r||s===null?hm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Tt=fm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rs=Symbol.for("react.element"),Sn=Symbol.for("react.portal"),Cn=Symbol.for("react.fragment"),mi=Symbol.for("react.strict_mode"),ca=Symbol.for("react.profiler"),au=Symbol.for("react.provider"),iu=Symbol.for("react.context"),hi=Symbol.for("react.forward_ref"),ua=Symbol.for("react.suspense"),da=Symbol.for("react.suspense_list"),pi=Symbol.for("react.memo"),Mt=Symbol.for("react.lazy"),ou=Symbol.for("react.offscreen"),wo=Symbol.iterator;function ar(e){return e===null||typeof e!="object"?null:(e=wo&&e[wo]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,Ll;function hr(e){if(Ll===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ll=t&&t[1]||""}return`
`+Ll+e}var Tl=!1;function Rl(e,t){if(!e||Tl)return"";Tl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),i=s.length-1,o=a.length-1;1<=i&&0<=o&&s[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||s[i]!==a[o]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{Tl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?hr(e):""}function ym(e){switch(e.tag){case 5:return hr(e.type);case 16:return hr("Lazy");case 13:return hr("Suspense");case 19:return hr("SuspenseList");case 0:case 2:case 15:return e=Rl(e.type,!1),e;case 11:return e=Rl(e.type.render,!1),e;case 1:return e=Rl(e.type,!0),e;default:return""}}function fa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cn:return"Fragment";case Sn:return"Portal";case ca:return"Profiler";case mi:return"StrictMode";case ua:return"Suspense";case da:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case iu:return(e.displayName||"Context")+".Consumer";case au:return(e._context.displayName||"Context")+".Provider";case hi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pi:return t=e.displayName||null,t!==null?t:fa(e.type)||"Memo";case Mt:t=e._payload,e=e._init;try{return fa(e(t))}catch{}}return null}function gm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fa(t);case 8:return t===mi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xm(e){var t=cu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ss(e){e._valueTracker||(e._valueTracker=xm(e))}function uu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=cu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Rs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ma(e,t){var n=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ko(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Jt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function du(e,t){t=t.checked,t!=null&&fi(e,"checked",t,!1)}function ha(e,t){du(e,t);var n=Jt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pa(e,t.type,n):t.hasOwnProperty("defaultValue")&&pa(e,t.type,Jt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function So(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function pa(e,t,n){(t!=="number"||Rs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var pr=Array.isArray;function On(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Jt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function va(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Co(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(E(92));if(pr(n)){if(1<n.length)throw Error(E(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Jt(n)}}function fu(e,t){var n=Jt(t.value),r=Jt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Eo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ya(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ls,hu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ls=ls||document.createElement("div"),ls.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ls.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jm=["Webkit","ms","Moz","O"];Object.keys(gr).forEach(function(e){jm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gr[t]=gr[e]})});function pu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||gr.hasOwnProperty(e)&&gr[e]?(""+t).trim():t+"px"}function vu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=pu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Nm=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ga(e,t){if(t){if(Nm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function xa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ja=null;function vi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Na=null,$n=null,zn=null;function Po(e){if(e=qr(e)){if(typeof Na!="function")throw Error(E(280));var t=e.stateNode;t&&(t=ol(t),Na(e.stateNode,e.type,t))}}function yu(e){$n?zn?zn.push(e):zn=[e]:$n=e}function gu(){if($n){var e=$n,t=zn;if(zn=$n=null,Po(e),t)for(e=0;e<t.length;e++)Po(t[e])}}function xu(e,t){return e(t)}function ju(){}var Al=!1;function Nu(e,t,n){if(Al)return e(t,n);Al=!0;try{return xu(e,t,n)}finally{Al=!1,($n!==null||zn!==null)&&(ju(),gu())}}function Tr(e,t){var n=e.stateNode;if(n===null)return null;var r=ol(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(E(231,t,typeof n));return n}var wa=!1;if(Et)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){wa=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{wa=!1}function wm(e,t,n,r,s,a,i,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var xr=!1,As=null,Is=!1,ka=null,km={onError:function(e){xr=!0,As=e}};function Sm(e,t,n,r,s,a,i,o,c){xr=!1,As=null,wm.apply(km,arguments)}function Cm(e,t,n,r,s,a,i,o,c){if(Sm.apply(this,arguments),xr){if(xr){var u=As;xr=!1,As=null}else throw Error(E(198));Is||(Is=!0,ka=u)}}function xn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _o(e){if(xn(e)!==e)throw Error(E(188))}function Em(e){var t=e.alternate;if(!t){if(t=xn(e),t===null)throw Error(E(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return _o(s),e;if(a===r)return _o(s),t;a=a.sibling}throw Error(E(188))}if(n.return!==r.return)n=s,r=a;else{for(var i=!1,o=s.child;o;){if(o===n){i=!0,n=s,r=a;break}if(o===r){i=!0,r=s,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,r=s;break}if(o===r){i=!0,r=a,n=s;break}o=o.sibling}if(!i)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?e:t}function ku(e){return e=Em(e),e!==null?Su(e):null}function Su(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Su(e);if(t!==null)return t;e=e.sibling}return null}var Cu=Ve.unstable_scheduleCallback,Lo=Ve.unstable_cancelCallback,Pm=Ve.unstable_shouldYield,_m=Ve.unstable_requestPaint,ce=Ve.unstable_now,Lm=Ve.unstable_getCurrentPriorityLevel,yi=Ve.unstable_ImmediatePriority,Eu=Ve.unstable_UserBlockingPriority,Ds=Ve.unstable_NormalPriority,Tm=Ve.unstable_LowPriority,Pu=Ve.unstable_IdlePriority,sl=null,gt=null;function Rm(e){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(sl,e,void 0,(e.current.flags&128)===128)}catch{}}var ut=Math.clz32?Math.clz32:Dm,Am=Math.log,Im=Math.LN2;function Dm(e){return e>>>=0,e===0?32:31-(Am(e)/Im|0)|0}var as=64,is=4194304;function vr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ms(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~s;o!==0?r=vr(o):(a&=i,a!==0&&(r=vr(a)))}else i=n&~s,i!==0?r=vr(i):a!==0&&(r=vr(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ut(t),s=1<<n,r|=e[n],t&=~s;return r}function Mm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Om(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-ut(a),o=1<<i,c=s[i];c===-1?(!(o&n)||o&r)&&(s[i]=Mm(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function Sa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _u(){var e=as;return as<<=1,!(as&4194240)&&(as=64),e}function Il(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ut(t),e[t]=n}function $m(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ut(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function gi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ut(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Q=0;function Lu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Tu,xi,Ru,Au,Iu,Ca=!1,os=[],Wt=null,Bt=null,Vt=null,Rr=new Map,Ar=new Map,$t=[],zm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function To(e,t){switch(e){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":Rr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ar.delete(t.pointerId)}}function or(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=qr(t),t!==null&&xi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function bm(e,t,n,r,s){switch(t){case"focusin":return Wt=or(Wt,e,t,n,r,s),!0;case"dragenter":return Bt=or(Bt,e,t,n,r,s),!0;case"mouseover":return Vt=or(Vt,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Rr.set(a,or(Rr.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Ar.set(a,or(Ar.get(a)||null,e,t,n,r,s)),!0}return!1}function Du(e){var t=an(e.target);if(t!==null){var n=xn(t);if(n!==null){if(t=n.tag,t===13){if(t=wu(n),t!==null){e.blockedOn=t,Iu(e.priority,function(){Ru(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ns(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ea(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ja=r,n.target.dispatchEvent(r),ja=null}else return t=qr(n),t!==null&&xi(t),e.blockedOn=n,!1;t.shift()}return!0}function Ro(e,t,n){Ns(e)&&n.delete(t)}function Fm(){Ca=!1,Wt!==null&&Ns(Wt)&&(Wt=null),Bt!==null&&Ns(Bt)&&(Bt=null),Vt!==null&&Ns(Vt)&&(Vt=null),Rr.forEach(Ro),Ar.forEach(Ro)}function cr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ca||(Ca=!0,Ve.unstable_scheduleCallback(Ve.unstable_NormalPriority,Fm)))}function Ir(e){function t(s){return cr(s,e)}if(0<os.length){cr(os[0],e);for(var n=1;n<os.length;n++){var r=os[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Wt!==null&&cr(Wt,e),Bt!==null&&cr(Bt,e),Vt!==null&&cr(Vt,e),Rr.forEach(t),Ar.forEach(t),n=0;n<$t.length;n++)r=$t[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<$t.length&&(n=$t[0],n.blockedOn===null);)Du(n),n.blockedOn===null&&$t.shift()}var bn=Tt.ReactCurrentBatchConfig,Os=!0;function Um(e,t,n,r){var s=Q,a=bn.transition;bn.transition=null;try{Q=1,ji(e,t,n,r)}finally{Q=s,bn.transition=a}}function Wm(e,t,n,r){var s=Q,a=bn.transition;bn.transition=null;try{Q=4,ji(e,t,n,r)}finally{Q=s,bn.transition=a}}function ji(e,t,n,r){if(Os){var s=Ea(e,t,n,r);if(s===null)Bl(e,t,r,$s,n),To(e,r);else if(bm(s,e,t,n,r))r.stopPropagation();else if(To(e,r),t&4&&-1<zm.indexOf(e)){for(;s!==null;){var a=qr(s);if(a!==null&&Tu(a),a=Ea(e,t,n,r),a===null&&Bl(e,t,r,$s,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Bl(e,t,r,null,n)}}var $s=null;function Ea(e,t,n,r){if($s=null,e=vi(r),e=an(e),e!==null)if(t=xn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=wu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $s=e,null}function Mu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lm()){case yi:return 1;case Eu:return 4;case Ds:case Tm:return 16;case Pu:return 536870912;default:return 16}default:return 16}}var bt=null,Ni=null,ws=null;function Ou(){if(ws)return ws;var e,t=Ni,n=t.length,r,s="value"in bt?bt.value:bt.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[a-r];r++);return ws=s.slice(e,1<r?1-r:void 0)}function ks(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cs(){return!0}function Ao(){return!1}function He(e){function t(n,r,s,a,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?cs:Ao,this.isPropagationStopped=Ao,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),t}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=He(Jn),Gr=ie({},Jn,{view:0,detail:0}),Bm=He(Gr),Dl,Ml,ur,ll=ie({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ki,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ur&&(ur&&e.type==="mousemove"?(Dl=e.screenX-ur.screenX,Ml=e.screenY-ur.screenY):Ml=Dl=0,ur=e),Dl)},movementY:function(e){return"movementY"in e?e.movementY:Ml}}),Io=He(ll),Vm=ie({},ll,{dataTransfer:0}),Qm=He(Vm),Hm=ie({},Gr,{relatedTarget:0}),Ol=He(Hm),Km=ie({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ym=He(Km),Xm=ie({},Jn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gm=He(Xm),qm=ie({},Jn,{data:0}),Do=He(qm),Jm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function th(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=eh[e])?!!t[e]:!1}function ki(){return th}var nh=ie({},Gr,{key:function(e){if(e.key){var t=Jm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ki,charCode:function(e){return e.type==="keypress"?ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rh=He(nh),sh=ie({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mo=He(sh),lh=ie({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ki}),ah=He(lh),ih=ie({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),oh=He(ih),ch=ie({},ll,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uh=He(ch),dh=[9,13,27,32],Si=Et&&"CompositionEvent"in window,jr=null;Et&&"documentMode"in document&&(jr=document.documentMode);var fh=Et&&"TextEvent"in window&&!jr,$u=Et&&(!Si||jr&&8<jr&&11>=jr),Oo=" ",$o=!1;function zu(e,t){switch(e){case"keyup":return dh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var En=!1;function mh(e,t){switch(e){case"compositionend":return bu(t);case"keypress":return t.which!==32?null:($o=!0,Oo);case"textInput":return e=t.data,e===Oo&&$o?null:e;default:return null}}function hh(e,t){if(En)return e==="compositionend"||!Si&&zu(e,t)?(e=Ou(),ws=Ni=bt=null,En=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $u&&t.locale!=="ko"?null:t.data;default:return null}}var ph={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ph[e.type]:t==="textarea"}function Fu(e,t,n,r){yu(r),t=zs(t,"onChange"),0<t.length&&(n=new wi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Nr=null,Dr=null;function vh(e){qu(e,0)}function al(e){var t=Ln(e);if(uu(t))return e}function yh(e,t){if(e==="change")return t}var Uu=!1;if(Et){var $l;if(Et){var zl="oninput"in document;if(!zl){var bo=document.createElement("div");bo.setAttribute("oninput","return;"),zl=typeof bo.oninput=="function"}$l=zl}else $l=!1;Uu=$l&&(!document.documentMode||9<document.documentMode)}function Fo(){Nr&&(Nr.detachEvent("onpropertychange",Wu),Dr=Nr=null)}function Wu(e){if(e.propertyName==="value"&&al(Dr)){var t=[];Fu(t,Dr,e,vi(e)),Nu(vh,t)}}function gh(e,t,n){e==="focusin"?(Fo(),Nr=t,Dr=n,Nr.attachEvent("onpropertychange",Wu)):e==="focusout"&&Fo()}function xh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return al(Dr)}function jh(e,t){if(e==="click")return al(t)}function Nh(e,t){if(e==="input"||e==="change")return al(t)}function wh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ft=typeof Object.is=="function"?Object.is:wh;function Mr(e,t){if(ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!oa.call(t,s)||!ft(e[s],t[s]))return!1}return!0}function Uo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wo(e,t){var n=Uo(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uo(n)}}function Bu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vu(){for(var e=window,t=Rs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Rs(e.document)}return t}function Ci(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kh(e){var t=Vu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Bu(n.ownerDocument.documentElement,n)){if(r!==null&&Ci(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=Wo(n,a);var i=Wo(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sh=Et&&"documentMode"in document&&11>=document.documentMode,Pn=null,Pa=null,wr=null,_a=!1;function Bo(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_a||Pn==null||Pn!==Rs(r)||(r=Pn,"selectionStart"in r&&Ci(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wr&&Mr(wr,r)||(wr=r,r=zs(Pa,"onSelect"),0<r.length&&(t=new wi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Pn)))}function us(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _n={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionend:us("Transition","TransitionEnd")},bl={},Qu={};Et&&(Qu=document.createElement("div").style,"AnimationEvent"in window||(delete _n.animationend.animation,delete _n.animationiteration.animation,delete _n.animationstart.animation),"TransitionEvent"in window||delete _n.transitionend.transition);function il(e){if(bl[e])return bl[e];if(!_n[e])return e;var t=_n[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Qu)return bl[e]=t[n];return e}var Hu=il("animationend"),Ku=il("animationiteration"),Yu=il("animationstart"),Xu=il("transitionend"),Gu=new Map,Vo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function en(e,t){Gu.set(e,t),gn(t,[e])}for(var Fl=0;Fl<Vo.length;Fl++){var Ul=Vo[Fl],Ch=Ul.toLowerCase(),Eh=Ul[0].toUpperCase()+Ul.slice(1);en(Ch,"on"+Eh)}en(Hu,"onAnimationEnd");en(Ku,"onAnimationIteration");en(Yu,"onAnimationStart");en("dblclick","onDoubleClick");en("focusin","onFocus");en("focusout","onBlur");en(Xu,"onTransitionEnd");Wn("onMouseEnter",["mouseout","mouseover"]);Wn("onMouseLeave",["mouseout","mouseover"]);Wn("onPointerEnter",["pointerout","pointerover"]);Wn("onPointerLeave",["pointerout","pointerover"]);gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ph=new Set("cancel close invalid load scroll toggle".split(" ").concat(yr));function Qo(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Cm(r,t,void 0,e),e.currentTarget=null}function qu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&s.isPropagationStopped())break e;Qo(s,o,u),a=c}else for(i=0;i<r.length;i++){if(o=r[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&s.isPropagationStopped())break e;Qo(s,o,u),a=c}}}if(Is)throw e=ka,Is=!1,ka=null,e}function J(e,t){var n=t[Ia];n===void 0&&(n=t[Ia]=new Set);var r=e+"__bubble";n.has(r)||(Ju(t,e,2,!1),n.add(r))}function Wl(e,t,n){var r=0;t&&(r|=4),Ju(n,e,r,t)}var ds="_reactListening"+Math.random().toString(36).slice(2);function Or(e){if(!e[ds]){e[ds]=!0,lu.forEach(function(n){n!=="selectionchange"&&(Ph.has(n)||Wl(n,!1,e),Wl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ds]||(t[ds]=!0,Wl("selectionchange",!1,t))}}function Ju(e,t,n,r){switch(Mu(t)){case 1:var s=Um;break;case 4:s=Wm;break;default:s=ji}n=s.bind(null,t,n,e),s=void 0,!wa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Bl(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;o!==null;){if(i=an(o),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}o=o.parentNode}}r=r.return}Nu(function(){var u=a,f=vi(n),h=[];e:{var m=Gu.get(e);if(m!==void 0){var v=wi,y=e;switch(e){case"keypress":if(ks(n)===0)break e;case"keydown":case"keyup":v=rh;break;case"focusin":y="focus",v=Ol;break;case"focusout":y="blur",v=Ol;break;case"beforeblur":case"afterblur":v=Ol;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Qm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=ah;break;case Hu:case Ku:case Yu:v=Ym;break;case Xu:v=oh;break;case"scroll":v=Bm;break;case"wheel":v=uh;break;case"copy":case"cut":case"paste":v=Gm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Mo}var p=(t&4)!==0,N=!p&&e==="scroll",g=p?m!==null?m+"Capture":null:m;p=[];for(var d=u,x;d!==null;){x=d;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,g!==null&&(w=Tr(d,g),w!=null&&p.push($r(d,w,x)))),N)break;d=d.return}0<p.length&&(m=new v(m,y,null,n,f),h.push({event:m,listeners:p}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==ja&&(y=n.relatedTarget||n.fromElement)&&(an(y)||y[Pt]))break e;if((v||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=u,y=y?an(y):null,y!==null&&(N=xn(y),y!==N||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(p=Io,w="onMouseLeave",g="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(p=Mo,w="onPointerLeave",g="onPointerEnter",d="pointer"),N=v==null?m:Ln(v),x=y==null?m:Ln(y),m=new p(w,d+"leave",v,n,f),m.target=N,m.relatedTarget=x,w=null,an(f)===u&&(p=new p(g,d+"enter",y,n,f),p.target=x,p.relatedTarget=N,w=p),N=w,v&&y)t:{for(p=v,g=y,d=0,x=p;x;x=wn(x))d++;for(x=0,w=g;w;w=wn(w))x++;for(;0<d-x;)p=wn(p),d--;for(;0<x-d;)g=wn(g),x--;for(;d--;){if(p===g||g!==null&&p===g.alternate)break t;p=wn(p),g=wn(g)}p=null}else p=null;v!==null&&Ho(h,m,v,p,!1),y!==null&&N!==null&&Ho(h,N,y,p,!0)}}e:{if(m=u?Ln(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var k=yh;else if(zo(m))if(Uu)k=Nh;else{k=xh;var _=gh}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=jh);if(k&&(k=k(e,u))){Fu(h,k,n,f);break e}_&&_(e,m,u),e==="focusout"&&(_=m._wrapperState)&&_.controlled&&m.type==="number"&&pa(m,"number",m.value)}switch(_=u?Ln(u):window,e){case"focusin":(zo(_)||_.contentEditable==="true")&&(Pn=_,Pa=u,wr=null);break;case"focusout":wr=Pa=Pn=null;break;case"mousedown":_a=!0;break;case"contextmenu":case"mouseup":case"dragend":_a=!1,Bo(h,n,f);break;case"selectionchange":if(Sh)break;case"keydown":case"keyup":Bo(h,n,f)}var P;if(Si)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else En?zu(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&($u&&n.locale!=="ko"&&(En||L!=="onCompositionStart"?L==="onCompositionEnd"&&En&&(P=Ou()):(bt=f,Ni="value"in bt?bt.value:bt.textContent,En=!0)),_=zs(u,L),0<_.length&&(L=new Do(L,e,null,n,f),h.push({event:L,listeners:_}),P?L.data=P:(P=bu(n),P!==null&&(L.data=P)))),(P=fh?mh(e,n):hh(e,n))&&(u=zs(u,"onBeforeInput"),0<u.length&&(f=new Do("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=P))}qu(h,t)})}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zs(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Tr(e,n),a!=null&&r.unshift($r(e,a,s)),a=Tr(e,t),a!=null&&r.push($r(e,a,s))),e=e.return}return r}function wn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ho(e,t,n,r,s){for(var a=t._reactName,i=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,s?(c=Tr(n,a),c!=null&&i.unshift($r(n,c,o))):s||(c=Tr(n,a),c!=null&&i.push($r(n,c,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var _h=/\r\n?/g,Lh=/\u0000|\uFFFD/g;function Ko(e){return(typeof e=="string"?e:""+e).replace(_h,`
`).replace(Lh,"")}function fs(e,t,n){if(t=Ko(t),Ko(e)!==t&&n)throw Error(E(425))}function bs(){}var La=null,Ta=null;function Ra(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Aa=typeof setTimeout=="function"?setTimeout:void 0,Th=typeof clearTimeout=="function"?clearTimeout:void 0,Yo=typeof Promise=="function"?Promise:void 0,Rh=typeof queueMicrotask=="function"?queueMicrotask:typeof Yo<"u"?function(e){return Yo.resolve(null).then(e).catch(Ah)}:Aa;function Ah(e){setTimeout(function(){throw e})}function Vl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ir(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ir(t)}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zn=Math.random().toString(36).slice(2),yt="__reactFiber$"+Zn,zr="__reactProps$"+Zn,Pt="__reactContainer$"+Zn,Ia="__reactEvents$"+Zn,Ih="__reactListeners$"+Zn,Dh="__reactHandles$"+Zn;function an(e){var t=e[yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pt]||n[yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xo(e);e!==null;){if(n=e[yt])return n;e=Xo(e)}return t}e=n,n=e.parentNode}return null}function qr(e){return e=e[yt]||e[Pt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ln(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function ol(e){return e[zr]||null}var Da=[],Tn=-1;function tn(e){return{current:e}}function Z(e){0>Tn||(e.current=Da[Tn],Da[Tn]=null,Tn--)}function G(e,t){Tn++,Da[Tn]=e.current,e.current=t}var Zt={},Ee=tn(Zt),$e=tn(!1),mn=Zt;function Bn(e,t){var n=e.type.contextTypes;if(!n)return Zt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ze(e){return e=e.childContextTypes,e!=null}function Fs(){Z($e),Z(Ee)}function Go(e,t,n){if(Ee.current!==Zt)throw Error(E(168));G(Ee,t),G($e,n)}function Zu(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(E(108,gm(e)||"Unknown",s));return ie({},n,r)}function Us(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zt,mn=Ee.current,G(Ee,e),G($e,$e.current),!0}function qo(e,t,n){var r=e.stateNode;if(!r)throw Error(E(169));n?(e=Zu(e,t,mn),r.__reactInternalMemoizedMergedChildContext=e,Z($e),Z(Ee),G(Ee,e)):Z($e),G($e,n)}var Nt=null,cl=!1,Ql=!1;function ed(e){Nt===null?Nt=[e]:Nt.push(e)}function Mh(e){cl=!0,ed(e)}function nn(){if(!Ql&&Nt!==null){Ql=!0;var e=0,t=Q;try{var n=Nt;for(Q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Nt=null,cl=!1}catch(s){throw Nt!==null&&(Nt=Nt.slice(e+1)),Cu(yi,nn),s}finally{Q=t,Ql=!1}}return null}var Rn=[],An=0,Ws=null,Bs=0,Ge=[],qe=0,hn=null,kt=1,St="";function sn(e,t){Rn[An++]=Bs,Rn[An++]=Ws,Ws=e,Bs=t}function td(e,t,n){Ge[qe++]=kt,Ge[qe++]=St,Ge[qe++]=hn,hn=e;var r=kt;e=St;var s=32-ut(r)-1;r&=~(1<<s),n+=1;var a=32-ut(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,kt=1<<32-ut(t)+s|n<<s|r,St=a+e}else kt=1<<a|n<<s|r,St=e}function Ei(e){e.return!==null&&(sn(e,1),td(e,1,0))}function Pi(e){for(;e===Ws;)Ws=Rn[--An],Rn[An]=null,Bs=Rn[--An],Rn[An]=null;for(;e===hn;)hn=Ge[--qe],Ge[qe]=null,St=Ge[--qe],Ge[qe]=null,kt=Ge[--qe],Ge[qe]=null}var Be=null,We=null,ne=!1,ct=null;function nd(e,t){var n=Je(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Jo(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Be=e,We=Qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Be=e,We=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hn!==null?{id:kt,overflow:St}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Je(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Be=e,We=null,!0):!1;default:return!1}}function Ma(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Oa(e){if(ne){var t=We;if(t){var n=t;if(!Jo(e,t)){if(Ma(e))throw Error(E(418));t=Qt(n.nextSibling);var r=Be;t&&Jo(e,t)?nd(r,n):(e.flags=e.flags&-4097|2,ne=!1,Be=e)}}else{if(Ma(e))throw Error(E(418));e.flags=e.flags&-4097|2,ne=!1,Be=e}}}function Zo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Be=e}function ms(e){if(e!==Be)return!1;if(!ne)return Zo(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ra(e.type,e.memoizedProps)),t&&(t=We)){if(Ma(e))throw rd(),Error(E(418));for(;t;)nd(e,t),t=Qt(t.nextSibling)}if(Zo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){We=Qt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}We=null}}else We=Be?Qt(e.stateNode.nextSibling):null;return!0}function rd(){for(var e=We;e;)e=Qt(e.nextSibling)}function Vn(){We=Be=null,ne=!1}function _i(e){ct===null?ct=[e]:ct.push(e)}var Oh=Tt.ReactCurrentBatchConfig;function dr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=s.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,e))}return e}function hs(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ec(e){var t=e._init;return t(e._payload)}function sd(e){function t(g,d){if(e){var x=g.deletions;x===null?(g.deletions=[d],g.flags|=16):x.push(d)}}function n(g,d){if(!e)return null;for(;d!==null;)t(g,d),d=d.sibling;return null}function r(g,d){for(g=new Map;d!==null;)d.key!==null?g.set(d.key,d):g.set(d.index,d),d=d.sibling;return g}function s(g,d){return g=Xt(g,d),g.index=0,g.sibling=null,g}function a(g,d,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<d?(g.flags|=2,d):x):(g.flags|=2,d)):(g.flags|=1048576,d)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,d,x,w){return d===null||d.tag!==6?(d=Jl(x,g.mode,w),d.return=g,d):(d=s(d,x),d.return=g,d)}function c(g,d,x,w){var k=x.type;return k===Cn?f(g,d,x.props.children,w,x.key):d!==null&&(d.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Mt&&ec(k)===d.type)?(w=s(d,x.props),w.ref=dr(g,d,x),w.return=g,w):(w=Ts(x.type,x.key,x.props,null,g.mode,w),w.ref=dr(g,d,x),w.return=g,w)}function u(g,d,x,w){return d===null||d.tag!==4||d.stateNode.containerInfo!==x.containerInfo||d.stateNode.implementation!==x.implementation?(d=Zl(x,g.mode,w),d.return=g,d):(d=s(d,x.children||[]),d.return=g,d)}function f(g,d,x,w,k){return d===null||d.tag!==7?(d=fn(x,g.mode,w,k),d.return=g,d):(d=s(d,x),d.return=g,d)}function h(g,d,x){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Jl(""+d,g.mode,x),d.return=g,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case rs:return x=Ts(d.type,d.key,d.props,null,g.mode,x),x.ref=dr(g,null,d),x.return=g,x;case Sn:return d=Zl(d,g.mode,x),d.return=g,d;case Mt:var w=d._init;return h(g,w(d._payload),x)}if(pr(d)||ar(d))return d=fn(d,g.mode,x,null),d.return=g,d;hs(g,d)}return null}function m(g,d,x,w){var k=d!==null?d.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:o(g,d,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case rs:return x.key===k?c(g,d,x,w):null;case Sn:return x.key===k?u(g,d,x,w):null;case Mt:return k=x._init,m(g,d,k(x._payload),w)}if(pr(x)||ar(x))return k!==null?null:f(g,d,x,w,null);hs(g,x)}return null}function v(g,d,x,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(x)||null,o(d,g,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rs:return g=g.get(w.key===null?x:w.key)||null,c(d,g,w,k);case Sn:return g=g.get(w.key===null?x:w.key)||null,u(d,g,w,k);case Mt:var _=w._init;return v(g,d,x,_(w._payload),k)}if(pr(w)||ar(w))return g=g.get(x)||null,f(d,g,w,k,null);hs(d,w)}return null}function y(g,d,x,w){for(var k=null,_=null,P=d,L=d=0,O=null;P!==null&&L<x.length;L++){P.index>L?(O=P,P=null):O=P.sibling;var A=m(g,P,x[L],w);if(A===null){P===null&&(P=O);break}e&&P&&A.alternate===null&&t(g,P),d=a(A,d,L),_===null?k=A:_.sibling=A,_=A,P=O}if(L===x.length)return n(g,P),ne&&sn(g,L),k;if(P===null){for(;L<x.length;L++)P=h(g,x[L],w),P!==null&&(d=a(P,d,L),_===null?k=P:_.sibling=P,_=P);return ne&&sn(g,L),k}for(P=r(g,P);L<x.length;L++)O=v(P,g,L,x[L],w),O!==null&&(e&&O.alternate!==null&&P.delete(O.key===null?L:O.key),d=a(O,d,L),_===null?k=O:_.sibling=O,_=O);return e&&P.forEach(function(ee){return t(g,ee)}),ne&&sn(g,L),k}function p(g,d,x,w){var k=ar(x);if(typeof k!="function")throw Error(E(150));if(x=k.call(x),x==null)throw Error(E(151));for(var _=k=null,P=d,L=d=0,O=null,A=x.next();P!==null&&!A.done;L++,A=x.next()){P.index>L?(O=P,P=null):O=P.sibling;var ee=m(g,P,A.value,w);if(ee===null){P===null&&(P=O);break}e&&P&&ee.alternate===null&&t(g,P),d=a(ee,d,L),_===null?k=ee:_.sibling=ee,_=ee,P=O}if(A.done)return n(g,P),ne&&sn(g,L),k;if(P===null){for(;!A.done;L++,A=x.next())A=h(g,A.value,w),A!==null&&(d=a(A,d,L),_===null?k=A:_.sibling=A,_=A);return ne&&sn(g,L),k}for(P=r(g,P);!A.done;L++,A=x.next())A=v(P,g,L,A.value,w),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?L:A.key),d=a(A,d,L),_===null?k=A:_.sibling=A,_=A);return e&&P.forEach(function(Ne){return t(g,Ne)}),ne&&sn(g,L),k}function N(g,d,x,w){if(typeof x=="object"&&x!==null&&x.type===Cn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case rs:e:{for(var k=x.key,_=d;_!==null;){if(_.key===k){if(k=x.type,k===Cn){if(_.tag===7){n(g,_.sibling),d=s(_,x.props.children),d.return=g,g=d;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Mt&&ec(k)===_.type){n(g,_.sibling),d=s(_,x.props),d.ref=dr(g,_,x),d.return=g,g=d;break e}n(g,_);break}else t(g,_);_=_.sibling}x.type===Cn?(d=fn(x.props.children,g.mode,w,x.key),d.return=g,g=d):(w=Ts(x.type,x.key,x.props,null,g.mode,w),w.ref=dr(g,d,x),w.return=g,g=w)}return i(g);case Sn:e:{for(_=x.key;d!==null;){if(d.key===_)if(d.tag===4&&d.stateNode.containerInfo===x.containerInfo&&d.stateNode.implementation===x.implementation){n(g,d.sibling),d=s(d,x.children||[]),d.return=g,g=d;break e}else{n(g,d);break}else t(g,d);d=d.sibling}d=Zl(x,g.mode,w),d.return=g,g=d}return i(g);case Mt:return _=x._init,N(g,d,_(x._payload),w)}if(pr(x))return y(g,d,x,w);if(ar(x))return p(g,d,x,w);hs(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,d!==null&&d.tag===6?(n(g,d.sibling),d=s(d,x),d.return=g,g=d):(n(g,d),d=Jl(x,g.mode,w),d.return=g,g=d),i(g)):n(g,d)}return N}var Qn=sd(!0),ld=sd(!1),Vs=tn(null),Qs=null,In=null,Li=null;function Ti(){Li=In=Qs=null}function Ri(e){var t=Vs.current;Z(Vs),e._currentValue=t}function $a(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fn(e,t){Qs=e,Li=In=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Oe=!0),e.firstContext=null)}function tt(e){var t=e._currentValue;if(Li!==e)if(e={context:e,memoizedValue:t,next:null},In===null){if(Qs===null)throw Error(E(308));In=e,Qs.dependencies={lanes:0,firstContext:e}}else In=In.next=e;return t}var on=null;function Ai(e){on===null?on=[e]:on.push(e)}function ad(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Ai(t)):(n.next=s.next,s.next=n),t.interleaved=n,_t(e,r)}function _t(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ot=!1;function Ii(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function id(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ct(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ht(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,_t(e,n)}return s=r.interleaved,s===null?(t.next=t,Ai(r)):(t.next=s.next,s.next=t),r.interleaved=t,_t(e,n)}function Ss(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gi(e,n)}}function tc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hs(e,t,n,r){var s=e.updateQueue;Ot=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==i&&(o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;i=0,f=u=c=null,o=a;do{var m=o.lane,v=o.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,p=o;switch(m=t,v=n,p.tag){case 1:if(y=p.payload,typeof y=="function"){h=y.call(v,h,m);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=p.payload,m=typeof y=="function"?y.call(v,h,m):y,m==null)break e;h=ie({},h,m);break e;case 2:Ot=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[o]:m.push(o))}else v={eventTime:v,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=v,c=h):f=f.next=v,i|=m;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;m=o,o=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);vn|=i,e.lanes=i,e.memoizedState=h}}function nc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(E(191,s));s.call(r)}}}var Jr={},xt=tn(Jr),br=tn(Jr),Fr=tn(Jr);function cn(e){if(e===Jr)throw Error(E(174));return e}function Di(e,t){switch(G(Fr,t),G(br,e),G(xt,Jr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ya(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ya(t,e)}Z(xt),G(xt,t)}function Hn(){Z(xt),Z(br),Z(Fr)}function od(e){cn(Fr.current);var t=cn(xt.current),n=ya(t,e.type);t!==n&&(G(br,e),G(xt,n))}function Mi(e){br.current===e&&(Z(xt),Z(br))}var se=tn(0);function Ks(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hl=[];function Oi(){for(var e=0;e<Hl.length;e++)Hl[e]._workInProgressVersionPrimary=null;Hl.length=0}var Cs=Tt.ReactCurrentDispatcher,Kl=Tt.ReactCurrentBatchConfig,pn=0,le=null,de=null,ve=null,Ys=!1,kr=!1,Ur=0,$h=0;function ke(){throw Error(E(321))}function $i(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ft(e[n],t[n]))return!1;return!0}function zi(e,t,n,r,s,a){if(pn=a,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cs.current=e===null||e.memoizedState===null?Uh:Wh,e=n(r,s),kr){a=0;do{if(kr=!1,Ur=0,25<=a)throw Error(E(301));a+=1,ve=de=null,t.updateQueue=null,Cs.current=Bh,e=n(r,s)}while(kr)}if(Cs.current=Xs,t=de!==null&&de.next!==null,pn=0,ve=de=le=null,Ys=!1,t)throw Error(E(300));return e}function bi(){var e=Ur!==0;return Ur=0,e}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?le.memoizedState=ve=e:ve=ve.next=e,ve}function nt(){if(de===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=de.next;var t=ve===null?le.memoizedState:ve.next;if(t!==null)ve=t,de=e;else{if(e===null)throw Error(E(310));de=e,e={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},ve===null?le.memoizedState=ve=e:ve=ve.next=e}return ve}function Wr(e,t){return typeof t=="function"?t(e):t}function Yl(e){var t=nt(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=de,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var o=i=null,c=null,u=a;do{var f=u.lane;if((pn&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,i=r):c=c.next=h,le.lanes|=f,vn|=f}u=u.next}while(u!==null&&u!==a);c===null?i=r:c.next=o,ft(r,t.memoizedState)||(Oe=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,le.lanes|=a,vn|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xl(e){var t=nt(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);ft(a,t.memoizedState)||(Oe=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function cd(){}function ud(e,t){var n=le,r=nt(),s=t(),a=!ft(r.memoizedState,s);if(a&&(r.memoizedState=s,Oe=!0),r=r.queue,Fi(md.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||ve!==null&&ve.memoizedState.tag&1){if(n.flags|=2048,Br(9,fd.bind(null,n,r,s,t),void 0,null),ye===null)throw Error(E(349));pn&30||dd(n,t,s)}return s}function dd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function fd(e,t,n,r){t.value=n,t.getSnapshot=r,hd(t)&&pd(e)}function md(e,t,n){return n(function(){hd(t)&&pd(e)})}function hd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ft(e,n)}catch{return!0}}function pd(e){var t=_t(e,1);t!==null&&dt(t,e,1,-1)}function rc(e){var t=vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:e},t.queue=e,e=e.dispatch=Fh.bind(null,le,e),[t.memoizedState,e]}function Br(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function vd(){return nt().memoizedState}function Es(e,t,n,r){var s=vt();le.flags|=e,s.memoizedState=Br(1|t,n,void 0,r===void 0?null:r)}function ul(e,t,n,r){var s=nt();r=r===void 0?null:r;var a=void 0;if(de!==null){var i=de.memoizedState;if(a=i.destroy,r!==null&&$i(r,i.deps)){s.memoizedState=Br(t,n,a,r);return}}le.flags|=e,s.memoizedState=Br(1|t,n,a,r)}function sc(e,t){return Es(8390656,8,e,t)}function Fi(e,t){return ul(2048,8,e,t)}function yd(e,t){return ul(4,2,e,t)}function gd(e,t){return ul(4,4,e,t)}function xd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jd(e,t,n){return n=n!=null?n.concat([e]):null,ul(4,4,xd.bind(null,t,e),n)}function Ui(){}function Nd(e,t){var n=nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$i(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function wd(e,t){var n=nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$i(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function kd(e,t,n){return pn&21?(ft(n,t)||(n=_u(),le.lanes|=n,vn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Oe=!0),e.memoizedState=n)}function zh(e,t){var n=Q;Q=n!==0&&4>n?n:4,e(!0);var r=Kl.transition;Kl.transition={};try{e(!1),t()}finally{Q=n,Kl.transition=r}}function Sd(){return nt().memoizedState}function bh(e,t,n){var r=Yt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Cd(e))Ed(t,n);else if(n=ad(e,t,n,r),n!==null){var s=Te();dt(n,e,r,s),Pd(n,t,r)}}function Fh(e,t,n){var r=Yt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cd(e))Ed(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(s.hasEagerState=!0,s.eagerState=o,ft(o,i)){var c=t.interleaved;c===null?(s.next=s,Ai(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=ad(e,t,s,r),n!==null&&(s=Te(),dt(n,e,r,s),Pd(n,t,r))}}function Cd(e){var t=e.alternate;return e===le||t!==null&&t===le}function Ed(e,t){kr=Ys=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Pd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gi(e,n)}}var Xs={readContext:tt,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},Uh={readContext:tt,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:tt,useEffect:sc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Es(4194308,4,xd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Es(4194308,4,e,t)},useInsertionEffect:function(e,t){return Es(4,2,e,t)},useMemo:function(e,t){var n=vt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=bh.bind(null,le,e),[r.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:rc,useDebugValue:Ui,useDeferredValue:function(e){return vt().memoizedState=e},useTransition:function(){var e=rc(!1),t=e[0];return e=zh.bind(null,e[1]),vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=le,s=vt();if(ne){if(n===void 0)throw Error(E(407));n=n()}else{if(n=t(),ye===null)throw Error(E(349));pn&30||dd(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,sc(md.bind(null,r,a,e),[e]),r.flags|=2048,Br(9,fd.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=vt(),t=ye.identifierPrefix;if(ne){var n=St,r=kt;n=(r&~(1<<32-ut(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ur++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=$h++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Wh={readContext:tt,useCallback:Nd,useContext:tt,useEffect:Fi,useImperativeHandle:jd,useInsertionEffect:yd,useLayoutEffect:gd,useMemo:wd,useReducer:Yl,useRef:vd,useState:function(){return Yl(Wr)},useDebugValue:Ui,useDeferredValue:function(e){var t=nt();return kd(t,de.memoizedState,e)},useTransition:function(){var e=Yl(Wr)[0],t=nt().memoizedState;return[e,t]},useMutableSource:cd,useSyncExternalStore:ud,useId:Sd,unstable_isNewReconciler:!1},Bh={readContext:tt,useCallback:Nd,useContext:tt,useEffect:Fi,useImperativeHandle:jd,useInsertionEffect:yd,useLayoutEffect:gd,useMemo:wd,useReducer:Xl,useRef:vd,useState:function(){return Xl(Wr)},useDebugValue:Ui,useDeferredValue:function(e){var t=nt();return de===null?t.memoizedState=e:kd(t,de.memoizedState,e)},useTransition:function(){var e=Xl(Wr)[0],t=nt().memoizedState;return[e,t]},useMutableSource:cd,useSyncExternalStore:ud,useId:Sd,unstable_isNewReconciler:!1};function it(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function za(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var dl={isMounted:function(e){return(e=e._reactInternals)?xn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Te(),s=Yt(e),a=Ct(r,s);a.payload=t,n!=null&&(a.callback=n),t=Ht(e,a,s),t!==null&&(dt(t,e,s,r),Ss(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Te(),s=Yt(e),a=Ct(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ht(e,a,s),t!==null&&(dt(t,e,s,r),Ss(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Te(),r=Yt(e),s=Ct(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ht(e,s,r),t!==null&&(dt(t,e,r,n),Ss(t,e,r))}};function lc(e,t,n,r,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!Mr(n,r)||!Mr(s,a):!0}function _d(e,t,n){var r=!1,s=Zt,a=t.contextType;return typeof a=="object"&&a!==null?a=tt(a):(s=ze(t)?mn:Ee.current,r=t.contextTypes,a=(r=r!=null)?Bn(e,s):Zt),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=dl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function ac(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&dl.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ii(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=tt(a):(a=ze(t)?mn:Ee.current,s.context=Bn(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(za(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&dl.enqueueReplaceState(s,s.state,null),Hs(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Kn(e,t){try{var n="",r=t;do n+=ym(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Gl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Fa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Vh=typeof WeakMap=="function"?WeakMap:Map;function Ld(e,t,n){n=Ct(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qs||(qs=!0,Ga=r),Fa(e,t)},n}function Td(e,t,n){n=Ct(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Fa(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Fa(e,t),typeof r!="function"&&(Kt===null?Kt=new Set([this]):Kt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function ic(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Vh;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=sp.bind(null,e,t,n),t.then(e,e))}function oc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ct(-1,1),t.tag=2,Ht(n,t,1))),n.lanes|=1),e)}var Qh=Tt.ReactCurrentOwner,Oe=!1;function Le(e,t,n,r){t.child=e===null?ld(t,null,n,r):Qn(t,e.child,n,r)}function uc(e,t,n,r,s){n=n.render;var a=t.ref;return Fn(t,s),r=zi(e,t,n,r,a,s),n=bi(),e!==null&&!Oe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Lt(e,t,s)):(ne&&n&&Ei(t),t.flags|=1,Le(e,t,r,s),t.child)}function dc(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!Xi(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Rd(e,t,a,r,s)):(e=Ts(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:Mr,n(i,r)&&e.ref===t.ref)return Lt(e,t,s)}return t.flags|=1,e=Xt(a,r),e.ref=t.ref,e.return=t,t.child=e}function Rd(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(Mr(a,r)&&e.ref===t.ref)if(Oe=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(Oe=!0);else return t.lanes=e.lanes,Lt(e,t,s)}return Ua(e,t,n,r,s)}function Ad(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(Mn,Ue),Ue|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,G(Mn,Ue),Ue|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,G(Mn,Ue),Ue|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,G(Mn,Ue),Ue|=r;return Le(e,t,s,n),t.child}function Id(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ua(e,t,n,r,s){var a=ze(n)?mn:Ee.current;return a=Bn(t,a),Fn(t,s),n=zi(e,t,n,r,a,s),r=bi(),e!==null&&!Oe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Lt(e,t,s)):(ne&&r&&Ei(t),t.flags|=1,Le(e,t,n,s),t.child)}function fc(e,t,n,r,s){if(ze(n)){var a=!0;Us(t)}else a=!1;if(Fn(t,s),t.stateNode===null)Ps(e,t),_d(t,n,r),ba(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=tt(u):(u=ze(n)?mn:Ee.current,u=Bn(t,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==r||c!==u)&&ac(t,i,r,u),Ot=!1;var m=t.memoizedState;i.state=m,Hs(t,r,i,s),c=t.memoizedState,o!==r||m!==c||$e.current||Ot?(typeof f=="function"&&(za(t,n,f,r),c=t.memoizedState),(o=Ot||lc(t,n,o,r,m,c,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,id(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:it(t.type,o),i.props=u,h=t.pendingProps,m=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=tt(c):(c=ze(n)?mn:Ee.current,c=Bn(t,c));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==h||m!==c)&&ac(t,i,r,c),Ot=!1,m=t.memoizedState,i.state=m,Hs(t,r,i,s);var y=t.memoizedState;o!==h||m!==y||$e.current||Ot?(typeof v=="function"&&(za(t,n,v,r),y=t.memoizedState),(u=Ot||lc(t,n,u,r,m,y,c)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),i.props=r,i.state=y,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Wa(e,t,n,r,a,s)}function Wa(e,t,n,r,s,a){Id(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&qo(t,n,!1),Lt(e,t,a);r=t.stateNode,Qh.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Qn(t,e.child,null,a),t.child=Qn(t,null,o,a)):Le(e,t,o,a),t.memoizedState=r.state,s&&qo(t,n,!0),t.child}function Dd(e){var t=e.stateNode;t.pendingContext?Go(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Go(e,t.context,!1),Di(e,t.containerInfo)}function mc(e,t,n,r,s){return Vn(),_i(s),t.flags|=256,Le(e,t,n,r),t.child}var Ba={dehydrated:null,treeContext:null,retryLane:0};function Va(e){return{baseLanes:e,cachePool:null,transitions:null}}function Md(e,t,n){var r=t.pendingProps,s=se.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),G(se,s&1),e===null)return Oa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=hl(i,r,0,null),e=fn(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Va(n),t.memoizedState=Ba,e):Wi(t,i));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Hh(e,t,i,r,o,s,n);if(a){a=r.fallback,i=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Xt(s,c),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?a=Xt(o,a):(a=fn(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?Va(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=Ba,r}return a=e.child,e=a.sibling,r=Xt(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Wi(e,t){return t=hl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ps(e,t,n,r){return r!==null&&_i(r),Qn(t,e.child,null,n),e=Wi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hh(e,t,n,r,s,a,i){if(n)return t.flags&256?(t.flags&=-257,r=Gl(Error(E(422))),ps(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=hl({mode:"visible",children:r.children},s,0,null),a=fn(a,s,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Qn(t,e.child,null,i),t.child.memoizedState=Va(i),t.memoizedState=Ba,a);if(!(t.mode&1))return ps(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(E(419)),r=Gl(a,r,void 0),ps(e,t,i,r)}if(o=(i&e.childLanes)!==0,Oe||o){if(r=ye,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,_t(e,s),dt(r,e,s,-1))}return Yi(),r=Gl(Error(E(421))),ps(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=lp.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,We=Qt(s.nextSibling),Be=t,ne=!0,ct=null,e!==null&&(Ge[qe++]=kt,Ge[qe++]=St,Ge[qe++]=hn,kt=e.id,St=e.overflow,hn=t),t=Wi(t,r.children),t.flags|=4096,t)}function hc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),$a(e.return,t,n)}function ql(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Od(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(Le(e,t,r.children,n),r=se.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hc(e,n,t);else if(e.tag===19)hc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(G(se,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ks(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ql(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ks(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ql(t,!0,n,null,a);break;case"together":ql(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ps(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,n=Xt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Kh(e,t,n){switch(t.tag){case 3:Dd(t),Vn();break;case 5:od(t);break;case 1:ze(t.type)&&Us(t);break;case 4:Di(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;G(Vs,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(G(se,se.current&1),t.flags|=128,null):n&t.child.childLanes?Md(e,t,n):(G(se,se.current&1),e=Lt(e,t,n),e!==null?e.sibling:null);G(se,se.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Od(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),G(se,se.current),r)break;return null;case 22:case 23:return t.lanes=0,Ad(e,t,n)}return Lt(e,t,n)}var $d,Qa,zd,bd;$d=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qa=function(){};zd=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,cn(xt.current);var a=null;switch(n){case"input":s=ma(e,s),r=ma(e,r),a=[];break;case"select":s=ie({},s,{value:void 0}),r=ie({},r,{value:void 0}),a=[];break;case"textarea":s=va(e,s),r=va(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bs)}ga(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_r.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_r.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&J("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};bd=function(e,t,n,r){n!==r&&(t.flags|=4)};function fr(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Se(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yh(e,t,n){var r=t.pendingProps;switch(Pi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(t),null;case 1:return ze(t.type)&&Fs(),Se(t),null;case 3:return r=t.stateNode,Hn(),Z($e),Z(Ee),Oi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ms(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ct!==null&&(Za(ct),ct=null))),Qa(e,t),Se(t),null;case 5:Mi(t);var s=cn(Fr.current);if(n=t.type,e!==null&&t.stateNode!=null)zd(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(E(166));return Se(t),null}if(e=cn(xt.current),ms(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[yt]=t,r[zr]=a,e=(t.mode&1)!==0,n){case"dialog":J("cancel",r),J("close",r);break;case"iframe":case"object":case"embed":J("load",r);break;case"video":case"audio":for(s=0;s<yr.length;s++)J(yr[s],r);break;case"source":J("error",r);break;case"img":case"image":case"link":J("error",r),J("load",r);break;case"details":J("toggle",r);break;case"input":ko(r,a),J("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},J("invalid",r);break;case"textarea":Co(r,a),J("invalid",r)}ga(n,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&fs(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&fs(r.textContent,o,e),s=["children",""+o]):_r.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&J("scroll",r)}switch(n){case"input":ss(r),So(r,a,!0);break;case"textarea":ss(r),Eo(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=bs)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[yt]=t,e[zr]=r,$d(e,t,!1,!1),t.stateNode=e;e:{switch(i=xa(n,r),n){case"dialog":J("cancel",e),J("close",e),s=r;break;case"iframe":case"object":case"embed":J("load",e),s=r;break;case"video":case"audio":for(s=0;s<yr.length;s++)J(yr[s],e);s=r;break;case"source":J("error",e),s=r;break;case"img":case"image":case"link":J("error",e),J("load",e),s=r;break;case"details":J("toggle",e),s=r;break;case"input":ko(e,r),s=ma(e,r),J("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ie({},r,{value:void 0}),J("invalid",e);break;case"textarea":Co(e,r),s=va(e,r),J("invalid",e);break;default:s=r}ga(n,s),o=s;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?vu(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&hu(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Lr(e,c):typeof c=="number"&&Lr(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(_r.hasOwnProperty(a)?c!=null&&a==="onScroll"&&J("scroll",e):c!=null&&fi(e,a,c,i))}switch(n){case"input":ss(e),So(e,r,!1);break;case"textarea":ss(e),Eo(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Jt(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?On(e,!!r.multiple,a,!1):r.defaultValue!=null&&On(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=bs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Se(t),null;case 6:if(e&&t.stateNode!=null)bd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(E(166));if(n=cn(Fr.current),cn(xt.current),ms(t)){if(r=t.stateNode,n=t.memoizedProps,r[yt]=t,(a=r.nodeValue!==n)&&(e=Be,e!==null))switch(e.tag){case 3:fs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fs(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yt]=t,t.stateNode=r}return Se(t),null;case 13:if(Z(se),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&We!==null&&t.mode&1&&!(t.flags&128))rd(),Vn(),t.flags|=98560,a=!1;else if(a=ms(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(E(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(E(317));a[yt]=t}else Vn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Se(t),a=!1}else ct!==null&&(Za(ct),ct=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||se.current&1?fe===0&&(fe=3):Yi())),t.updateQueue!==null&&(t.flags|=4),Se(t),null);case 4:return Hn(),Qa(e,t),e===null&&Or(t.stateNode.containerInfo),Se(t),null;case 10:return Ri(t.type._context),Se(t),null;case 17:return ze(t.type)&&Fs(),Se(t),null;case 19:if(Z(se),a=t.memoizedState,a===null)return Se(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)fr(a,!1);else{if(fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ks(e),i!==null){for(t.flags|=128,fr(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return G(se,se.current&1|2),t.child}e=e.sibling}a.tail!==null&&ce()>Yn&&(t.flags|=128,r=!0,fr(a,!1),t.lanes=4194304)}else{if(!r)if(e=Ks(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),fr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ne)return Se(t),null}else 2*ce()-a.renderingStartTime>Yn&&n!==1073741824&&(t.flags|=128,r=!0,fr(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ce(),t.sibling=null,n=se.current,G(se,r?n&1|2:n&1),t):(Se(t),null);case 22:case 23:return Ki(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ue&1073741824&&(Se(t),t.subtreeFlags&6&&(t.flags|=8192)):Se(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function Xh(e,t){switch(Pi(t),t.tag){case 1:return ze(t.type)&&Fs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hn(),Z($e),Z(Ee),Oi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Mi(t),null;case 13:if(Z(se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));Vn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(se),null;case 4:return Hn(),null;case 10:return Ri(t.type._context),null;case 22:case 23:return Ki(),null;case 24:return null;default:return null}}var vs=!1,Ce=!1,Gh=typeof WeakSet=="function"?WeakSet:Set,R=null;function Dn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){oe(e,t,r)}else n.current=null}function Ha(e,t,n){try{n()}catch(r){oe(e,t,r)}}var pc=!1;function qh(e,t){if(La=Os,e=Vu(),Ci(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,c=-1,u=0,f=0,h=e,m=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(o=i+s),h!==a||r!==0&&h.nodeType!==3||(c=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(v=h.firstChild)!==null;)m=h,h=v;for(;;){if(h===e)break t;if(m===n&&++u===s&&(o=i),m===a&&++f===r&&(c=i),(v=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=v}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ta={focusedElem:e,selectionRange:n},Os=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var p=y.memoizedProps,N=y.memoizedState,g=t.stateNode,d=g.getSnapshotBeforeUpdate(t.elementType===t.type?p:it(t.type,p),N);g.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(w){oe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return y=pc,pc=!1,y}function Sr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Ha(t,n,a)}s=s.next}while(s!==r)}}function fl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ka(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Fd(e){var t=e.alternate;t!==null&&(e.alternate=null,Fd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yt],delete t[zr],delete t[Ia],delete t[Ih],delete t[Dh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ud(e){return e.tag===5||e.tag===3||e.tag===4}function vc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ud(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ya(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bs));else if(r!==4&&(e=e.child,e!==null))for(Ya(e,t,n),e=e.sibling;e!==null;)Ya(e,t,n),e=e.sibling}function Xa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Xa(e,t,n),e=e.sibling;e!==null;)Xa(e,t,n),e=e.sibling}var ge=null,ot=!1;function Dt(e,t,n){for(n=n.child;n!==null;)Wd(e,t,n),n=n.sibling}function Wd(e,t,n){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(sl,n)}catch{}switch(n.tag){case 5:Ce||Dn(n,t);case 6:var r=ge,s=ot;ge=null,Dt(e,t,n),ge=r,ot=s,ge!==null&&(ot?(e=ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ge.removeChild(n.stateNode));break;case 18:ge!==null&&(ot?(e=ge,n=n.stateNode,e.nodeType===8?Vl(e.parentNode,n):e.nodeType===1&&Vl(e,n),Ir(e)):Vl(ge,n.stateNode));break;case 4:r=ge,s=ot,ge=n.stateNode.containerInfo,ot=!0,Dt(e,t,n),ge=r,ot=s;break;case 0:case 11:case 14:case 15:if(!Ce&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Ha(n,t,i),s=s.next}while(s!==r)}Dt(e,t,n);break;case 1:if(!Ce&&(Dn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){oe(n,t,o)}Dt(e,t,n);break;case 21:Dt(e,t,n);break;case 22:n.mode&1?(Ce=(r=Ce)||n.memoizedState!==null,Dt(e,t,n),Ce=r):Dt(e,t,n);break;default:Dt(e,t,n)}}function yc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Gh),t.forEach(function(r){var s=ap.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function lt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:ge=o.stateNode,ot=!1;break e;case 3:ge=o.stateNode.containerInfo,ot=!0;break e;case 4:ge=o.stateNode.containerInfo,ot=!0;break e}o=o.return}if(ge===null)throw Error(E(160));Wd(a,i,s),ge=null,ot=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){oe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Bd(t,e),t=t.sibling}function Bd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lt(t,e),pt(e),r&4){try{Sr(3,e,e.return),fl(3,e)}catch(p){oe(e,e.return,p)}try{Sr(5,e,e.return)}catch(p){oe(e,e.return,p)}}break;case 1:lt(t,e),pt(e),r&512&&n!==null&&Dn(n,n.return);break;case 5:if(lt(t,e),pt(e),r&512&&n!==null&&Dn(n,n.return),e.flags&32){var s=e.stateNode;try{Lr(s,"")}catch(p){oe(e,e.return,p)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&du(s,a),xa(o,i);var u=xa(o,a);for(i=0;i<c.length;i+=2){var f=c[i],h=c[i+1];f==="style"?vu(s,h):f==="dangerouslySetInnerHTML"?hu(s,h):f==="children"?Lr(s,h):fi(s,f,h,u)}switch(o){case"input":ha(s,a);break;case"textarea":fu(s,a);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?On(s,!!a.multiple,v,!1):m!==!!a.multiple&&(a.defaultValue!=null?On(s,!!a.multiple,a.defaultValue,!0):On(s,!!a.multiple,a.multiple?[]:"",!1))}s[zr]=a}catch(p){oe(e,e.return,p)}}break;case 6:if(lt(t,e),pt(e),r&4){if(e.stateNode===null)throw Error(E(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(p){oe(e,e.return,p)}}break;case 3:if(lt(t,e),pt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ir(t.containerInfo)}catch(p){oe(e,e.return,p)}break;case 4:lt(t,e),pt(e);break;case 13:lt(t,e),pt(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Qi=ce())),r&4&&yc(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Ce=(u=Ce)||f,lt(t,e),Ce=u):lt(t,e),pt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(R=e,f=e.child;f!==null;){for(h=R=f;R!==null;){switch(m=R,v=m.child,m.tag){case 0:case 11:case 14:case 15:Sr(4,m,m.return);break;case 1:Dn(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(p){oe(r,n,p)}}break;case 5:Dn(m,m.return);break;case 22:if(m.memoizedState!==null){xc(h);continue}}v!==null?(v.return=m,R=v):xc(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=pu("display",i))}catch(p){oe(e,e.return,p)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(p){oe(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:lt(t,e),pt(e),r&4&&yc(e);break;case 21:break;default:lt(t,e),pt(e)}}function pt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ud(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Lr(s,""),r.flags&=-33);var a=vc(e);Xa(e,a,s);break;case 3:case 4:var i=r.stateNode.containerInfo,o=vc(e);Ya(e,o,i);break;default:throw Error(E(161))}}catch(c){oe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jh(e,t,n){R=e,Vd(e)}function Vd(e,t,n){for(var r=(e.mode&1)!==0;R!==null;){var s=R,a=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||vs;if(!i){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Ce;o=vs;var u=Ce;if(vs=i,(Ce=c)&&!u)for(R=s;R!==null;)i=R,c=i.child,i.tag===22&&i.memoizedState!==null?jc(s):c!==null?(c.return=i,R=c):jc(s);for(;a!==null;)R=a,Vd(a),a=a.sibling;R=s,vs=o,Ce=u}gc(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,R=a):gc(e)}}function gc(e){for(;R!==null;){var t=R;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ce||fl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ce)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:it(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&nc(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}nc(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Ir(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Ce||t.flags&512&&Ka(t)}catch(m){oe(t,t.return,m)}}if(t===e){R=null;break}if(n=t.sibling,n!==null){n.return=t.return,R=n;break}R=t.return}}function xc(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var n=t.sibling;if(n!==null){n.return=t.return,R=n;break}R=t.return}}function jc(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fl(4,t)}catch(c){oe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){oe(t,s,c)}}var a=t.return;try{Ka(t)}catch(c){oe(t,a,c)}break;case 5:var i=t.return;try{Ka(t)}catch(c){oe(t,i,c)}}}catch(c){oe(t,t.return,c)}if(t===e){R=null;break}var o=t.sibling;if(o!==null){o.return=t.return,R=o;break}R=t.return}}var Zh=Math.ceil,Gs=Tt.ReactCurrentDispatcher,Bi=Tt.ReactCurrentOwner,et=Tt.ReactCurrentBatchConfig,W=0,ye=null,ue=null,xe=0,Ue=0,Mn=tn(0),fe=0,Vr=null,vn=0,ml=0,Vi=0,Cr=null,Me=null,Qi=0,Yn=1/0,jt=null,qs=!1,Ga=null,Kt=null,ys=!1,Ft=null,Js=0,Er=0,qa=null,_s=-1,Ls=0;function Te(){return W&6?ce():_s!==-1?_s:_s=ce()}function Yt(e){return e.mode&1?W&2&&xe!==0?xe&-xe:Oh.transition!==null?(Ls===0&&(Ls=_u()),Ls):(e=Q,e!==0||(e=window.event,e=e===void 0?16:Mu(e.type)),e):1}function dt(e,t,n,r){if(50<Er)throw Er=0,qa=null,Error(E(185));Xr(e,n,r),(!(W&2)||e!==ye)&&(e===ye&&(!(W&2)&&(ml|=n),fe===4&&zt(e,xe)),be(e,r),n===1&&W===0&&!(t.mode&1)&&(Yn=ce()+500,cl&&nn()))}function be(e,t){var n=e.callbackNode;Om(e,t);var r=Ms(e,e===ye?xe:0);if(r===0)n!==null&&Lo(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Lo(n),t===1)e.tag===0?Mh(Nc.bind(null,e)):ed(Nc.bind(null,e)),Rh(function(){!(W&6)&&nn()}),n=null;else{switch(Lu(r)){case 1:n=yi;break;case 4:n=Eu;break;case 16:n=Ds;break;case 536870912:n=Pu;break;default:n=Ds}n=Jd(n,Qd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Qd(e,t){if(_s=-1,Ls=0,W&6)throw Error(E(327));var n=e.callbackNode;if(Un()&&e.callbackNode!==n)return null;var r=Ms(e,e===ye?xe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Zs(e,r);else{t=r;var s=W;W|=2;var a=Kd();(ye!==e||xe!==t)&&(jt=null,Yn=ce()+500,dn(e,t));do try{np();break}catch(o){Hd(e,o)}while(!0);Ti(),Gs.current=a,W=s,ue!==null?t=0:(ye=null,xe=0,t=fe)}if(t!==0){if(t===2&&(s=Sa(e),s!==0&&(r=s,t=Ja(e,s))),t===1)throw n=Vr,dn(e,0),zt(e,r),be(e,ce()),n;if(t===6)zt(e,r);else{if(s=e.current.alternate,!(r&30)&&!ep(s)&&(t=Zs(e,r),t===2&&(a=Sa(e),a!==0&&(r=a,t=Ja(e,a))),t===1))throw n=Vr,dn(e,0),zt(e,r),be(e,ce()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(E(345));case 2:ln(e,Me,jt);break;case 3:if(zt(e,r),(r&130023424)===r&&(t=Qi+500-ce(),10<t)){if(Ms(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Te(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Aa(ln.bind(null,e,Me,jt),t);break}ln(e,Me,jt);break;case 4:if(zt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-ut(r);a=1<<i,i=t[i],i>s&&(s=i),r&=~a}if(r=s,r=ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Zh(r/1960))-r,10<r){e.timeoutHandle=Aa(ln.bind(null,e,Me,jt),r);break}ln(e,Me,jt);break;case 5:ln(e,Me,jt);break;default:throw Error(E(329))}}}return be(e,ce()),e.callbackNode===n?Qd.bind(null,e):null}function Ja(e,t){var n=Cr;return e.current.memoizedState.isDehydrated&&(dn(e,t).flags|=256),e=Zs(e,t),e!==2&&(t=Me,Me=n,t!==null&&Za(t)),e}function Za(e){Me===null?Me=e:Me.push.apply(Me,e)}function ep(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!ft(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zt(e,t){for(t&=~Vi,t&=~ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ut(t),r=1<<n;e[n]=-1,t&=~r}}function Nc(e){if(W&6)throw Error(E(327));Un();var t=Ms(e,0);if(!(t&1))return be(e,ce()),null;var n=Zs(e,t);if(e.tag!==0&&n===2){var r=Sa(e);r!==0&&(t=r,n=Ja(e,r))}if(n===1)throw n=Vr,dn(e,0),zt(e,t),be(e,ce()),n;if(n===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ln(e,Me,jt),be(e,ce()),null}function Hi(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(Yn=ce()+500,cl&&nn())}}function yn(e){Ft!==null&&Ft.tag===0&&!(W&6)&&Un();var t=W;W|=1;var n=et.transition,r=Q;try{if(et.transition=null,Q=1,e)return e()}finally{Q=r,et.transition=n,W=t,!(W&6)&&nn()}}function Ki(){Ue=Mn.current,Z(Mn)}function dn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Th(n)),ue!==null)for(n=ue.return;n!==null;){var r=n;switch(Pi(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fs();break;case 3:Hn(),Z($e),Z(Ee),Oi();break;case 5:Mi(r);break;case 4:Hn();break;case 13:Z(se);break;case 19:Z(se);break;case 10:Ri(r.type._context);break;case 22:case 23:Ki()}n=n.return}if(ye=e,ue=e=Xt(e.current,null),xe=Ue=t,fe=0,Vr=null,Vi=ml=vn=0,Me=Cr=null,on!==null){for(t=0;t<on.length;t++)if(n=on[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=s,r.next=i}n.pending=r}on=null}return e}function Hd(e,t){do{var n=ue;try{if(Ti(),Cs.current=Xs,Ys){for(var r=le.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ys=!1}if(pn=0,ve=de=le=null,kr=!1,Ur=0,Bi.current=null,n===null||n.return===null){fe=1,Vr=t,ue=null;break}e:{var a=e,i=n.return,o=n,c=t;if(t=xe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=o,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=oc(i);if(v!==null){v.flags&=-257,cc(v,i,o,a,t),v.mode&1&&ic(a,u,t),t=v,c=u;var y=t.updateQueue;if(y===null){var p=new Set;p.add(c),t.updateQueue=p}else y.add(c);break e}else{if(!(t&1)){ic(a,u,t),Yi();break e}c=Error(E(426))}}else if(ne&&o.mode&1){var N=oc(i);if(N!==null){!(N.flags&65536)&&(N.flags|=256),cc(N,i,o,a,t),_i(Kn(c,o));break e}}a=c=Kn(c,o),fe!==4&&(fe=2),Cr===null?Cr=[a]:Cr.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=Ld(a,c,t);tc(a,g);break e;case 1:o=c;var d=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof d.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Kt===null||!Kt.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=Td(a,o,t);tc(a,w);break e}}a=a.return}while(a!==null)}Xd(n)}catch(k){t=k,ue===n&&n!==null&&(ue=n=n.return);continue}break}while(!0)}function Kd(){var e=Gs.current;return Gs.current=Xs,e===null?Xs:e}function Yi(){(fe===0||fe===3||fe===2)&&(fe=4),ye===null||!(vn&268435455)&&!(ml&268435455)||zt(ye,xe)}function Zs(e,t){var n=W;W|=2;var r=Kd();(ye!==e||xe!==t)&&(jt=null,dn(e,t));do try{tp();break}catch(s){Hd(e,s)}while(!0);if(Ti(),W=n,Gs.current=r,ue!==null)throw Error(E(261));return ye=null,xe=0,fe}function tp(){for(;ue!==null;)Yd(ue)}function np(){for(;ue!==null&&!Pm();)Yd(ue)}function Yd(e){var t=qd(e.alternate,e,Ue);e.memoizedProps=e.pendingProps,t===null?Xd(e):ue=t,Bi.current=null}function Xd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Xh(n,t),n!==null){n.flags&=32767,ue=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fe=6,ue=null;return}}else if(n=Yh(n,t,Ue),n!==null){ue=n;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);fe===0&&(fe=5)}function ln(e,t,n){var r=Q,s=et.transition;try{et.transition=null,Q=1,rp(e,t,n,r)}finally{et.transition=s,Q=r}return null}function rp(e,t,n,r){do Un();while(Ft!==null);if(W&6)throw Error(E(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if($m(e,a),e===ye&&(ue=ye=null,xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ys||(ys=!0,Jd(Ds,function(){return Un(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=et.transition,et.transition=null;var i=Q;Q=1;var o=W;W|=4,Bi.current=null,qh(e,n),Bd(n,e),kh(Ta),Os=!!La,Ta=La=null,e.current=n,Jh(n),_m(),W=o,Q=i,et.transition=a}else e.current=n;if(ys&&(ys=!1,Ft=e,Js=s),a=e.pendingLanes,a===0&&(Kt=null),Rm(n.stateNode),be(e,ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(qs)throw qs=!1,e=Ga,Ga=null,e;return Js&1&&e.tag!==0&&Un(),a=e.pendingLanes,a&1?e===qa?Er++:(Er=0,qa=e):Er=0,nn(),null}function Un(){if(Ft!==null){var e=Lu(Js),t=et.transition,n=Q;try{if(et.transition=null,Q=16>e?16:e,Ft===null)var r=!1;else{if(e=Ft,Ft=null,Js=0,W&6)throw Error(E(331));var s=W;for(W|=4,R=e.current;R!==null;){var a=R,i=a.child;if(R.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(R=u;R!==null;){var f=R;switch(f.tag){case 0:case 11:case 15:Sr(8,f,a)}var h=f.child;if(h!==null)h.return=f,R=h;else for(;R!==null;){f=R;var m=f.sibling,v=f.return;if(Fd(f),f===u){R=null;break}if(m!==null){m.return=v,R=m;break}R=v}}}var y=a.alternate;if(y!==null){var p=y.child;if(p!==null){y.child=null;do{var N=p.sibling;p.sibling=null,p=N}while(p!==null)}}R=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,R=i;else e:for(;R!==null;){if(a=R,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Sr(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,R=g;break e}R=a.return}}var d=e.current;for(R=d;R!==null;){i=R;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,R=x;else e:for(i=d;R!==null;){if(o=R,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:fl(9,o)}}catch(k){oe(o,o.return,k)}if(o===i){R=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,R=w;break e}R=o.return}}if(W=s,nn(),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(sl,e)}catch{}r=!0}return r}finally{Q=n,et.transition=t}}return!1}function wc(e,t,n){t=Kn(n,t),t=Ld(e,t,1),e=Ht(e,t,1),t=Te(),e!==null&&(Xr(e,1,t),be(e,t))}function oe(e,t,n){if(e.tag===3)wc(e,e,n);else for(;t!==null;){if(t.tag===3){wc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kt===null||!Kt.has(r))){e=Kn(n,e),e=Td(t,e,1),t=Ht(t,e,1),e=Te(),t!==null&&(Xr(t,1,e),be(t,e));break}}t=t.return}}function sp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Te(),e.pingedLanes|=e.suspendedLanes&n,ye===e&&(xe&n)===n&&(fe===4||fe===3&&(xe&130023424)===xe&&500>ce()-Qi?dn(e,0):Vi|=n),be(e,t)}function Gd(e,t){t===0&&(e.mode&1?(t=is,is<<=1,!(is&130023424)&&(is=4194304)):t=1);var n=Te();e=_t(e,t),e!==null&&(Xr(e,t,n),be(e,n))}function lp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gd(e,n)}function ap(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(t),Gd(e,n)}var qd;qd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$e.current)Oe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Oe=!1,Kh(e,t,n);Oe=!!(e.flags&131072)}else Oe=!1,ne&&t.flags&1048576&&td(t,Bs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ps(e,t),e=t.pendingProps;var s=Bn(t,Ee.current);Fn(t,n),s=zi(null,t,r,e,s,n);var a=bi();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ze(r)?(a=!0,Us(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ii(t),s.updater=dl,t.stateNode=s,s._reactInternals=t,ba(t,r,e,n),t=Wa(null,t,r,!0,a,n)):(t.tag=0,ne&&a&&Ei(t),Le(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ps(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=op(r),e=it(r,e),s){case 0:t=Ua(null,t,r,e,n);break e;case 1:t=fc(null,t,r,e,n);break e;case 11:t=uc(null,t,r,e,n);break e;case 14:t=dc(null,t,r,it(r.type,e),n);break e}throw Error(E(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:it(r,s),Ua(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:it(r,s),fc(e,t,r,s,n);case 3:e:{if(Dd(t),e===null)throw Error(E(387));r=t.pendingProps,a=t.memoizedState,s=a.element,id(e,t),Hs(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Kn(Error(E(423)),t),t=mc(e,t,r,n,s);break e}else if(r!==s){s=Kn(Error(E(424)),t),t=mc(e,t,r,n,s);break e}else for(We=Qt(t.stateNode.containerInfo.firstChild),Be=t,ne=!0,ct=null,n=ld(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vn(),r===s){t=Lt(e,t,n);break e}Le(e,t,r,n)}t=t.child}return t;case 5:return od(t),e===null&&Oa(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Ra(r,s)?i=null:a!==null&&Ra(r,a)&&(t.flags|=32),Id(e,t),Le(e,t,i,n),t.child;case 6:return e===null&&Oa(t),null;case 13:return Md(e,t,n);case 4:return Di(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qn(t,null,r,n):Le(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:it(r,s),uc(e,t,r,s,n);case 7:return Le(e,t,t.pendingProps,n),t.child;case 8:return Le(e,t,t.pendingProps.children,n),t.child;case 12:return Le(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,G(Vs,r._currentValue),r._currentValue=i,a!==null)if(ft(a.value,i)){if(a.children===s.children&&!$e.current){t=Lt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Ct(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),$a(a.return,n,t),o.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(E(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),$a(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Le(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Fn(t,n),s=tt(s),r=r(s),t.flags|=1,Le(e,t,r,n),t.child;case 14:return r=t.type,s=it(r,t.pendingProps),s=it(r.type,s),dc(e,t,r,s,n);case 15:return Rd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:it(r,s),Ps(e,t),t.tag=1,ze(r)?(e=!0,Us(t)):e=!1,Fn(t,n),_d(t,r,s),ba(t,r,s,n),Wa(null,t,r,!0,e,n);case 19:return Od(e,t,n);case 22:return Ad(e,t,n)}throw Error(E(156,t.tag))};function Jd(e,t){return Cu(e,t)}function ip(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Je(e,t,n,r){return new ip(e,t,n,r)}function Xi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function op(e){if(typeof e=="function")return Xi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hi)return 11;if(e===pi)return 14}return 2}function Xt(e,t){var n=e.alternate;return n===null?(n=Je(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ts(e,t,n,r,s,a){var i=2;if(r=e,typeof e=="function")Xi(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Cn:return fn(n.children,s,a,t);case mi:i=8,s|=8;break;case ca:return e=Je(12,n,t,s|2),e.elementType=ca,e.lanes=a,e;case ua:return e=Je(13,n,t,s),e.elementType=ua,e.lanes=a,e;case da:return e=Je(19,n,t,s),e.elementType=da,e.lanes=a,e;case ou:return hl(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case au:i=10;break e;case iu:i=9;break e;case hi:i=11;break e;case pi:i=14;break e;case Mt:i=16,r=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=Je(i,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function fn(e,t,n,r){return e=Je(7,e,r,t),e.lanes=n,e}function hl(e,t,n,r){return e=Je(22,e,r,t),e.elementType=ou,e.lanes=n,e.stateNode={isHidden:!1},e}function Jl(e,t,n){return e=Je(6,e,null,t),e.lanes=n,e}function Zl(e,t,n){return t=Je(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cp(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Il(0),this.expirationTimes=Il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Il(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Gi(e,t,n,r,s,a,i,o,c){return e=new cp(e,t,n,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Je(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ii(a),e}function up(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Zd(e){if(!e)return Zt;e=e._reactInternals;e:{if(xn(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var n=e.type;if(ze(n))return Zu(e,n,t)}return t}function ef(e,t,n,r,s,a,i,o,c){return e=Gi(n,r,!0,e,s,a,i,o,c),e.context=Zd(null),n=e.current,r=Te(),s=Yt(n),a=Ct(r,s),a.callback=t??null,Ht(n,a,s),e.current.lanes=s,Xr(e,s,r),be(e,r),e}function pl(e,t,n,r){var s=t.current,a=Te(),i=Yt(s);return n=Zd(n),t.context===null?t.context=n:t.pendingContext=n,t=Ct(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ht(s,t,i),e!==null&&(dt(e,s,i,a),Ss(e,s,i)),i}function el(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function qi(e,t){kc(e,t),(e=e.alternate)&&kc(e,t)}function dp(){return null}var tf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ji(e){this._internalRoot=e}vl.prototype.render=Ji.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));pl(e,t,null,null)};vl.prototype.unmount=Ji.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yn(function(){pl(null,e,null,null)}),t[Pt]=null}};function vl(e){this._internalRoot=e}vl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Au();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$t.length&&t!==0&&t<$t[n].priority;n++);$t.splice(n,0,e),n===0&&Du(e)}};function Zi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sc(){}function fp(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=el(i);a.call(u)}}var i=ef(t,r,e,0,null,!1,!1,"",Sc);return e._reactRootContainer=i,e[Pt]=i.current,Or(e.nodeType===8?e.parentNode:e),yn(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=el(c);o.call(u)}}var c=Gi(e,0,!1,null,null,!1,!1,"",Sc);return e._reactRootContainer=c,e[Pt]=c.current,Or(e.nodeType===8?e.parentNode:e),yn(function(){pl(t,c,n,r)}),c}function gl(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var o=s;s=function(){var c=el(i);o.call(c)}}pl(t,i,e,s)}else i=fp(n,t,e,s,r);return el(i)}Tu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vr(t.pendingLanes);n!==0&&(gi(t,n|1),be(t,ce()),!(W&6)&&(Yn=ce()+500,nn()))}break;case 13:yn(function(){var r=_t(e,1);if(r!==null){var s=Te();dt(r,e,1,s)}}),qi(e,1)}};xi=function(e){if(e.tag===13){var t=_t(e,134217728);if(t!==null){var n=Te();dt(t,e,134217728,n)}qi(e,134217728)}};Ru=function(e){if(e.tag===13){var t=Yt(e),n=_t(e,t);if(n!==null){var r=Te();dt(n,e,t,r)}qi(e,t)}};Au=function(){return Q};Iu=function(e,t){var n=Q;try{return Q=e,t()}finally{Q=n}};Na=function(e,t,n){switch(t){case"input":if(ha(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ol(r);if(!s)throw Error(E(90));uu(r),ha(r,s)}}}break;case"textarea":fu(e,n);break;case"select":t=n.value,t!=null&&On(e,!!n.multiple,t,!1)}};xu=Hi;ju=yn;var mp={usingClientEntryPoint:!1,Events:[qr,Ln,ol,yu,gu,Hi]},mr={findFiberByHostInstance:an,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hp={bundleType:mr.bundleType,version:mr.version,rendererPackageName:mr.rendererPackageName,rendererConfig:mr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ku(e),e===null?null:e.stateNode},findFiberByHostInstance:mr.findFiberByHostInstance||dp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gs.isDisabled&&gs.supportsFiber)try{sl=gs.inject(hp),gt=gs}catch{}}Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mp;Qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zi(t))throw Error(E(200));return up(e,t,null,n)};Qe.createRoot=function(e,t){if(!Zi(e))throw Error(E(299));var n=!1,r="",s=tf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Gi(e,1,!1,null,null,n,!1,r,s),e[Pt]=t.current,Or(e.nodeType===8?e.parentNode:e),new Ji(t)};Qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=ku(t),e=e===null?null:e.stateNode,e};Qe.flushSync=function(e){return yn(e)};Qe.hydrate=function(e,t,n){if(!yl(t))throw Error(E(200));return gl(null,e,t,!0,n)};Qe.hydrateRoot=function(e,t,n){if(!Zi(e))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",i=tf;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=ef(t,null,e,1,n??null,s,!1,a,i),e[Pt]=t.current,Or(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new vl(t)};Qe.render=function(e,t,n){if(!yl(t))throw Error(E(200));return gl(null,e,t,!1,n)};Qe.unmountComponentAtNode=function(e){if(!yl(e))throw Error(E(40));return e._reactRootContainer?(yn(function(){gl(null,null,e,!1,function(){e._reactRootContainer=null,e[Pt]=null})}),!0):!1};Qe.unstable_batchedUpdates=Hi;Qe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!yl(n))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return gl(e,t,n,!1,r)};Qe.version="18.3.1-next-f1338f8080-20240426";function nf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nf)}catch(e){console.error(e)}}nf(),nu.exports=Qe;var pp=nu.exports,Cc=pp;ia.createRoot=Cc.createRoot,ia.hydrateRoot=Cc.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qr(){return Qr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qr.apply(this,arguments)}var Ut;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ut||(Ut={}));const Ec="popstate";function vp(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:i,hash:o}=r.location;return ei("",{pathname:a,search:i,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:tl(s)}return gp(t,n,null,e)}function ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function eo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yp(){return Math.random().toString(36).substr(2,8)}function Pc(e,t){return{usr:e.state,key:e.key,idx:t}}function ei(e,t,n,r){return n===void 0&&(n=null),Qr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?er(t):t,{state:n,key:t&&t.key||r||yp()})}function tl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function er(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function gp(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,i=s.history,o=Ut.Pop,c=null,u=f();u==null&&(u=0,i.replaceState(Qr({},i.state,{idx:u}),""));function f(){return(i.state||{idx:null}).idx}function h(){o=Ut.Pop;let N=f(),g=N==null?null:N-u;u=N,c&&c({action:o,location:p.location,delta:g})}function m(N,g){o=Ut.Push;let d=ei(p.location,N,g);u=f()+1;let x=Pc(d,u),w=p.createHref(d);try{i.pushState(x,"",w)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(w)}a&&c&&c({action:o,location:p.location,delta:1})}function v(N,g){o=Ut.Replace;let d=ei(p.location,N,g);u=f();let x=Pc(d,u),w=p.createHref(d);i.replaceState(x,"",w),a&&c&&c({action:o,location:p.location,delta:0})}function y(N){let g=s.location.origin!=="null"?s.location.origin:s.location.href,d=typeof N=="string"?N:tl(N);return d=d.replace(/ $/,"%20"),ae(g,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,g)}let p={get action(){return o},get location(){return e(s,i)},listen(N){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ec,h),c=N,()=>{s.removeEventListener(Ec,h),c=null}},createHref(N){return t(s,N)},createURL:y,encodeLocation(N){let g=y(N);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:v,go(N){return i.go(N)}};return p}var _c;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_c||(_c={}));function xp(e,t,n){return n===void 0&&(n="/"),jp(e,t,n)}function jp(e,t,n,r){let s=typeof t=="string"?er(t):t,a=Xn(s.pathname||"/",n);if(a==null)return null;let i=rf(e);Np(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let u=Ap(a);o=Tp(i[c],u)}return o}function rf(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,i,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(ae(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Gt([r,c.relativePath]),f=n.concat(c);a.children&&a.children.length>0&&(ae(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),rf(a.children,t,f,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:_p(u,a.index),routesMeta:f})};return e.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))s(a,i);else for(let c of sf(a.path))s(a,i,c)}),t}function sf(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let i=sf(r.join("/")),o=[];return o.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Np(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Lp(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wp=/^:[\w-]+$/,kp=3,Sp=2,Cp=1,Ep=10,Pp=-2,Lc=e=>e==="*";function _p(e,t){let n=e.split("/"),r=n.length;return n.some(Lc)&&(r+=Pp),t&&(r+=Sp),n.filter(s=>!Lc(s)).reduce((s,a)=>s+(wp.test(a)?kp:a===""?Cp:Ep),r)}function Lp(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Tp(e,t,n){let{routesMeta:r}=e,s={},a="/",i=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,f=a==="/"?t:t.slice(a.length)||"/",h=ti({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),m=c.route;if(!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:Gt([a,h.pathname]),pathnameBase:$p(Gt([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=Gt([a,h.pathnameBase]))}return i}function ti(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Rp(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,f,h)=>{let{paramName:m,isOptional:v}=f;if(m==="*"){let p=o[h]||"";i=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const y=o[h];return v&&!y?u[m]=void 0:u[m]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function Rp(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),eo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Ap(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return eo(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Xn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Ip=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dp=e=>Ip.test(e);function Mp(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?er(e):e,a;if(n)if(Dp(n))a=n;else{if(n.includes("//")){let i=n;n=n.replace(/\/\/+/g,"/"),eo(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+n))}n.startsWith("/")?a=Tc(n.substring(1),"/"):a=Tc(n,t)}else a=t;return{pathname:a,search:zp(r),hash:bp(s)}}function Tc(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ea(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Op(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function to(e,t){let n=Op(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function no(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=er(e):(s=Qr({},e),ae(!s.pathname||!s.pathname.includes("?"),ea("?","pathname","search",s)),ae(!s.pathname||!s.pathname.includes("#"),ea("#","pathname","hash",s)),ae(!s.search||!s.search.includes("#"),ea("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,o;if(i==null)o=n;else{let h=t.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}o=h>=0?t[h]:"/"}let c=Mp(s,o),u=i&&i!=="/"&&i.endsWith("/"),f=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Gt=e=>e.join("/").replace(/\/\/+/g,"/"),$p=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zp=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Fp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const lf=["post","put","patch","delete"];new Set(lf);const Up=["get",...lf];new Set(Up);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hr(){return Hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hr.apply(this,arguments)}const xl=j.createContext(null),af=j.createContext(null),Rt=j.createContext(null),jl=j.createContext(null),At=j.createContext({outlet:null,matches:[],isDataRoute:!1}),of=j.createContext(null);function Wp(e,t){let{relative:n}=t===void 0?{}:t;tr()||ae(!1);let{basename:r,navigator:s}=j.useContext(Rt),{hash:a,pathname:i,search:o}=Nl(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:Gt([r,i])),s.createHref({pathname:c,search:o,hash:a})}function tr(){return j.useContext(jl)!=null}function jn(){return tr()||ae(!1),j.useContext(jl).location}function cf(e){j.useContext(Rt).static||j.useLayoutEffect(e)}function rn(){let{isDataRoute:e}=j.useContext(At);return e?nv():Bp()}function Bp(){tr()||ae(!1);let e=j.useContext(xl),{basename:t,future:n,navigator:r}=j.useContext(Rt),{matches:s}=j.useContext(At),{pathname:a}=jn(),i=JSON.stringify(to(s,n.v7_relativeSplatPath)),o=j.useRef(!1);return cf(()=>{o.current=!0}),j.useCallback(function(u,f){if(f===void 0&&(f={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let h=no(u,JSON.parse(i),a,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Gt([t,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[t,r,i,a,e])}function Vp(){let{matches:e}=j.useContext(At),t=e[e.length-1];return t?t.params:{}}function Nl(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=j.useContext(Rt),{matches:s}=j.useContext(At),{pathname:a}=jn(),i=JSON.stringify(to(s,r.v7_relativeSplatPath));return j.useMemo(()=>no(e,JSON.parse(i),a,n==="path"),[e,i,a,n])}function Qp(e,t){return Hp(e,t)}function Hp(e,t,n,r){tr()||ae(!1);let{navigator:s}=j.useContext(Rt),{matches:a}=j.useContext(At),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=jn(),f;if(t){var h;let N=typeof t=="string"?er(t):t;c==="/"||(h=N.pathname)!=null&&h.startsWith(c)||ae(!1),f=N}else f=u;let m=f.pathname||"/",v=m;if(c!=="/"){let N=c.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(N.length).join("/")}let y=xp(e,{pathname:v}),p=qp(y&&y.map(N=>Object.assign({},N,{params:Object.assign({},o,N.params),pathname:Gt([c,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:Gt([c,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,n,r);return t&&p?j.createElement(jl.Provider,{value:{location:Hr({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ut.Pop}},p):p}function Kp(){let e=tv(),t=Fp(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:s},n):null,null)}const Yp=j.createElement(Kp,null);class Xp extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?j.createElement(At.Provider,{value:this.props.routeContext},j.createElement(of.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gp(e){let{routeContext:t,match:n,children:r}=e,s=j.useContext(xl);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(At.Provider,{value:t},r)}function qp(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=(s=n)==null?void 0:s.errors;if(o!=null){let f=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);f>=0||ae(!1),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:m,errors:v}=n,y=h.route.loader&&m[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||y){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,h,m)=>{let v,y=!1,p=null,N=null;n&&(v=o&&h.route.id?o[h.route.id]:void 0,p=h.route.errorElement||Yp,c&&(u<0&&m===0?(rv("route-fallback"),y=!0,N=null):u===m&&(y=!0,N=h.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,m+1)),d=()=>{let x;return v?x=p:y?x=N:h.route.Component?x=j.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=f,j.createElement(Gp,{match:h,routeContext:{outlet:f,matches:g,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?j.createElement(Xp,{location:n.location,revalidation:n.revalidation,component:p,error:v,children:d(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):d()},null)}var uf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(uf||{}),df=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(df||{});function Jp(e){let t=j.useContext(xl);return t||ae(!1),t}function Zp(e){let t=j.useContext(af);return t||ae(!1),t}function ev(e){let t=j.useContext(At);return t||ae(!1),t}function ff(e){let t=ev(),n=t.matches[t.matches.length-1];return n.route.id||ae(!1),n.route.id}function tv(){var e;let t=j.useContext(of),n=Zp(),r=ff();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function nv(){let{router:e}=Jp(uf.UseNavigateStable),t=ff(df.UseNavigateStable),n=j.useRef(!1);return cf(()=>{n.current=!0}),j.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Hr({fromRouteId:t},a)))},[e,t])}const Rc={};function rv(e,t,n){Rc[e]||(Rc[e]=!0)}function sv(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function mf(e){let{to:t,replace:n,state:r,relative:s}=e;tr()||ae(!1);let{future:a,static:i}=j.useContext(Rt),{matches:o}=j.useContext(At),{pathname:c}=jn(),u=rn(),f=no(t,to(o,a.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(f);return j.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function at(e){ae(!1)}function lv(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Ut.Pop,navigator:a,static:i=!1,future:o}=e;tr()&&ae(!1);let c=t.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:a,static:i,future:Hr({v7_relativeSplatPath:!1},o)}),[c,o,a,i]);typeof r=="string"&&(r=er(r));let{pathname:f="/",search:h="",hash:m="",state:v=null,key:y="default"}=r,p=j.useMemo(()=>{let N=Xn(f,c);return N==null?null:{location:{pathname:N,search:h,hash:m,state:v,key:y},navigationType:s}},[c,f,h,m,v,y,s]);return p==null?null:j.createElement(Rt.Provider,{value:u},j.createElement(jl.Provider,{children:n,value:p}))}function Ac(e){let{children:t,location:n}=e;return Qp(ni(t),n)}new Promise(()=>{});function ni(e,t){t===void 0&&(t=[]);let n=[];return j.Children.forEach(e,(r,s)=>{if(!j.isValidElement(r))return;let a=[...t,s];if(r.type===j.Fragment){n.push.apply(n,ni(r.props.children,a));return}r.type!==at&&ae(!1),!r.props.index||!r.props.children||ae(!1);let i={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=ni(r.props.children,a)),n.push(i)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nl(){return nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nl.apply(this,arguments)}function hf(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function av(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function iv(e,t){return e.button===0&&(!t||t==="_self")&&!av(e)}const ov=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],cv=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],uv="6";try{window.__reactRouterVersion=uv}catch{}const dv=j.createContext({isTransitioning:!1}),fv="startTransition",Ic=sm[fv];function mv(e){let{basename:t,children:n,future:r,window:s}=e,a=j.useRef();a.current==null&&(a.current=vp({window:s,v5Compat:!0}));let i=a.current,[o,c]=j.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},f=j.useCallback(h=>{u&&Ic?Ic(()=>c(h)):c(h)},[c,u]);return j.useLayoutEffect(()=>i.listen(f),[i,f]),j.useEffect(()=>sv(r),[r]),j.createElement(lv,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:r})}const hv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zr=j.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:i,state:o,target:c,to:u,preventScrollReset:f,viewTransition:h}=t,m=hf(t,ov),{basename:v}=j.useContext(Rt),y,p=!1;if(typeof u=="string"&&pv.test(u)&&(y=u,hv))try{let x=new URL(window.location.href),w=u.startsWith("//")?new URL(x.protocol+u):new URL(u),k=Xn(w.pathname,v);w.origin===x.origin&&k!=null?u=k+w.search+w.hash:p=!0}catch{}let N=Wp(u,{relative:s}),g=yv(u,{replace:i,state:o,target:c,preventScrollReset:f,relative:s,viewTransition:h});function d(x){r&&r(x),x.defaultPrevented||g(x)}return j.createElement("a",nl({},m,{href:y||N,onClick:p||a?r:d,ref:n,target:c}))}),wt=j.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:a="",end:i=!1,style:o,to:c,viewTransition:u,children:f}=t,h=hf(t,cv),m=Nl(c,{relative:h.relative}),v=jn(),y=j.useContext(af),{navigator:p,basename:N}=j.useContext(Rt),g=y!=null&&gv(m)&&u===!0,d=p.encodeLocation?p.encodeLocation(m).pathname:m.pathname,x=v.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;s||(x=x.toLowerCase(),w=w?w.toLowerCase():null,d=d.toLowerCase()),w&&N&&(w=Xn(w,N)||w);const k=d!=="/"&&d.endsWith("/")?d.length-1:d.length;let _=x===d||!i&&x.startsWith(d)&&x.charAt(k)==="/",P=w!=null&&(w===d||!i&&w.startsWith(d)&&w.charAt(d.length)==="/"),L={isActive:_,isPending:P,isTransitioning:g},O=_?r:void 0,A;typeof a=="function"?A=a(L):A=[a,_?"active":null,P?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let ee=typeof o=="function"?o(L):o;return j.createElement(Zr,nl({},h,{"aria-current":O,className:A,ref:n,style:ee,to:c,viewTransition:u}),typeof f=="function"?f(L):f)});var ri;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ri||(ri={}));var Dc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Dc||(Dc={}));function vv(e){let t=j.useContext(xl);return t||ae(!1),t}function yv(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:i,viewTransition:o}=t===void 0?{}:t,c=rn(),u=jn(),f=Nl(e,{relative:i});return j.useCallback(h=>{if(iv(h,n)){h.preventDefault();let m=r!==void 0?r:tl(u)===tl(f);c(e,{replace:m,state:s,preventScrollReset:a,relative:i,viewTransition:o})}},[u,c,f,r,s,n,e,a,i,o])}function gv(e,t){t===void 0&&(t={});let n=j.useContext(dv);n==null&&ae(!1);let{basename:r}=vv(ri.useViewTransitionState),s=Nl(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Xn(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=Xn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ti(s.pathname,i)!=null||ti(s.pathname,a)!=null}const xv={},Mc=e=>{let t;const n=new Set,r=(f,h)=>{const m=typeof f=="function"?f(t):f;if(!Object.is(m,t)){const v=t;t=h??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(y=>y(t,v))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(xv?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,c);return c},jv=e=>e?Mc(e):Mc;var pf={exports:{}},vf={},yf={exports:{}},gf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gn=j;function Nv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wv=typeof Object.is=="function"?Object.is:Nv,kv=Gn.useState,Sv=Gn.useEffect,Cv=Gn.useLayoutEffect,Ev=Gn.useDebugValue;function Pv(e,t){var n=t(),r=kv({inst:{value:n,getSnapshot:t}}),s=r[0].inst,a=r[1];return Cv(function(){s.value=n,s.getSnapshot=t,ta(s)&&a({inst:s})},[e,n,t]),Sv(function(){return ta(s)&&a({inst:s}),e(function(){ta(s)&&a({inst:s})})},[e]),Ev(n),n}function ta(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wv(e,n)}catch{return!0}}function _v(e,t){return t()}var Lv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_v:Pv;gf.useSyncExternalStore=Gn.useSyncExternalStore!==void 0?Gn.useSyncExternalStore:Lv;yf.exports=gf;var Tv=yf.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wl=j,Rv=Tv;function Av(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Iv=typeof Object.is=="function"?Object.is:Av,Dv=Rv.useSyncExternalStore,Mv=wl.useRef,Ov=wl.useEffect,$v=wl.useMemo,zv=wl.useDebugValue;vf.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var a=Mv(null);if(a.current===null){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=$v(function(){function c(v){if(!u){if(u=!0,f=v,v=r(v),s!==void 0&&i.hasValue){var y=i.value;if(s(y,v))return h=y}return h=v}if(y=h,Iv(f,v))return y;var p=r(v);return s!==void 0&&s(y,p)?(f=v,y):(f=v,h=p)}var u=!1,f,h,m=n===void 0?null:n;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,n,r,s]);var o=Dv(e,a[0],a[1]);return Ov(function(){i.hasValue=!0,i.value=o},[o]),zv(o),o};pf.exports=vf;var bv=pf.exports;const Fv=Vc(bv),xf={},{useDebugValue:Uv}=ci,{useSyncExternalStoreWithSelector:Wv}=Fv;let Oc=!1;const Bv=e=>e;function Vv(e,t=Bv,n){(xf?"production":void 0)!=="production"&&n&&!Oc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Oc=!0);const r=Wv(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Uv(r),r}const $c=e=>{(xf?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?jv(e):e,n=(r,s)=>Vv(t,r,s);return Object.assign(n,t),n},nr=e=>e?$c(e):$c,jf="https://stream.noxamusic.com";function Nf(){return localStorage.getItem("musicstream_token")}async function es(e,t={}){const n=Nf(),r={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${jf}${e}`,{...t,headers:r});if(!s.ok){const i={message:`API Error: ${s.status}`,status:s.status};try{const o=await s.json();i.message=o.message||o.error||i.message}catch{}throw i}const a=s.headers.get("content-type");return a&&a.includes("application/json")?s.json():s}async function Ie(e){return es(e,{method:"GET"})}async function rt(e,t){return es(e,{method:"POST",body:t?JSON.stringify(t):void 0})}async function wf(e,t){return es(e,{method:"PUT",body:t?JSON.stringify(t):void 0})}async function ro(e){return es(e,{method:"DELETE"})}function Qv(e){const t=Nf();return`${jf}/api/library/stream/${e}${t?`?token=${t}`:""}`}async function Hv(e,t){const n=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),r=await n.json();if(!n.ok){const s=r.error||r.message||Kv(n.status);throw new Error(s)}return r}function Kv(e){switch(e){case 400:return"Invalid request. Please check your input.";case 401:return"Invalid credentials. Please check your username and password.";case 403:return"Access denied. Your account may be suspended.";case 404:return"User not found.";case 429:return"Too many login attempts. Please try again later.";case 500:return"Server error. Please try again later.";default:return"Login failed. Please try again."}}async function Yv(e,t,n,r,s,a,i){const o=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t,email:n,referrerUrl:r,utmSource:s,utmMedium:a,utmCampaign:i})}),c=await o.json();if(!o.ok){let u=c.error||c.message||"Signup failed";throw c.details&&Array.isArray(c.details)&&(u=c.details.join(". ")),new Error(u)}return c}async function Xv(){return(await es("/api/auth/me")).user}function na(e,t){localStorage.setItem("musicstream_token",e),localStorage.setItem("musicstream_user",JSON.stringify(t))}function zc(){localStorage.removeItem("musicstream_token"),localStorage.removeItem("musicstream_user")}function kf(){const e=localStorage.getItem("musicstream_user");if(!e)return null;try{return JSON.parse(e)}catch{return null}}function Sf(){return!!localStorage.getItem("musicstream_token")}const Gv=kf(),qv=Sf(),rr=nr(e=>({user:Gv,isAuthenticated:qv,isLoading:!1,error:null,login:async(t,n)=>{e({isLoading:!0,error:null});try{const r=await Hv(t,n);return r.success?(na(r.token,r.user),e({user:r.user,isAuthenticated:!0,isLoading:!1}),!0):(e({error:"Login failed",isLoading:!1}),!1)}catch(r){const s=r instanceof Error?r.message:"Login failed";return e({error:s,isLoading:!1}),!1}},signup:async(t,n,r)=>{e({isLoading:!0,error:null});try{const s=await Yv(t,n,r);return s.success?(na(s.token,s.user),e({user:s.user,isAuthenticated:!0,isLoading:!1}),!0):(e({error:"Signup failed",isLoading:!1}),!1)}catch(s){const a=s instanceof Error?s.message:"Signup failed";return e({error:a,isLoading:!1}),!1}},logout:()=>{zc(),e({user:null,isAuthenticated:!1,error:null})},checkAuth:async()=>{const t=Sf(),n=kf();if(!t){e({user:null,isAuthenticated:!1,isLoading:!1});return}e(n?{user:n,isAuthenticated:!0,isLoading:!1}:{isAuthenticated:!0,isLoading:!0});try{const r=await Xv(),s=localStorage.getItem("musicstream_token")||"";na(s,r),e({user:r,isAuthenticated:!0,isLoading:!1}),console.log("[Auth] User refreshed:",r.username)}catch(r){console.error("Auth check failed:",r),n?e({isLoading:!1}):(zc(),e({user:null,isAuthenticated:!1,isLoading:!1}))}},clearError:()=>e({error:null})})),re=nr((e,t)=>({isMobile:typeof window<"u"?window.innerWidth<=768:!1,isSidebarCollapsed:!1,isQueueOpen:!1,isLyricsOpen:!1,isNowPlayingOpen:!1,isSettingsOpen:!1,toasts:[],artistDetailModal:{isOpen:!1},albumDetailModal:{isOpen:!1},createPlaylistModal:{isOpen:!1},importModal:{isOpen:!1},addToPlaylistModal:{isOpen:!1},setIsMobile:n=>e({isMobile:n}),toggleSidebar:()=>e(n=>({isSidebarCollapsed:!n.isSidebarCollapsed})),toggleQueue:()=>e(n=>({isQueueOpen:!n.isQueueOpen})),toggleLyrics:()=>e(n=>({isLyricsOpen:!n.isLyricsOpen})),toggleNowPlaying:()=>e(n=>({isNowPlayingOpen:!n.isNowPlayingOpen})),toggleSettings:()=>e(n=>({isSettingsOpen:!n.isSettingsOpen})),openArtistDetail:n=>e({artistDetailModal:{isOpen:!0,data:{artistName:n}}}),closeArtistDetail:()=>e({artistDetailModal:{isOpen:!1}}),openAlbumDetail:(n,r)=>e({albumDetailModal:{isOpen:!0,data:{albumName:n,fromArtist:r}}}),closeAlbumDetail:()=>e({albumDetailModal:{isOpen:!1}}),goBackFromAlbum:()=>{var s;const{albumDetailModal:n}=t(),r=(s=n.data)==null?void 0:s.fromArtist;e({albumDetailModal:{isOpen:!1}}),r&&e({artistDetailModal:{isOpen:!0,data:{artistName:r}}})},openCreatePlaylist:()=>e({createPlaylistModal:{isOpen:!0}}),closeCreatePlaylist:()=>e({createPlaylistModal:{isOpen:!1}}),openImportModal:n=>e({importModal:{isOpen:!0,data:{type:n}}}),closeImportModal:()=>e({importModal:{isOpen:!1}}),openAddToPlaylist:n=>e({addToPlaylistModal:{isOpen:!0,data:{trackId:n}}}),closeAddToPlaylist:()=>e({addToPlaylistModal:{isOpen:!1}}),closeAllModals:()=>e({artistDetailModal:{isOpen:!1},albumDetailModal:{isOpen:!1},createPlaylistModal:{isOpen:!1},importModal:{isOpen:!1},addToPlaylistModal:{isOpen:!1},isQueueOpen:!1,isLyricsOpen:!1,isNowPlayingOpen:!1,isSettingsOpen:!1}),showToast:(n,r="info",s=3e3)=>{const a=`toast-${Date.now()}-${Math.random().toString(36).slice(2)}`,i={id:a,message:n,type:r,duration:s};e(o=>({toasts:[...o.toasts,i]})),s>0&&setTimeout(()=>{t().dismissToast(a)},s)},dismissToast:n=>{e(r=>({toasts:r.toasts.filter(s=>s.id!==n)}))}}));if(typeof window<"u"){let e;window.addEventListener("resize",()=>{clearTimeout(e),e=window.setTimeout(()=>{re.getState().setIsMobile(window.innerWidth<=768)},100)})}async function Cf(e,t,n,r){const s=new URLSearchParams({artist:e,track:t,...n&&{album:n},...r&&{duration:Math.round(r).toString()}});try{return await Ie(`/api/lyrics?${s}`)}catch{return{success:!1,syncedLyrics:null,plainLyrics:null,instrumental:!1,error:"Failed to fetch lyrics"}}}const kn=new Map,Jv=20;function Ef(e,t){return`${e.toLowerCase()}-${t.toLowerCase()}`}function Zv(e,t){return kn.get(Ef(e,t))||null}async function ey(e,t,n,r){const s=Ef(e,t);if(kn.has(s))return;const a=await Cf(e,t,n,r);if(kn.size>=Jv){const i=kn.keys().next().value;i&&kn.delete(i)}kn.set(s,a)}function ra(e){const t=[...e];for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t}const Pf=20;function ty(){try{const e=localStorage.getItem("recently_played");return e?JSON.parse(e):[]}catch{return[]}}function bc(e){try{localStorage.setItem("recently_played",JSON.stringify(e.slice(0,Pf)))}catch{}}const Pe=nr((e,t)=>({currentTrack:null,queue:[],queueIndex:0,originalQueue:[],recentlyPlayed:ty(),isPlaying:!1,currentTime:0,duration:0,volume:parseFloat(localStorage.getItem("player_volume")||"1"),isMuted:!1,repeatMode:"off",isShuffled:!1,audioRef:null,setAudioRef:n=>{e({audioRef:n}),n&&(n.volume=t().volume)},playTrack:(n,r,s)=>{const{audioRef:a,isShuffled:i,currentTrack:o,addToRecentlyPlayed:c}=t();o&&c(o);let u=r||[n],f=s??0;if(r){const h=[...r];i&&(u=[n,...ra(r.filter((m,v)=>v!==s))],f=0),e({originalQueue:h})}e({currentTrack:n,queue:u,queueIndex:f,currentTime:0,duration:n.duration||0}),a&&(a.src=Qv(n.id),a.play().catch(console.error),e({isPlaying:!0})),n.artist&&n.title&&ey(n.artist,n.title,n.album,n.duration)},playQueue:(n,r=0)=>{if(n.length===0)return;const{isShuffled:s}=t(),a=n[r];let i=n,o=r;s&&(i=[a,...ra(n.filter((c,u)=>u!==r))],o=0),e({originalQueue:[...n],queue:i,queueIndex:o}),t().playTrack(a,i,o)},play:()=>{const{audioRef:n}=t();n&&n.src&&(n.play().catch(console.error),e({isPlaying:!0}))},pause:()=>{const{audioRef:n}=t();n&&(n.pause(),e({isPlaying:!1}))},togglePlay:()=>{const{isPlaying:n}=t();n?t().pause():t().play()},next:()=>{const{queue:n,queueIndex:r,repeatMode:s}=t();if(n.length===0)return;let a=r+1;if(a>=n.length)if(s==="all")a=0;else{e({isPlaying:!1});return}const i=n[a];i&&t().playTrack(i,n,a)},previous:()=>{const{queue:n,queueIndex:r,currentTime:s,audioRef:a,repeatMode:i}=t();if(s>3){a&&(a.currentTime=0,e({currentTime:0}));return}if(n.length===0)return;let o=r-1;if(o<0)if(i==="all")o=n.length-1;else{a&&(a.currentTime=0,e({currentTime:0}));return}const c=n[o];c&&t().playTrack(c,n,o)},seek:n=>{const{audioRef:r,isPlaying:s}=t();r&&(r.currentTime=n,e({currentTime:n}),s&&r.paused&&r.play().catch(console.error))},setVolume:n=>{const{audioRef:r}=t(),s=Math.max(0,Math.min(1,n));r&&(r.volume=s),localStorage.setItem("player_volume",s.toString()),e({volume:s,isMuted:s===0})},toggleMute:()=>{const{audioRef:n,isMuted:r,volume:s}=t();n&&(r?(n.volume=s||1,e({isMuted:!1})):(n.volume=0,e({isMuted:!0})))},toggleShuffle:()=>{const{isShuffled:n,queue:r,queueIndex:s,currentTrack:a,originalQueue:i}=t();if(n){const o=i.findIndex(c=>c.id===(a==null?void 0:a.id));e({isShuffled:!1,queue:i,queueIndex:o>=0?o:0})}else{const o=s,c=r.filter((h,m)=>m>o),u=ra(c),f=[...r.slice(0,o+1),...u];e({isShuffled:!0,originalQueue:[...r],queue:f})}},cycleRepeat:()=>{const{repeatMode:n,audioRef:r}=t(),s=["off","all","one"],a=s.indexOf(n),i=s[(a+1)%s.length];r&&(r.loop=i==="one"),e({repeatMode:i})},setCurrentTime:n=>e({currentTime:n}),setDuration:n=>e({duration:n}),addToQueue:n=>{const{queue:r}=t();e({queue:[...r,n]})},removeFromQueue:n=>{const{queue:r,queueIndex:s}=t(),a=r.filter((o,c)=>c!==n);let i=s;n<s&&(i=Math.max(0,s-1)),e({queue:a,queueIndex:i})},clearQueue:()=>{e({queue:[],queueIndex:0,originalQueue:[]})},addToRecentlyPlayed:n=>{const{recentlyPlayed:r}=t(),s=r.filter(i=>i.id!==n.id),a=[n,...s].slice(0,Pf);e({recentlyPlayed:a}),bc(a)},clearRecentlyPlayed:()=>{e({recentlyPlayed:[]}),bc([])}})),_f="https://stream.noxamusic.com",so="/images/default-artwork.jpg",Lf="/images/default-artist.jpg";function K(e){if(!e)return so;let t=e;return e.includes("/mnt/UNO/Music_lib/")&&(t=e.replace("/mnt/UNO/Music_lib/","/music_lib/")),t.startsWith("http")||t.startsWith("data:")?t:`${_f}${t.startsWith("/")?"":"/"}${t}`}function ny(e,t,n){if(e)return K(e);if(t&&n){const r=`/music_lib/${encodeURIComponent(t)}/${encodeURIComponent(n)}/cover.jpg`;return K(r)}return so}function ry(e){return e?e.startsWith("http")||e.startsWith("data:")?e:`${_f}${e.startsWith("/")?"":"/"}${e}`:Lf}function sy(){return so}function ly(){return Lf}function te(e,t="artwork"){const n=e.currentTarget,r=t==="artist"?ly():sy();n.src!==r&&(n.src=r)}function ay(){const{currentTrack:e,isPlaying:t,currentTime:n,duration:r,togglePlay:s,next:a,previous:i,seek:o}=Pe();j.useEffect(()=>{if(!("mediaSession"in navigator))return;if(!e){navigator.mediaSession.metadata=null;return}const N=K(e.album_cover);navigator.mediaSession.metadata=new MediaMetadata({title:e.title,artist:e.artist,album:e.album||"Unknown Album",artwork:N?[{src:N,sizes:"96x96",type:"image/jpeg"},{src:N,sizes:"128x128",type:"image/jpeg"},{src:N,sizes:"192x192",type:"image/jpeg"},{src:N,sizes:"256x256",type:"image/jpeg"},{src:N,sizes:"384x384",type:"image/jpeg"},{src:N,sizes:"512x512",type:"image/jpeg"}]:[]})},[e]),j.useEffect(()=>{"mediaSession"in navigator&&(navigator.mediaSession.playbackState=t?"playing":"paused")},[t]),j.useEffect(()=>{if(!(!("mediaSession"in navigator)||!e))try{navigator.mediaSession.setPositionState({duration:r||0,playbackRate:1,position:Math.min(n,r||0)})}catch{}},[n,r,e]);const c=j.useCallback(()=>{s()},[s]),u=j.useCallback(()=>{s()},[s]),f=j.useCallback(()=>{i()},[i]),h=j.useCallback(()=>{a()},[a]),m=j.useCallback(N=>{const g=N.seekOffset||10;o(Math.max(0,n-g))},[n,o]),v=j.useCallback(N=>{const g=N.seekOffset||10;o(Math.min(r,n+g))},[n,r,o]),y=j.useCallback(N=>{N.seekTime!==void 0&&o(N.seekTime)},[o]),p=j.useCallback(()=>{t&&s()},[t,s]);j.useEffect(()=>{if(!("mediaSession"in navigator))return;const N=[["play",c],["pause",u],["previoustrack",f],["nexttrack",h],["seekbackward",m],["seekforward",v],["seekto",y],["stop",p]];return N.forEach(([g,d])=>{try{navigator.mediaSession.setActionHandler(g,d)}catch{}}),()=>{N.forEach(([g])=>{try{navigator.mediaSession.setActionHandler(g,null)}catch{}})}},[c,u,f,h,m,v,y,p])}async function iy(){const e=await Ie("/api/playlists");return Array.isArray(e)?e:e.playlists||[]}async function oy(){try{const e=await Ie("/api/playlists/generated");return(Array.isArray(e)?e:e.playlists||[]).map(n=>({...n,artwork:n.artwork||n.image||null}))}catch{return[]}}async function cy(e){const t=typeof e=="string"&&e.includes("-")?`/api/playlists/generated/${e}`:`/api/playlists/${e}`,n=await Ie(t);return"playlist"in n&&n.playlist?n.playlist:n}function uy(e){return e.filter(t=>{if(!t.title||t.title.trim()===""||!t.artist)return!1;const n=t.artist.toLowerCase();return!(n==="unknown"||n==="unknown artist"||n==="various artists"||!t.file_path||t.file_path.trim()==="")})}async function Tf(e){const t=typeof e=="string"&&e.includes("-")?`/api/playlists/generated/${e}/tracks`:`/api/playlists/${e}/tracks`;try{const n=await Ie(t);let r=[];return Array.isArray(n)?r=n:"tracks"in n&&n.tracks?r=n.tracks:"songs"in n&&n.songs&&(r=n.songs),uy(r)}catch{return[]}}async function dy(e,t){return rt("/api/playlists",{name:e,description:t})}async function fy(e,t){return wf(`/api/playlists/${e}`,t)}async function Rf(e){await ro(`/api/playlists/${e}`)}async function my(e,t){await rt(`/api/playlists/${e}/tracks`,{musicId:t})}async function Af(e,t){await ro(`/api/playlists/${e}/tracks/${t}`)}async function hy(e,t){const n=t.map((r,s)=>({musicId:r,position:s}));await wf(`/api/playlists/${e}/reorder`,{trackOrders:n})}const sr=nr((e,t)=>({playlists:[],generatedPlaylists:[],isLoading:!1,error:null,fetchPlaylists:async()=>{e({isLoading:!0,error:null});try{const n=await iy();e({playlists:n,isLoading:!1})}catch(n){const r=n instanceof Error?n.message:"Failed to load playlists";e({error:r,isLoading:!1})}},fetchGeneratedPlaylists:async()=>{let r;for(let s=0;s<3;s++)try{const a=await oy();e({generatedPlaylists:a});return}catch(a){r=a,console.warn(`Failed to fetch generated playlists (attempt ${s+1}/3):`,a),s<2&&await new Promise(i=>setTimeout(i,500*Math.pow(2,s)))}console.error("Failed to fetch generated playlists after retries:",r)},createPlaylist:async(n,r)=>{try{const s=await dy(n,r);return e(a=>({playlists:[...a.playlists,s]})),s}catch(s){return console.error("Failed to create playlist:",s),null}},deletePlaylist:async n=>{try{return await Rf(n),e(r=>({playlists:r.playlists.filter(s=>s.id!==n)})),!0}catch(r){return console.error("Failed to delete playlist:",r),!1}},addTrackToPlaylist:async(n,r)=>{try{return await my(n,r),t().fetchPlaylists(),!0}catch(s){return console.error("Failed to add track to playlist:",s),!1}},removeTrackFromPlaylist:async(n,r)=>{try{return await Af(n,r),t().fetchPlaylists(),!0}catch(s){return console.error("Failed to remove track from playlist:",s),!1}},refresh:async()=>{const{fetchPlaylists:n,fetchGeneratedPlaylists:r}=t();await Promise.all([n(),r()])}})),py=()=>{const{playlists:e}=sr(),{openCreatePlaylist:t,isMobile:n}=re();return n?null:l.jsxs("aside",{className:"sidebar glass-card",children:[l.jsx("div",{className:"sidebar-logo",children:l.jsx("h1",{children:"Noxa Music"})}),l.jsxs("nav",{className:"sidebar-nav",children:[l.jsxs(wt,{to:"/",className:({isActive:r})=>`nav-item ${r?"active":""}`,children:[l.jsx("i",{className:"fas fa-home"}),l.jsx("span",{children:"Home"})]}),l.jsxs(wt,{to:"/search",className:({isActive:r})=>`nav-item ${r?"active":""}`,children:[l.jsx("i",{className:"fas fa-search"}),l.jsx("span",{children:"Search"})]}),l.jsxs(wt,{to:"/library",className:({isActive:r})=>`nav-item ${r?"active":""}`,children:[l.jsx("i",{className:"fas fa-book"}),l.jsx("span",{children:"Your Library"})]}),l.jsxs(wt,{to:"/downloads",className:({isActive:r})=>`nav-item ${r?"active":""}`,children:[l.jsx("i",{className:"fas fa-download"}),l.jsx("span",{children:"Downloads"})]})]}),l.jsx("div",{className:"sidebar-divider"}),l.jsxs("div",{className:"sidebar-section",children:[l.jsxs("div",{className:"section-header",children:[l.jsx("h3",{children:"Playlists"}),l.jsx("button",{className:"add-btn",onClick:t,title:"Create playlist",children:l.jsx("i",{className:"fas fa-plus"})})]}),l.jsxs("div",{className:"playlists-list",children:[e.map(r=>l.jsxs(wt,{to:`/playlist/${r.id}`,className:({isActive:s})=>`playlist-item ${s?"active":""}`,children:[l.jsx("img",{src:K(r.artwork),alt:r.name,onError:s=>te(s)}),l.jsxs("div",{className:"playlist-info",children:[l.jsx("span",{className:"name truncate",children:r.name}),l.jsxs("span",{className:"count",children:[r.track_count," tracks"]})]})]},r.id)),e.length===0&&l.jsxs("div",{className:"empty-playlists",children:[l.jsx("p",{children:"No playlists yet"}),l.jsx("button",{onClick:t,children:"Create your first playlist"})]})]})]})]})},vy=()=>{const e=rn(),{user:t,logout:n}=rr(),{isSettingsOpen:r,toggleSettings:s,openImportModal:a}=re(),i=j.useRef(null);j.useEffect(()=>{const u=f=>{i.current&&!i.current.contains(f.target)&&r&&s()};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[r,s]);const o=()=>{n(),s(),e("/login")},c=u=>{s(),a(u)};return r?l.jsxs("div",{className:"settings-dropdown glass-elevated",ref:i,children:[l.jsx("div",{className:"dropdown-header",children:l.jsxs("div",{className:"user-info",children:[l.jsx("div",{className:"avatar",children:l.jsx("i",{className:"fas fa-user"})}),l.jsxs("div",{className:"details",children:[l.jsx("span",{className:"name",children:(t==null?void 0:t.username)||(t==null?void 0:t.name)||"Guest"}),l.jsx("span",{className:"email",children:(t==null?void 0:t.email)||""})]})]})}),l.jsx("div",{className:"dropdown-divider"}),l.jsxs("div",{className:"dropdown-section",children:[l.jsx("span",{className:"section-label",children:"Import Music"}),l.jsxs("button",{className:"dropdown-item",onClick:()=>c("spotify"),children:[l.jsx("i",{className:"fab fa-spotify"}),l.jsx("span",{children:"Import from Spotify"})]}),l.jsxs("button",{className:"dropdown-item",onClick:()=>c("youtube"),children:[l.jsx("i",{className:"fab fa-youtube"}),l.jsx("span",{children:"Import from YouTube Music"})]}),l.jsxs("button",{className:"dropdown-item",onClick:()=>c("url"),children:[l.jsx("i",{className:"fas fa-link"}),l.jsx("span",{children:"Import from URL"})]})]}),l.jsx("div",{className:"dropdown-divider"}),l.jsxs("div",{className:"dropdown-section",children:[l.jsx("span",{className:"section-label",children:"Community"}),l.jsxs("a",{href:"https://discord.gg/BCFwE6ts3j",target:"_blank",rel:"noopener noreferrer",className:"dropdown-item",children:[l.jsx("i",{className:"fab fa-discord"}),l.jsx("span",{children:"Discord"}),l.jsx("i",{className:"fas fa-external-link-alt external-icon"})]}),l.jsxs("a",{href:"https://buymeacoffee.com/tokyohouseparty",target:"_blank",rel:"noopener noreferrer",className:"dropdown-item",children:[l.jsx("i",{className:"fas fa-heart"}),l.jsx("span",{children:"Keep me alive"}),l.jsx("i",{className:"fas fa-external-link-alt external-icon"})]})]}),(t==null?void 0:t.is_admin)&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"dropdown-divider"}),l.jsxs("div",{className:"dropdown-section",children:[l.jsx("span",{className:"section-label",children:"Admin"}),l.jsxs("button",{className:"dropdown-item",onClick:()=>{s(),e("/admin")},children:[l.jsx("i",{className:"fas fa-cog"}),l.jsx("span",{children:"Admin Console"})]})]})]}),l.jsx("div",{className:"dropdown-divider"}),l.jsxs("button",{className:"dropdown-item logout",onClick:o,children:[l.jsx("i",{className:"fas fa-sign-out-alt"}),l.jsx("span",{children:"Log out"})]})]}):null},yy=()=>{const e=rn(),{user:t}=rr(),{isSettingsOpen:n,toggleSettings:r,isMobile:s}=re(),a=()=>e(-1),i=()=>e(1);return l.jsxs("header",{className:`topbar ${s?"mobile":""}`,children:[!s&&l.jsxs("div",{className:"topbar-nav",children:[l.jsx("button",{className:"nav-btn",onClick:a,title:"Go back",children:l.jsx("i",{className:"fas fa-chevron-left"})}),l.jsx("button",{className:"nav-btn",onClick:i,title:"Go forward",children:l.jsx("i",{className:"fas fa-chevron-right"})})]}),s&&l.jsx("div",{className:"topbar-logo",children:l.jsx("h1",{children:"Noxa Music"})}),l.jsx("div",{className:"topbar-right",children:l.jsxs("div",{className:"user-menu",children:[l.jsxs("button",{className:"user-btn",onClick:r,children:[l.jsx("div",{className:"user-avatar",children:l.jsx("i",{className:"fas fa-user"})}),!s&&l.jsx("span",{className:"user-name",children:(t==null?void 0:t.username)||(t==null?void 0:t.name)||"Guest"}),l.jsx("i",{className:`fas fa-chevron-${n?"up":"down"} dropdown-icon`})]}),l.jsx(vy,{})]})})]})},gy=()=>{const{isMobile:e}=re();return e?l.jsxs("nav",{className:"bottom-nav",children:[l.jsxs(wt,{to:"/",className:({isActive:t})=>`nav-item ${t?"active":""}`,children:[l.jsx("i",{className:"fas fa-home"}),l.jsx("span",{children:"Home"})]}),l.jsxs(wt,{to:"/search",className:({isActive:t})=>`nav-item ${t?"active":""}`,children:[l.jsx("i",{className:"fas fa-search"}),l.jsx("span",{children:"Search"})]}),l.jsxs(wt,{to:"/library",className:({isActive:t})=>`nav-item ${t?"active":""}`,children:[l.jsx("i",{className:"fas fa-book"}),l.jsx("span",{children:"Library"})]}),l.jsxs(wt,{to:"/downloads",className:({isActive:t})=>`nav-item ${t?"active":""}`,children:[l.jsx("i",{className:"fas fa-download"}),l.jsx("span",{children:"Downloads"})]})]}):null};function xy(e){if(!e)return[];const t=[],n=/\[(\d{2}):(\d{2})\.(\d{2,3})\](.*)/g;let r;for(;(r=n.exec(e))!==null;){const s=parseInt(r[1],10),a=parseInt(r[2],10),i=parseInt(r[3].padEnd(3,"0"),10),o=s*60+a+i/1e3,c=r[4].trim();c&&t.push({time:o,text:c})}return t.sort((s,a)=>(s.time??0)-(a.time??0))}function jy(e){return e?e.split(`
`).filter(t=>t.trim()).map(t=>({time:null,text:t.trim()})):[]}function Ny(e,t){if(!e.length)return-1;for(let n=e.length-1;n>=0;n--)if(e[n].time!==null&&e[n].time<=t)return n;return-1}const lo=nr((e,t)=>({lyrics:[],currentLineIndex:-1,isLoading:!1,error:null,isInstrumental:!1,isSynced:!1,currentLyricsTrack:null,loadLyrics:async n=>{const{artist:r,title:s,album:a,duration:i}=n,{currentLyricsTrack:o}=t();if((o==null?void 0:o.artist)===r&&(o==null?void 0:o.title)===s)return;e({isLoading:!0,error:null,lyrics:[],currentLineIndex:-1,isInstrumental:!1,isSynced:!1,currentLyricsTrack:{artist:r,title:s}});const c=Zv(r,s);try{const u=c||await Cf(r,s,a,i);if(u.success)if(u.instrumental)e({lyrics:[{time:null,text:" Instrumental "}],isInstrumental:!0,isSynced:!1,isLoading:!1});else if(u.syncedLyrics){const f=xy(u.syncedLyrics);e({lyrics:f,isSynced:!0,isLoading:!1})}else if(u.plainLyrics){const f=jy(u.plainLyrics);e({lyrics:f,isSynced:!1,isLoading:!1})}else e({lyrics:[{time:null,text:"No lyrics available"}],isLoading:!1});else e({lyrics:[{time:null,text:"No lyrics found"}],error:u.error||null,isLoading:!1})}catch(u){e({lyrics:[{time:null,text:"Failed to load lyrics"}],error:u instanceof Error?u.message:"Unknown error",isLoading:!1})}},updateCurrentLine:n=>{const{lyrics:r,isSynced:s,currentLineIndex:a}=t();if(!s||r.length===0)return;const i=Ny(r,n);i!==a&&e({currentLineIndex:i})},seekToLine:n=>{const{lyrics:r}=t(),s=r[n];return(s==null?void 0:s.time)!==null?s.time:null},clearLyrics:()=>{e({lyrics:[],currentLineIndex:-1,isLoading:!1,error:null,isInstrumental:!1,isSynced:!1,currentLyricsTrack:null})}})),If=({size:e="md",showShuffle:t=!0,showRepeat:n=!0})=>{const{isPlaying:r,isShuffled:s,repeatMode:a,togglePlay:i,next:o,previous:c,toggleShuffle:u,cycleRepeat:f,currentTrack:h}=Pe(),m=()=>a==="one"?"fa-repeat fa-1":"fa-repeat";return l.jsxs("div",{className:`controls controls-${e}`,children:[t&&l.jsx("button",{className:`control-btn ${s?"active":""}`,onClick:u,title:"Shuffle",disabled:!h,children:l.jsx("i",{className:"fas fa-shuffle"})}),l.jsx("button",{className:"control-btn",onClick:c,title:"Previous",disabled:!h,children:l.jsx("i",{className:"fas fa-backward-step"})}),l.jsx("button",{className:"control-btn play-btn",onClick:i,title:r?"Pause":"Play",disabled:!h,children:l.jsx("i",{className:`fas fa-${r?"pause":"play"}`})}),l.jsx("button",{className:"control-btn",onClick:o,title:"Next",disabled:!h,children:l.jsx("i",{className:"fas fa-forward-step"})}),n&&l.jsxs("button",{className:`control-btn ${a!=="off"?"active":""}`,onClick:f,title:`Repeat: ${a}`,disabled:!h,children:[l.jsx("i",{className:`fas ${m()}`}),a==="one"&&l.jsx("span",{className:"repeat-one-badge",children:"1"})]})]})};function qt(e){if(!e||isNaN(e))return"0:00";const t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%60);return t>0?`${t}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:`${n}:${r.toString().padStart(2,"0")}`}function Df(e){if(!e||isNaN(e))return"0 min";const t=Math.floor(e/3600),n=Math.floor(e%3600/60);return t>0?`${t} hr ${n} min`:`${n} min`}const Mf=({value:e,min:t=0,max:n=100,step:r=1,onChange:s,onChangeEnd:a,className:i="",disabled:o=!1,showTooltip:c=!1,formatTooltip:u})=>{const f=j.useRef(null),[h,m]=j.useState(!1),[v,y]=j.useState(e),p=(e-t)/(n-t)*100,N=j.useCallback(x=>{if(!f.current)return e;const w=f.current.getBoundingClientRect(),k=Math.max(0,Math.min(1,(x-w.left)/w.width)),_=t+k*(n-t),P=Math.round(_/r)*r;return Math.max(t,Math.min(n,P))},[t,n,r,e]),g=j.useCallback(x=>{if(o)return;x.preventDefault(),m(!0);const w=N(x.clientX);y(w),s==null||s(w)},[o,N,s]),d=j.useCallback(x=>{if(o)return;m(!0);const w=x.touches[0],k=N(w.clientX);y(k),s==null||s(k)},[o,N,s]);return j.useEffect(()=>{if(!h)return;const x=_=>{const P=N(_.clientX);y(P),s==null||s(P)},w=_=>{const P=_.touches[0],L=N(P.clientX);y(L),s==null||s(L)},k=()=>{m(!1),a==null||a(v)};return document.addEventListener("mousemove",x),document.addEventListener("mouseup",k),document.addEventListener("touchmove",w),document.addEventListener("touchend",k),()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",k),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",k)}},[h,N,s,a,v]),l.jsx("div",{className:`slider ${o?"slider-disabled":""} ${i}`,onMouseDown:g,onTouchStart:d,children:l.jsxs("div",{className:"slider-track",ref:f,children:[l.jsx("div",{className:"slider-fill",style:{width:`${p}%`}}),l.jsx("div",{className:"slider-thumb",style:{left:`${p}%`},children:c&&h&&l.jsx("div",{className:"slider-tooltip",children:u?u(v):v})})]})})},Of=({showTime:e=!0,compact:t=!1})=>{const{currentTime:n,duration:r,seek:s}=Pe(),a=i=>{s(i)};return l.jsxs("div",{className:`progress-bar ${t?"compact":""}`,children:[e&&l.jsx("span",{className:"time current",children:qt(n)}),l.jsx(Mf,{value:n,min:0,max:r||100,step:.1,onChange:a,className:"slider-progress",showTooltip:!t,formatTooltip:qt}),e&&l.jsx("span",{className:"time duration",children:qt(r)})]})},wy=()=>{const{volume:e,isMuted:t,setVolume:n,toggleMute:r}=Pe(),s=()=>t||e===0?"fa-volume-xmark":e<.3?"fa-volume-off":e<.7?"fa-volume-low":"fa-volume-high",a=t?0:e;return l.jsxs("div",{className:"volume-control",children:[l.jsx("button",{className:"volume-btn",onClick:r,title:t?"Unmute":"Mute",children:l.jsx("i",{className:`fas ${s()}`})}),l.jsx(Mf,{value:a,min:0,max:1,step:.01,onChange:n,className:"slider-volume"})]})},ky=()=>{const e=j.useRef(null),{currentTrack:t,setAudioRef:n,setCurrentTime:r,setDuration:s,next:a,repeatMode:i}=Pe(),{isMobile:o,toggleQueue:c,toggleLyrics:u,isQueueOpen:f,isLyricsOpen:h,openAddToPlaylist:m,openArtistDetail:v}=re(),y=lo(d=>d.updateCurrentLine),p=j.useRef(y),N=j.useRef(a),g=j.useRef(i);return j.useEffect(()=>{p.current=y,N.current=a,g.current=i},[y,a,i]),j.useEffect(()=>(e.current&&n(e.current),()=>n(null)),[n]),j.useEffect(()=>{const d=e.current;if(!d)return;const x=()=>{const _=d.currentTime;r(_),p.current(_)},w=()=>{s(d.duration)},k=()=>{g.current!=="one"&&N.current()};return d.addEventListener("timeupdate",x),d.addEventListener("loadedmetadata",w),d.addEventListener("ended",k),()=>{d.removeEventListener("timeupdate",x),d.removeEventListener("loadedmetadata",w),d.removeEventListener("ended",k)}},[r,s]),o?l.jsx("audio",{ref:e}):l.jsxs(l.Fragment,{children:[l.jsx("audio",{ref:e}),l.jsxs("div",{className:"full-player",children:[l.jsx("div",{className:"player-track",children:t?l.jsxs(l.Fragment,{children:[l.jsx("img",{className:"player-artwork",src:K(t.album_cover),alt:t.album,onError:d=>te(d)}),l.jsxs("div",{className:"player-info",children:[l.jsx("span",{className:"player-title truncate",children:t.title}),l.jsx("span",{className:"player-artist truncate clickable",onClick:()=>v(t.artist),children:t.artist})]})]}):l.jsx("div",{className:"player-empty",children:l.jsx("span",{children:"No track playing"})})}),l.jsxs("div",{className:"player-center",children:[l.jsx(If,{}),l.jsx(Of,{})]}),l.jsxs("div",{className:"player-right",children:[l.jsx("button",{className:`player-btn ${h?"active":""}`,onClick:u,title:"Lyrics",disabled:!t,children:l.jsx("i",{className:"fas fa-quote-right"})}),l.jsx("button",{className:"player-btn",onClick:()=>t&&m(t.id),title:"Add to Playlist",disabled:!t,children:l.jsx("i",{className:"fas fa-plus"})}),l.jsx("button",{className:`player-btn ${f?"active":""}`,onClick:c,title:"Queue",children:l.jsx("i",{className:"fas fa-list"})}),l.jsx(wy,{})]})]})]})},Sy=()=>{const{currentTrack:e,isPlaying:t,togglePlay:n,next:r,previous:s}=Pe(),{toggleNowPlaying:a}=re(),i=j.useRef(null);if(!e)return null;const o=f=>{f.stopPropagation(),n()},c=f=>{const h=f.touches[0];i.current={x:h.clientX,y:h.clientY,time:Date.now()}},u=f=>{if(!i.current)return;const h=f.changedTouches[0],m=h.clientX-i.current.x,v=h.clientY-i.current.y,y=Date.now()-i.current.time,p=Math.abs(m),N=Math.abs(v);y<300?p>40&&p>N?m>0?s():r():(N>40&&N>p&&v<0||p<10&&N<10)&&a():p<10&&N<10&&a(),i.current=null};return l.jsxs("div",{className:"mini-player glass-card",onClick:a,onTouchStart:c,onTouchEnd:u,children:[l.jsx("img",{className:"mini-player-artwork",src:K(e.album_cover),alt:e.album,onError:f=>te(f)}),l.jsxs("div",{className:"mini-player-info",children:[l.jsx("span",{className:"mini-player-title",children:e.title}),l.jsx("span",{className:"mini-player-artist",children:e.artist})]}),l.jsx("div",{className:"mini-player-controls",children:l.jsx("button",{className:"control-btn",onClick:o,onTouchEnd:f=>{f.stopPropagation(),o(f)},children:l.jsx("i",{className:`fas fa-${t?"pause":"play"}`})})})]})};function Cy(e={}){const{threshold:t=50,velocityThreshold:n=.3,onSwipeLeft:r,onSwipeRight:s,onSwipeUp:a,onSwipeDown:i}=e,o=j.useRef(null),c=j.useCallback(h=>{const m=h.touches[0];o.current={startX:m.clientX,startY:m.clientY,startTime:Date.now()}},[]),u=j.useCallback(h=>{if(!o.current)return;const m=h.changedTouches[0],{startX:v,startY:y,startTime:p}=o.current,N=m.clientX-v,g=m.clientY-y,d=Date.now()-p,x=Math.abs(N)/d,w=Math.abs(g)/d,k=Math.abs(N),_=Math.abs(g),P=k>_;P&&k>=t&&x>=n?N>0&&s?s():N<0&&r&&r():!P&&_>=t&&w>=n&&(g>0&&i?i():g<0&&a&&a()),o.current=null},[t,n,r,s,a,i]),f=j.useCallback(()=>{o.current=null},[]);return{onTouchStart:c,onTouchEnd:u,onTouchCancel:f}}const Ey=()=>{const e=j.useRef(null),{currentTrack:t,isPlaying:n,setAudioRef:r,setCurrentTime:s,setDuration:a,next:i,previous:o,repeatMode:c}=Pe(),{isNowPlayingOpen:u,toggleNowPlaying:f,toggleLyrics:h,toggleQueue:m,openAddToPlaylist:v,openArtistDetail:y,isMobile:p}=re(),N=lo(k=>k.updateCurrentLine),g=Cy({onSwipeDown:f,onSwipeLeft:i,onSwipeRight:o,threshold:50}),d=j.useRef(N),x=j.useRef(i),w=j.useRef(c);return j.useEffect(()=>{d.current=N,x.current=i,w.current=c},[N,i,c]),j.useEffect(()=>{p&&e.current&&r(e.current)},[p,r]),j.useEffect(()=>{const k=e.current;if(!k||!p)return;const _=()=>{const O=k.currentTime;s(O),d.current(O)},P=()=>{a(k.duration)},L=()=>{w.current!=="one"&&x.current()};return k.addEventListener("timeupdate",_),k.addEventListener("loadedmetadata",P),k.addEventListener("ended",L),()=>{k.removeEventListener("timeupdate",_),k.removeEventListener("loadedmetadata",P),k.removeEventListener("ended",L)}},[p,s,a]),p?l.jsxs(l.Fragment,{children:[l.jsx("audio",{ref:e}),l.jsxs("div",{className:`now-playing ${u?"open":""}`,...g,children:[t&&l.jsx("div",{className:"now-playing-bg",style:{backgroundImage:`url(${K(t.album_cover)})`}}),l.jsxs("div",{className:"now-playing-header",children:[l.jsx("button",{className:"close-btn",onClick:f,children:l.jsx("i",{className:"fas fa-chevron-down"})}),l.jsx("span",{className:"header-title",children:"Now Playing"}),l.jsx("div",{className:"header-spacer"})]}),t&&l.jsxs("div",{className:"now-playing-content",children:[l.jsx("div",{className:`artwork-container ${n?"playing":"paused"}`,children:l.jsx("img",{className:"now-playing-artwork",src:K(t.album_cover),alt:t.album,onError:k=>te(k)})}),l.jsxs("div",{className:"track-info",children:[l.jsx("h2",{className:"track-title truncate",children:t.title}),l.jsx("p",{className:"track-artist truncate clickable",onClick:()=>{f(),y(t.artist)},children:t.artist})]}),l.jsxs("div",{className:"controls-container",children:[l.jsx(Of,{showTime:!0}),l.jsx(If,{size:"lg"})]}),l.jsxs("div",{className:"now-playing-actions",children:[l.jsxs("button",{className:"action-btn",onClick:h,children:[l.jsx("i",{className:"fas fa-quote-right"}),l.jsx("span",{children:"Lyrics"})]}),l.jsxs("button",{className:"action-btn",onClick:()=>v(t.id),children:[l.jsx("i",{className:"fas fa-plus"}),l.jsx("span",{children:"Add to Playlist"})]}),l.jsxs("button",{className:"action-btn",onClick:m,children:[l.jsx("i",{className:"fas fa-list"}),l.jsx("span",{children:"Queue"})]})]})]})]})]}):null},Py=()=>{const[e,t]=j.useState("queue"),{queue:n,queueIndex:r,currentTrack:s,recentlyPlayed:a,playTrack:i,removeFromQueue:o,clearQueue:c,clearRecentlyPlayed:u}=Pe(),{isQueueOpen:f,toggleQueue:h}=re(),m=n.slice(r+1);return f?l.jsxs("div",{className:"queue-panel glass-elevated",children:[l.jsxs("div",{className:"queue-header",children:[l.jsxs("div",{className:"queue-tabs",children:[l.jsx("button",{className:`queue-tab ${e==="queue"?"active":""}`,onClick:()=>t("queue"),children:"Queue"}),l.jsx("button",{className:`queue-tab ${e==="recently-played"?"active":""}`,onClick:()=>t("recently-played"),children:"Recently Played"})]}),l.jsxs("div",{className:"queue-actions",children:[e==="queue"&&m.length>0&&l.jsx("button",{className:"clear-btn",onClick:c,children:"Clear"}),e==="recently-played"&&a.length>0&&l.jsx("button",{className:"clear-btn",onClick:u,children:"Clear"}),l.jsx("button",{className:"close-btn",onClick:h,children:l.jsx("i",{className:"fas fa-times"})})]})]}),l.jsxs("div",{className:"queue-content",children:[e==="queue"&&l.jsxs(l.Fragment,{children:[s&&l.jsxs("div",{className:"queue-section",children:[l.jsx("h4",{children:"Now Playing"}),l.jsxs("div",{className:"queue-track current",children:[l.jsx("img",{src:K(s.album_cover),alt:s.album,onError:v=>te(v)}),l.jsxs("div",{className:"track-info",children:[l.jsx("span",{className:"title",children:s.title}),l.jsx("span",{className:"artist",children:s.artist})]}),l.jsx("span",{className:"duration",children:qt(s.duration)})]})]}),m.length>0&&l.jsxs("div",{className:"queue-section",children:[l.jsx("h4",{children:"Next Up"}),l.jsx("div",{className:"queue-list",children:m.map((v,y)=>l.jsxs("div",{className:"queue-track",onClick:()=>i(v,n,r+1+y),children:[l.jsx("img",{src:K(v.album_cover),alt:v.album,onError:p=>te(p)}),l.jsxs("div",{className:"track-info",children:[l.jsx("span",{className:"title",children:v.title}),l.jsx("span",{className:"artist",children:v.artist})]}),l.jsx("button",{className:"remove-btn",onClick:p=>{p.stopPropagation(),o(r+1+y)},children:l.jsx("i",{className:"fas fa-times"})})]},`${v.id}-${y}`))})]}),!s&&m.length===0&&l.jsxs("div",{className:"queue-empty",children:[l.jsx("i",{className:"fas fa-list"}),l.jsx("p",{children:"Queue is empty"}),l.jsx("span",{children:"Add songs to your queue to see them here"})]})]}),e==="recently-played"&&l.jsx(l.Fragment,{children:a.length>0?l.jsxs("div",{className:"queue-section",children:[l.jsx("h4",{children:"Recently Played"}),l.jsx("div",{className:"queue-list",children:a.map((v,y)=>l.jsxs("div",{className:"queue-track",onClick:()=>i(v,[v],0),children:[l.jsx("img",{src:K(v.album_cover),alt:v.album,onError:p=>te(p)}),l.jsxs("div",{className:"track-info",children:[l.jsx("span",{className:"title",children:v.title}),l.jsx("span",{className:"artist",children:v.artist})]}),l.jsx("span",{className:"duration",children:qt(v.duration)})]},`recently-${v.id}-${y}`))})]}):l.jsxs("div",{className:"queue-empty",children:[l.jsx("i",{className:"fas fa-history"}),l.jsx("p",{children:"No recently played"}),l.jsx("span",{children:"Songs you listen to will appear here"})]})})]})]}):null},_y=()=>{const{currentTrack:e,seek:t,play:n,isPlaying:r}=Pe(),{lyrics:s,currentLineIndex:a,isLoading:i,isSynced:o,loadLyrics:c,seekToLine:u}=lo(),{isLyricsOpen:f,toggleLyrics:h}=re(),m=j.useRef(null);j.useEffect(()=>{e&&f&&c(e)},[e,f,c]),j.useEffect(()=>{var p;if(!o||a<0)return;const y=(p=m.current)==null?void 0:p.querySelector(`[data-index="${a}"]`);y&&y.scrollIntoView({behavior:"smooth",block:"center"})},[a,o]);const v=y=>{if(!o)return;const p=u(y);p!==null&&(t(p),r||n())};return f?l.jsxs("div",{className:"lyrics-modal",children:[l.jsxs("div",{className:"lyrics-header",children:[e&&l.jsxs(l.Fragment,{children:[l.jsx("img",{className:"lyrics-artwork",src:K(e.album_cover),alt:e.album,onError:y=>te(y)}),l.jsxs("div",{className:"lyrics-track-info",children:[l.jsx("h2",{children:e.title}),l.jsx("p",{children:e.artist})]})]}),l.jsx("button",{className:"close-btn",onClick:h,children:l.jsx("i",{className:"fas fa-times"})})]}),l.jsx("div",{className:"lyrics-content",ref:m,children:i?l.jsxs("div",{className:"lyrics-loading",children:[l.jsx("div",{className:"spinner"}),l.jsx("span",{children:"Loading lyrics..."})]}):s.map((y,p)=>l.jsx("div",{className:`lyrics-line ${p===a?"active":""} ${o?"synced":""}`,"data-index":p,onClick:()=>v(p),children:y.text},p))})]}):null};async function Ly(){const e=await Ie("/api/library/library");return Array.isArray(e)?e:e.tracks||[]}async function Ty(e,t="all"){const n=await Ie(`/api/library/search?q=${encodeURIComponent(e)}&type=${t}`),r=n.songs||n.results||[];return{results:r,total:n.total||r.length,fullResults:{songs:n.songs||[],artists:n.artists||[],albums:n.albums||[]}}}async function Ry(){const e=await Ie("/api/library/artists");return Array.isArray(e)?e:e.artists||[]}async function Ay(){const e=await Ie("/api/library/albums");return(Array.isArray(e)?e:e.albums||[]).map(n=>({name:n.album,artist:n.artist,cover:Iy(n.albumCover||n.cover||null),track_count:n.trackCount||n.track_count||0,year:n.year||null}))}function Iy(e){return e?e.startsWith("/mnt/UNO/Music_lib/")?e.replace("/mnt/UNO/Music_lib/","/music_lib/"):e:null}async function Dy(e){try{const t=await Ie(`/api/library/artist/${encodeURIComponent(e)}`);let n=[];if(Array.isArray(t)?n=t:t.tracks?n=t.tracks:t.songs&&(n=t.songs),n.length===0)return null;const r=new Map;return n.forEach(s=>{if(s.album){const a=r.get(s.album);a?!a.cover&&s.album_cover&&(a.cover=s.album_cover):r.set(s.album,{name:s.album,artist:s.artist,cover:s.album_cover||null,track_count:n.filter(i=>i.album===s.album).length,year:s.year||null})}}),{artist:e,tracks:n,albums:Array.from(r.values())}}catch(t){return console.error("Failed to get artist detail:",t),null}}async function $f(e){var t;try{const n=await Ie(`/api/library/album/${encodeURIComponent(e)}`);let r=[];if(Array.isArray(n)?r=n:n.tracks?r=n.tracks:n.songs&&(r=n.songs),r.length===0)return null;const s=r[0],a=((t=r.find(i=>i.album_cover))==null?void 0:t.album_cover)||null;return{album:s.album||e,artist:s.artist||"Unknown Artist",tracks:r,album_cover:a}}catch(n){return console.error("Failed to get album detail:",n),null}}async function My(){return rt("/api/library/scan")}async function Oy(){return rt("/api/library/cleanup")}const $y=({album:e,onClick:t,hideArtist:n=!1})=>{const{openAlbumDetail:r}=re(),{playQueue:s}=Pe(),a=()=>{t?t():r(e.name)},i=async o=>{o.stopPropagation();try{const c=await $f(e.name);c!=null&&c.tracks&&c.tracks.length>0&&s(c.tracks)}catch(c){console.error("Failed to play album:",c)}};return l.jsxs("div",{className:"album-card",onClick:a,children:[l.jsxs("div",{className:"album-artwork",children:[l.jsx("img",{src:ny(e.cover,e.artist,e.name),alt:e.name,onError:o=>te(o),loading:"lazy"}),l.jsx("button",{className:"play-btn",onClick:i,children:l.jsx("i",{className:"fas fa-play"})})]}),l.jsx("h3",{className:"album-name",children:e.name}),!n&&l.jsx("p",{className:"album-artist truncate",children:e.artist})]})},X=({children:e,variant:t="primary",size:n="md",isLoading:r=!1,icon:s,iconOnly:a=!1,fullWidth:i=!1,className:o="",disabled:c,...u})=>{const f=["btn",`btn-${t}`,`btn-${n}`,a&&"btn-icon-only",i&&"btn-full-width",r&&"btn-loading",o].filter(Boolean).join(" ");return l.jsx("button",{className:f,disabled:c||r,...u,children:r?l.jsx("span",{className:"btn-spinner"}):l.jsxs(l.Fragment,{children:[s&&l.jsx("span",{className:"btn-icon",children:s}),!a&&e]})})},zy=()=>{var h,m;const{artistDetailModal:e,closeArtistDetail:t,openAlbumDetail:n}=re(),{playQueue:r}=Pe(),[s,a]=j.useState(null),[i,o]=j.useState(!1),c=(h=e.data)==null?void 0:h.artistName;j.useEffect(()=>{if(!e.isOpen||!c)return;let v=!1;return(async()=>{o(!0);try{const p=await Dy(c);v||a(p)}catch(p){console.error(p)}finally{v||o(!1)}})(),()=>{v=!0}},[e.isOpen,c]),j.useEffect(()=>{e.isOpen||a(null)},[e.isOpen]);const u=()=>{s!=null&&s.tracks&&r(s.tracks)},f=()=>{if(s!=null&&s.tracks){const v=[...s.tracks].sort(()=>Math.random()-.5);r(v)}};return e.isOpen?l.jsx("div",{className:"modal-overlay",onClick:t,children:l.jsxs("div",{className:"artist-detail-modal glass-elevated",onClick:v=>v.stopPropagation(),children:[l.jsx("button",{className:"modal-close",onClick:t,children:l.jsx("i",{className:"fas fa-times"})}),i?l.jsxs("div",{className:"artist-loading",children:[l.jsxs("div",{className:"artist-header",children:[l.jsx("div",{className:"artist-image-container skeleton"}),l.jsxs("div",{className:"artist-info",children:[l.jsx("div",{className:"skeleton",style:{width:50,height:12,borderRadius:4}}),l.jsx("div",{className:"skeleton",style:{width:"70%",height:32,borderRadius:4,marginTop:8}}),l.jsx("div",{className:"skeleton",style:{width:120,height:14,borderRadius:4,marginTop:12}})]})]}),l.jsxs("div",{className:"artist-actions",children:[l.jsx("div",{className:"skeleton",style:{width:110,height:44,borderRadius:22}}),l.jsx("div",{className:"skeleton",style:{width:100,height:44,borderRadius:22}})]}),l.jsxs("div",{className:"artist-section",children:[l.jsx("div",{className:"skeleton",style:{width:80,height:20,borderRadius:4,marginBottom:16}}),l.jsx("div",{className:"albums-grid",children:[...Array(4)].map((v,y)=>l.jsxs("div",{className:"skeleton-album",children:[l.jsx("div",{className:"skeleton",style:{paddingBottom:"100%",borderRadius:8}}),l.jsx("div",{className:"skeleton",style:{width:"80%",height:14,borderRadius:4,marginTop:12}}),l.jsx("div",{className:"skeleton",style:{width:"50%",height:12,borderRadius:4,marginTop:6}})]},y))})]})]}):s?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"artist-header",children:[l.jsx("div",{className:"artist-image-container",children:l.jsx("img",{className:"artist-image",src:ry((m=s.tracks[0])==null?void 0:m.artist_image),alt:s.artist,onError:v=>te(v,"artist")})}),l.jsxs("div",{className:"artist-info",children:[l.jsx("span",{className:"artist-type",children:"Artist"}),l.jsx("h1",{className:"artist-name",children:s.artist}),l.jsxs("div",{className:"artist-meta",children:[l.jsxs("span",{children:[s.tracks.length," tracks"]}),l.jsx("span",{className:"separator",children:""}),l.jsxs("span",{children:[s.albums.length," albums"]})]})]})]}),l.jsxs("div",{className:"artist-actions",children:[l.jsx(X,{size:"lg",onClick:u,icon:l.jsx("i",{className:"fas fa-play"}),disabled:s.tracks.length===0,children:"Play All"}),l.jsx(X,{variant:"secondary",size:"lg",onClick:f,icon:l.jsx("i",{className:"fas fa-shuffle"}),disabled:s.tracks.length===0,children:"Shuffle"})]}),s.albums.length>0&&l.jsxs("section",{className:"artist-section",children:[l.jsxs("h2",{children:["Albums (",s.albums.length,")"]}),l.jsx("div",{className:"albums-grid",children:s.albums.map(v=>l.jsx($y,{album:v,hideArtist:!0,onClick:()=>{t(),n(v.name,s.artist)}},v.name))})]})]}):l.jsxs("div",{className:"modal-empty",children:[l.jsx("i",{className:"fas fa-user-music"}),l.jsx("h3",{children:"Artist not found"}),l.jsx("p",{children:"This artist may have been removed from the library"})]})]})}):null},Kr=({track:e,index:t,showIndex:n=!1,queue:r,isPlaying:s,isActive:a,onPlay:i,onAddToPlaylist:o,onRemove:c,compact:u=!1})=>{const{currentTrack:f,isPlaying:h,playTrack:m,togglePlay:v}=Pe(),{openAddToPlaylist:y,openArtistDetail:p,isNowPlayingOpen:N,toggleNowPlaying:g}=re(),d=(f==null?void 0:f.id)===e.id,x=a??d,w=s??(d&&h),k=()=>{i?i():d?v():m(e,r,t)},_=O=>{O.stopPropagation(),o?o():y(e.id)},P=O=>{O.stopPropagation(),c&&c()},L=O=>{O.stopPropagation(),e.artist&&(N&&g(),p(e.artist))};return l.jsxs("div",{className:`track-card ${x?"active":""} ${u?"compact":""}`,onClick:k,children:[n&&l.jsxs("div",{className:"track-index",children:[w?l.jsxs("div",{className:"playing-indicator",children:[l.jsx("span",{}),l.jsx("span",{}),l.jsx("span",{})]}):l.jsx("span",{className:"index-number",children:(t??0)+1}),l.jsx("button",{className:"play-btn",children:l.jsx("i",{className:`fas fa-${w?"pause":"play"}`})})]}),l.jsxs("div",{className:"track-artwork",children:[l.jsx("img",{src:K(e.album_cover),alt:e.album,onError:O=>te(O),loading:"lazy"}),!n&&l.jsx("button",{className:"artwork-play-btn",children:l.jsx("i",{className:`fas fa-${w?"pause":"play"}`})})]}),l.jsxs("div",{className:"track-info",children:[l.jsx("span",{className:`track-title ${x?"active":""}`,children:e.title}),l.jsx("span",{className:"track-artist",onClick:L,children:e.artist})]}),!u&&l.jsx("span",{className:"track-album truncate",children:e.album}),l.jsxs("div",{className:"track-actions",children:[l.jsx("button",{className:"action-btn",onClick:_,title:"Add to playlist",children:l.jsx("i",{className:"fas fa-plus"})}),c&&l.jsx("button",{className:"action-btn remove-btn",onClick:P,title:"Remove from playlist",children:l.jsx("i",{className:"fas fa-trash"})})]}),l.jsx("span",{className:"track-duration",children:qt(e.duration)})]})},by=()=>{var N,g;const{albumDetailModal:e,closeAlbumDetail:t,openArtistDetail:n,goBackFromAlbum:r}=re(),{playQueue:s}=Pe(),[a,i]=j.useState(null),[o,c]=j.useState(!1),u=(N=e.data)==null?void 0:N.albumName,f=(g=e.data)==null?void 0:g.fromArtist,h=()=>{f?r():t()};j.useEffect(()=>{if(!e.isOpen||!u)return;let d=!1;return(async()=>{c(!0);try{const w=await $f(u);d||i(w)}catch(w){console.error(w)}finally{d||c(!1)}})(),()=>{d=!0}},[e.isOpen,u]),j.useEffect(()=>{e.isOpen||i(null)},[e.isOpen]);const m=()=>{a!=null&&a.tracks&&s(a.tracks)},v=()=>{if(a!=null&&a.tracks){const d=[...a.tracks].sort(()=>Math.random()-.5);s(d)}},y=()=>{a!=null&&a.artist&&(t(),n(a.artist))},p=(a==null?void 0:a.tracks.reduce((d,x)=>d+(x.duration||0),0))||0;return e.isOpen?l.jsx("div",{className:"modal-overlay",onClick:h,children:l.jsxs("div",{className:"album-detail-modal glass-elevated",onClick:d=>d.stopPropagation(),children:[f?l.jsx("button",{className:"modal-back",onClick:r,children:l.jsx("i",{className:"fas fa-arrow-left"})}):null,l.jsx("button",{className:"modal-close",onClick:t,children:l.jsx("i",{className:"fas fa-times"})}),o?l.jsxs("div",{className:"album-loading",children:[l.jsxs("div",{className:"album-header",children:[l.jsx("div",{className:"album-artwork-container skeleton"}),l.jsxs("div",{className:"album-info",children:[l.jsx("div",{className:"skeleton",style:{width:60,height:12,borderRadius:4}}),l.jsx("div",{className:"skeleton",style:{width:"80%",height:28,borderRadius:4,marginTop:8}}),l.jsx("div",{className:"skeleton",style:{width:150,height:14,borderRadius:4,marginTop:12}})]})]}),l.jsxs("div",{className:"album-actions",children:[l.jsx("div",{className:"skeleton",style:{width:100,height:44,borderRadius:22}}),l.jsx("div",{className:"skeleton",style:{width:100,height:44,borderRadius:22}})]}),l.jsx("div",{className:"album-tracks",children:[...Array(5)].map((d,x)=>l.jsxs("div",{className:"skeleton-track",children:[l.jsx("div",{className:"skeleton",style:{width:24,height:24,borderRadius:4}}),l.jsx("div",{className:"skeleton",style:{width:48,height:48,borderRadius:6}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{className:"skeleton",style:{width:"60%",height:14,borderRadius:4}}),l.jsx("div",{className:"skeleton",style:{width:"40%",height:12,borderRadius:4,marginTop:6}})]}),l.jsx("div",{className:"skeleton",style:{width:40,height:12,borderRadius:4}})]},x))})]}):a?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"album-header",children:[l.jsx("div",{className:"album-artwork-container",children:l.jsx("img",{className:"album-artwork",src:K(a.album_cover),alt:a.album,onError:d=>te(d)})}),l.jsxs("div",{className:"album-info",children:[l.jsx("span",{className:"album-type",children:"Album"}),l.jsx("h1",{className:"album-title",children:a.album}),l.jsxs("div",{className:"album-meta",children:[l.jsx("span",{className:"artist-link",onClick:y,children:a.artist}),l.jsx("span",{className:"separator",children:""}),l.jsxs("span",{children:[a.tracks.length," tracks"]}),l.jsx("span",{className:"separator",children:""}),l.jsx("span",{children:Df(p)})]})]})]}),l.jsxs("div",{className:"album-actions",children:[l.jsx(X,{size:"lg",onClick:m,icon:l.jsx("i",{className:"fas fa-play"}),disabled:a.tracks.length===0,children:"Play"}),l.jsx(X,{variant:"secondary",size:"lg",onClick:v,icon:l.jsx("i",{className:"fas fa-shuffle"}),disabled:a.tracks.length===0,children:"Shuffle"})]}),l.jsx("div",{className:"album-tracks",children:a.tracks.length>0?l.jsx("div",{className:"track-list",children:a.tracks.map((d,x)=>l.jsx(Kr,{track:d,index:x,showIndex:!0,queue:a.tracks},d.id))}):l.jsxs("div",{className:"empty-state compact",children:[l.jsx("i",{className:"fas fa-music"}),l.jsx("p",{children:"No tracks found"})]})})]}):l.jsxs("div",{className:"modal-empty",children:[l.jsx("i",{className:"fas fa-compact-disc"}),l.jsx("h3",{children:"Album not found"}),l.jsx("p",{children:"This album may have been removed from the library"})]})]})}):null};async function Fy(e){return rt("/api/spotify-playlist/import",{playlistUrl:e})}async function Uy(e){return rt("/api/download/spotify-url",{url:e})}function Wy(e){return e.includes("spotify.com/track/")||e.includes("spotify:track:")?"track":e.includes("spotify.com/album/")||e.includes("spotify:album:")?"album":e.includes("spotify.com/playlist/")||e.includes("spotify:playlist:")?"playlist":null}async function By(e){return rt("/api/youtube-music-playlist/import",{playlistUrl:e})}async function Vy(e){return rt("/api/url-download/song",{url:e})}async function Qy(){return(await Ie("/api/download/list")).downloads||[]}async function Hy(e){await ro(`/api/download/cancel/${e}`)}async function Ky(){return rt("/api/download/cleanup")}const Ze=j.forwardRef(({label:e,error:t,icon:n,iconPosition:r="left",fullWidth:s=!1,className:a="",id:i,...o},c)=>{const u=i||(e==null?void 0:e.toLowerCase().replace(/\s+/g,"-"));return l.jsxs("div",{className:`input-wrapper ${s?"input-full-width":""}`,children:[e&&l.jsx("label",{htmlFor:u,className:"input-label",children:e}),l.jsxs("div",{className:`input-container ${n?`has-icon icon-${r}`:""} ${t?"has-error":""}`,children:[n&&r==="left"&&l.jsx("span",{className:"input-icon",children:n}),l.jsx("input",{ref:c,id:u,className:`input ${a}`,...o}),n&&r==="right"&&l.jsx("span",{className:"input-icon",children:n})]}),t&&l.jsx("span",{className:"input-error",children:t})]})});Ze.displayName="Input";const Yy={spotify:{title:"Import from Spotify",icon:"fab fa-spotify",placeholder:"https://open.spotify.com/track/... or /album/... or /playlist/...",label:"Spotify URL (Track, Album, or Playlist)"},youtube:{title:"Import from YouTube Music",icon:"fab fa-youtube",placeholder:"https://music.youtube.com/playlist?list=...",label:"YouTube Music Playlist URL"},url:{title:"Download from URL",icon:"fas fa-link",placeholder:"https://example.com/song.mp3",label:"Song URL"}},Xy=()=>{var v;const{importModal:e,closeImportModal:t}=re(),[n,r]=j.useState(""),[s,a]=j.useState(!1),[i,o]=j.useState(null),[c,u]=j.useState(null),f=((v=e.data)==null?void 0:v.type)||"url",h=Yy[f],m=async y=>{if(y.preventDefault(),!n.trim()){o("Please enter a URL");return}a(!0),o(null),u(null);try{let p;switch(f){case"spotify":const N=Wy(n);if(N==="track"||N==="album")p=await Uy(n);else if(N==="playlist")p=await Fy(n);else{o("Invalid Spotify URL. Please enter a track, album, or playlist link."),a(!1);return}break;case"youtube":p=await By(n);break;case"url":p=await Vy(n);break}p.success?(u(p.message||"Import started successfully!"),r(""),setTimeout(()=>{t(),u(null)},2e3)):o(p.message||"Import failed")}catch(p){o(p instanceof Error?p.message:"Import failed")}finally{a(!1)}};return e.isOpen?l.jsx("div",{className:"modal-overlay",onClick:t,children:l.jsxs("div",{className:"import-modal glass-elevated",onClick:y=>y.stopPropagation(),children:[l.jsx("button",{className:"modal-close",onClick:t,children:l.jsx("i",{className:"fas fa-times"})}),l.jsxs("div",{className:"import-header",children:[l.jsx("div",{className:"import-icon",children:l.jsx("i",{className:h.icon})}),l.jsx("h2",{children:h.title})]}),l.jsxs("form",{onSubmit:m,className:"import-form",children:[l.jsx(Ze,{label:h.label,placeholder:h.placeholder,value:n,onChange:y=>r(y.target.value),fullWidth:!0,disabled:s}),i&&l.jsxs("div",{className:"import-message error",children:[l.jsx("i",{className:"fas fa-exclamation-circle"}),l.jsx("span",{children:i})]}),c&&l.jsxs("div",{className:"import-message success",children:[l.jsx("i",{className:"fas fa-check-circle"}),l.jsx("span",{children:c})]}),l.jsxs("div",{className:"import-actions",children:[l.jsx(X,{variant:"secondary",type:"button",onClick:t,children:"Cancel"}),l.jsx(X,{type:"submit",isLoading:s,children:f==="url"?"Download":"Import"})]})]})]})}):null},Gy=()=>{const e=rn(),{createPlaylistModal:t,closeCreatePlaylist:n,showToast:r}=re(),{createPlaylist:s}=sr(),[a,i]=j.useState(""),[o,c]=j.useState(""),[u,f]=j.useState(!1),[h,m]=j.useState(null),v=async p=>{if(p.preventDefault(),!a.trim()){m("Please enter a playlist name");return}f(!0),m(null);try{const N=await s(a.trim(),o.trim()||void 0);N?(i(""),c(""),n(),r(`Playlist "${N.name}" created`,"success"),e(`/playlist/${N.id}`)):(m("Failed to create playlist"),r("Failed to create playlist","error"))}catch(N){m(N instanceof Error?N.message:"Failed to create playlist"),r("Failed to create playlist","error")}finally{f(!1)}},y=()=>{i(""),c(""),m(null),n()};return t.isOpen?l.jsx("div",{className:"modal-overlay",onClick:y,children:l.jsxs("div",{className:"create-playlist-modal glass-elevated",onClick:p=>p.stopPropagation(),children:[l.jsx("button",{className:"modal-close",onClick:y,children:l.jsx("i",{className:"fas fa-times"})}),l.jsx("h2",{children:"Create Playlist"}),l.jsxs("form",{onSubmit:v,className:"create-form",children:[l.jsx(Ze,{label:"Name",placeholder:"My awesome playlist",value:a,onChange:p=>i(p.target.value),fullWidth:!0,disabled:u,autoFocus:!0}),l.jsxs("div",{className:"input-wrapper input-full-width",children:[l.jsx("label",{className:"input-label",children:"Description (optional)"}),l.jsx("textarea",{className:"textarea",placeholder:"What's this playlist about?",value:o,onChange:p=>c(p.target.value),disabled:u,rows:3})]}),h&&l.jsxs("div",{className:"create-error",children:[l.jsx("i",{className:"fas fa-exclamation-circle"}),l.jsx("span",{children:h})]}),l.jsxs("div",{className:"create-actions",children:[l.jsx(X,{variant:"secondary",type:"button",onClick:y,children:"Cancel"}),l.jsx(X,{type:"submit",isLoading:u,children:"Create"})]})]})]})}):null},qy=()=>{var v;const{addToPlaylistModal:e,closeAddToPlaylist:t,openCreatePlaylist:n,showToast:r}=re(),{playlists:s,addTrackToPlaylist:a}=sr(),[i,o]=j.useState(null),[c,u]=j.useState(null),f=(v=e.data)==null?void 0:v.trackId,h=async y=>{if(!f)return;const p=s.find(N=>N.id===y);o(y);try{await a(y,f)?(u(y),r(`Added to "${(p==null?void 0:p.name)||"playlist"}"`,"success"),setTimeout(()=>{t(),u(null)},800)):r("Song already in playlist","warning")}catch{r("Failed to add to playlist","error")}finally{o(null)}},m=()=>{t(),n()};return e.isOpen?l.jsx("div",{className:"modal-overlay",onClick:t,children:l.jsxs("div",{className:"add-to-playlist-modal glass-elevated",onClick:y=>y.stopPropagation(),children:[l.jsx("button",{className:"modal-close",onClick:t,children:l.jsx("i",{className:"fas fa-times"})}),l.jsx("h2",{children:"Add to Playlist"}),l.jsxs("div",{className:"playlists-list",children:[l.jsxs("button",{className:"playlist-option new",onClick:m,children:[l.jsx("div",{className:"playlist-icon",children:l.jsx("i",{className:"fas fa-plus"})}),l.jsx("span",{children:"Create new playlist"})]}),s.map(y=>l.jsxs("button",{className:`playlist-option ${c===y.id?"success":""}`,onClick:()=>h(y.id),disabled:i!==null,children:[l.jsx("img",{src:K(y.artwork),alt:y.name,onError:p=>te(p)}),l.jsxs("div",{className:"playlist-details",children:[l.jsx("span",{className:"playlist-name",children:y.name}),l.jsxs("span",{className:"playlist-count",children:[y.track_count," tracks"]})]}),i===y.id&&l.jsx("div",{className:"spinner"}),c===y.id&&l.jsx("i",{className:"fas fa-check success-icon"})]},y.id))]}),s.length===0&&l.jsxs("div",{className:"no-playlists",children:[l.jsx("p",{children:"No playlists yet"}),l.jsx(X,{onClick:m,children:"Create your first playlist"})]})]})}):null},sa="https://discord.gg/BCFwE6ts3j",Fc="noxa_welcome_dismissed",Jy=()=>{const[e,t]=j.useState(!1);j.useEffect(()=>{if(!localStorage.getItem(Fc)){const s=setTimeout(()=>t(!0),1500);return()=>clearTimeout(s)}},[]);const n=()=>{t(!1),localStorage.setItem(Fc,"true")};return e?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"welcome-overlay",onClick:n}),l.jsxs("div",{className:"welcome-popup glass-elevated",children:[l.jsx("button",{className:"welcome-close",onClick:n,children:l.jsx("i",{className:"fas fa-times"})}),l.jsx("div",{className:"welcome-icon",children:l.jsx("i",{className:"fab fa-discord"})}),l.jsxs("div",{className:"welcome-content",children:[l.jsx("h3",{children:"Stay Connected "}),l.jsx("p",{children:"Join our Discord and download apps for your mobile devices!"}),l.jsxs("div",{className:"welcome-apps",children:[l.jsxs("a",{href:sa,target:"_blank",rel:"noopener noreferrer",children:[l.jsx("i",{className:"fab fa-android"}),l.jsx("span",{children:"Android App"})]}),l.jsxs("a",{href:sa,target:"_blank",rel:"noopener noreferrer",children:[l.jsx("i",{className:"fab fa-app-store-ios"}),l.jsx("span",{children:"iOS App"})]})]})]}),l.jsx("a",{href:sa,target:"_blank",rel:"noopener noreferrer",className:"welcome-btn",onClick:n,children:"Join the Community"})]})]}):null},Zy=({toast:e})=>{const{dismissToast:t}=re(),n={success:"fa-check-circle",error:"fa-exclamation-circle",warning:"fa-exclamation-triangle",info:"fa-info-circle"};return l.jsxs("div",{className:`toast toast-${e.type}`,onClick:()=>t(e.id),children:[l.jsx("i",{className:`fas ${n[e.type]}`}),l.jsx("span",{children:e.message}),l.jsx("button",{className:"toast-close",onClick:()=>t(e.id),children:l.jsx("i",{className:"fas fa-times"})})]})},eg=()=>{const{toasts:e}=re();return e.length===0?null:l.jsx("div",{className:"toast-container",children:e.map(t=>l.jsx(Zy,{toast:t},t.id))})};function Uc(e){return e.filter(t=>{if(!t.title||t.title.trim()===""||!t.artist)return!1;const n=t.artist.toLowerCase();return!(n==="unknown"||n==="unknown artist"||n==="various artists"||!t.file_path||t.file_path.trim()==="")})}const zf=nr((e,t)=>({tracks:[],artists:[],albums:[],isLoading:!1,error:null,searchQuery:"",searchResults:[],searchArtists:[],searchAlbums:[],isSearching:!1,isScanning:!1,isCleaning:!1,lastScanResult:null,lastCleanupResult:null,fetchLibrary:async()=>{e({isLoading:!0,error:null});try{const n=await Ly(),r=Uc(n);e({tracks:r,isLoading:!1})}catch(n){const r=n instanceof Error?n.message:"Failed to load library";e({error:r,isLoading:!1})}},fetchArtists:async()=>{try{const n=await Ry();e({artists:n})}catch(n){console.error("Failed to fetch artists:",n)}},fetchAlbums:async()=>{try{const n=await Ay();e({albums:n})}catch(n){console.error("Failed to fetch albums:",n)}},search:async n=>{var a,i;if(e({searchQuery:n}),!n.trim()){e({searchResults:[],searchArtists:[],searchAlbums:[],isSearching:!1});return}e({isSearching:!0});const r=2;let s;for(let o=0;o<r;o++)try{const c=await Ty(n),u=Uc(c.results||[]),f=((a=c.fullResults)==null?void 0:a.artists)||[],h=((i=c.fullResults)==null?void 0:i.albums)||[];e({searchResults:u,searchArtists:f,searchAlbums:h,isSearching:!1});return}catch(c){s=c,console.warn(`Search attempt ${o+1} failed:`,c),o<r-1&&await new Promise(u=>setTimeout(u,300*(o+1)))}console.error("Search failed after retries:",s),e({searchResults:[],searchArtists:[],searchAlbums:[],isSearching:!1})},clearSearch:()=>{e({searchQuery:"",searchResults:[],searchArtists:[],searchAlbums:[],isSearching:!1})},refresh:async()=>{const{fetchLibrary:n,fetchArtists:r,fetchAlbums:s}=t();await Promise.all([n(),r(),s()])},scanLibrary:async()=>{e({isScanning:!0,error:null});try{const n=await My();e({lastScanResult:n,isScanning:!1});const{refresh:r}=t();return await r(),n}catch(n){const r=n instanceof Error?n.message:"Failed to scan library";return e({error:r,isScanning:!1}),null}},cleanupLibrary:async()=>{e({isCleaning:!0,error:null});try{const n=await Oy();e({lastCleanupResult:n,isCleaning:!1});const{refresh:r}=t();return await r(),n}catch(n){const r=n instanceof Error?n.message:"Failed to cleanup library";return e({error:r,isCleaning:!1}),null}}})),la={"daily-mix-1":["#4a148c","#1a237e"],"daily-mix-2":["#1b5e20","#004d40"],"daily-mix-3":["#e65100","#bf360c"],chill:["#0d47a1","#006064"],discover:["#bf360c","#e65100"],favorites:["#880e4f","#4a148c"],recent:["#1565c0","#0d47a1"],default:["#1a1a2e","#16213e"]};function tg(e){var r;if(e.gradient)return`linear-gradient(135deg, ${e.gradient[0]} 0%, ${e.gradient[1]} 100%)`;const t=((r=e.id)==null?void 0:r.toString().toLowerCase())||"",n=e.name.toLowerCase();for(const[s,a]of Object.entries(la))if(t.includes(s)||n.includes(s))return`linear-gradient(135deg, ${a[0]} 0%, ${a[1]} 100%)`;return`linear-gradient(135deg, ${la.default[0]} 0%, ${la.default[1]} 100%)`}const ng=({playlist:e,onClick:t})=>{const n=tg(e),r=!!e.artwork,s=K(e.artwork),a=l.jsxs(l.Fragment,{children:[r&&l.jsx("img",{className:"featured-artwork",src:s,alt:e.name,loading:"lazy",decoding:"async",onError:o=>te(o)}),l.jsxs("div",{className:"featured-content",children:[l.jsx("span",{className:"featured-label",children:e.is_generated?"Made for you":"Playlist"}),l.jsx("h3",{className:"featured-title",children:e.name}),e.description&&l.jsx("p",{className:"featured-subtitle line-clamp-2",children:e.description})]})]}),i=r?void 0:{background:n};return t?l.jsx("div",{className:`featured-card ${r?"has-artwork":""}`,style:i,onClick:t,children:a}):l.jsx(Zr,{to:`/playlist/${e.id}`,className:`featured-card ${r?"has-artwork":""}`,style:i,children:a})},bf=({playlist:e,onClick:t})=>{const{playQueue:n}=Pe(),r=async a=>{a.preventDefault(),a.stopPropagation();try{const i=await Tf(e.id);i.length>0&&n(i)}catch(i){console.error("Failed to play playlist:",i)}},s=l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"playlist-artwork",children:[l.jsx("img",{src:K(e.artwork),alt:e.name,onError:a=>te(a),loading:"lazy"}),l.jsx("button",{className:"play-btn",onClick:r,children:l.jsx("i",{className:"fas fa-play"})})]}),l.jsx("h3",{className:"playlist-name truncate",children:e.name}),l.jsx("p",{className:"playlist-meta line-clamp-2",children:e.description||`${e.track_count} tracks`})]});return t?l.jsx("div",{className:"playlist-card",onClick:t,children:s}):l.jsx(Zr,{to:`/playlist/${e.id}`,className:"playlist-card",children:s})},un=({width:e,height:t,variant:n="text",className:r="",animation:s="pulse"})=>{const a={width:typeof e=="number"?`${e}px`:e,height:typeof t=="number"?`${t}px`:t};return l.jsx("div",{className:`skeleton skeleton-${n} skeleton-${s} ${r}`,style:a})},si=({className:e=""})=>l.jsxs("div",{className:`skeleton-card ${e}`,children:[l.jsx(un,{variant:"rounded",width:"100%",height:180}),l.jsx(un,{variant:"text",width:"80%",height:16}),l.jsx(un,{variant:"text",width:"60%",height:14})]}),Ff=({className:e=""})=>l.jsxs("div",{className:`skeleton-track ${e}`,children:[l.jsx(un,{variant:"rounded",width:48,height:48}),l.jsxs("div",{className:"skeleton-track-info",children:[l.jsx(un,{variant:"text",width:"70%",height:16}),l.jsx(un,{variant:"text",width:"50%",height:14})]}),l.jsx(un,{variant:"text",width:40,height:14})]}),Wc=({children:e,className:t=""})=>{const n=j.useRef(null),[r,s]=j.useState(0),[a,i]=j.useState(0),[o,c]=j.useState(!1),u=j.useCallback(v=>{const y=n.current;!y||!o||y.scrollWidth<=y.clientWidth||(v.preventDefault(),y.scrollLeft+=v.deltaY*2)},[o]);j.useEffect(()=>{const v=n.current;if(v)return v.addEventListener("wheel",u,{passive:!1}),()=>v.removeEventListener("wheel",u)},[u]);const f=j.useCallback(()=>{const v=n.current;if(!v)return;const y=v.scrollWidth,p=v.clientWidth,N=Math.max(1,Math.ceil(y/p));i(N)},[]),h=j.useCallback(()=>{const v=n.current;if(!v||a<=1)return;const y=v.scrollLeft,p=v.scrollWidth-v.clientWidth,N=y/p,g=Math.round(N*(a-1));s(Math.min(g,a-1))},[a]),m=v=>{const y=n.current;if(!y||a<=1)return;const p=y.scrollWidth-y.clientWidth,N=v/(a-1)*p;y.scrollTo({left:N,behavior:"smooth"})};return j.useEffect(()=>{f();const v=()=>{f(),h()};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[f,h]),j.useEffect(()=>{const v=n.current;if(!v)return;const y=new MutationObserver(f);return y.observe(v,{childList:!0,subtree:!0}),()=>y.disconnect()},[f]),l.jsxs("div",{className:`horizontal-scroll-wrapper ${t}`,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[l.jsx("div",{ref:n,className:"horizontal-scroll-container hide-scrollbar",onScroll:h,children:e}),a>1&&l.jsx("div",{className:"scroll-indicators",children:Array.from({length:a}).map((v,y)=>l.jsx("button",{className:`scroll-dot ${y===r?"active":""}`,onClick:()=>m(y),"aria-label":`Go to section ${y+1}`},y))})]})};function rg(){const e=new Date().getHours();return e<12?"Good morning":e<18?"Good afternoon":"Good evening"}const sg=()=>{const{tracks:e,isLoading:t,fetchLibrary:n}=zf(),{playlists:r,generatedPlaylists:s,isLoading:a,fetchPlaylists:i,fetchGeneratedPlaylists:o}=sr(),{playQueue:c}=Pe();j.useEffect(()=>{n(),i(),o()},[n,i,o]);const u=j.useMemo(()=>[...e].sort((m,v)=>v.id-m.id).slice(0,10),[e]),f=j.useMemo(()=>e.filter((m,v)=>v%Math.max(1,Math.floor(e.length/6))===0).slice(0,6),[e]),h=t||a;return l.jsxs("div",{className:"home-page animate-fade-in",children:[l.jsx("header",{className:"home-header",children:l.jsx("h1",{children:rg()})}),l.jsxs("section",{className:"home-section",children:[l.jsx("div",{className:"section-header",children:l.jsx("h2",{className:"section-title",children:"Made for you"})}),a&&s.length===0?l.jsx(Wc,{children:[...Array(4)].map((m,v)=>l.jsx(si,{className:"featured-skeleton"},v))}):s.length>0?l.jsx(Wc,{children:s.map(m=>l.jsx(ng,{playlist:m},m.id))}):l.jsxs("div",{className:"empty-state compact",children:[l.jsx("i",{className:"fas fa-wand-magic-sparkles"}),l.jsx("p",{children:"Loading personalized playlists..."})]})]}),l.jsxs("section",{className:"home-section",children:[l.jsx("div",{className:"section-header",children:l.jsx("h2",{className:"section-title",children:"Your Playlists"})}),h?l.jsx("div",{className:"card-grid",children:[...Array(4)].map((m,v)=>l.jsx(si,{},v))}):r.length>0?l.jsx("div",{className:"card-grid",children:r.slice(0,6).map(m=>l.jsx(bf,{playlist:m},m.id))}):l.jsxs("div",{className:"empty-state",children:[l.jsx("i",{className:"fas fa-music"}),l.jsx("h3",{children:"No playlists yet"}),l.jsx("p",{children:"Create your first playlist to get started"})]})]}),l.jsxs("section",{className:"home-section",children:[l.jsxs("div",{className:"section-header",children:[l.jsx("h2",{className:"section-title",children:"Recommended for you"}),f.length>0&&l.jsx("button",{className:"section-link",onClick:()=>c(f),children:"Play all"})]}),f.length>0?l.jsx("div",{className:"track-list",children:f.map((m,v)=>l.jsx(Kr,{track:m,index:v,queue:f,compact:!0},m.id))}):l.jsxs("div",{className:"empty-state compact",children:[l.jsx("i",{className:"fas fa-sparkles"}),l.jsx("h3",{children:"Discover new music"}),l.jsx("p",{children:"Search online to find and add songs to your library"})]})]}),u.length>0&&l.jsxs("section",{className:"home-section",children:[l.jsx("div",{className:"section-header",children:l.jsx("h2",{className:"section-title",children:"Recently Added"})}),l.jsx("div",{className:"track-list",children:u.slice(0,5).map((m,v)=>l.jsx(Kr,{track:m,index:v,queue:u,compact:!0},m.id))})]})]})};async function lg(e){const t=await Ie(`/api/music/smart-search?q=${encodeURIComponent(e)}`);return{tracks:(t.tracks||[]).map(n=>({id:String(n.id),title:n.title,artist:n.artist,artistId:n.artistId?String(n.artistId):void 0,album:n.album||"",albumId:n.albumId?String(n.albumId):void 0,artwork:n.image||"",duration:n.duration||0,preview:n.preview||"",source:"deezer"})),artists:(t.artists||[]).map(n=>({id:String(n.id),name:n.name,image:n.image||"",fans:n.fans,source:"deezer"})),albums:(t.albums||[]).map(n=>({id:String(n.id),title:n.title,artist:n.artist,artistId:n.artistId?String(n.artistId):void 0,image:n.image||"",trackCount:n.trackCount,source:"deezer"}))}}async function ag(e){const t=await Ie(`/api/music/artist/${e}`);return{id:String(t.id),name:t.name,image:t.image||"",fans:t.fans,source:"deezer",albums:(t.albums||[]).map(n=>({id:String(n.id),title:n.title,artist:t.name,image:n.image||"",releaseDate:n.releaseDate,trackCount:n.trackCount,type:n.type,source:"deezer"}))}}async function ig(e){const t=await Ie(`/api/music/album/${e}`);return{id:String(t.id),title:t.title,artist:t.artist,artistId:t.artistId?String(t.artistId):void 0,image:t.image||"",releaseDate:t.releaseDate,trackCount:t.trackCount,duration:t.duration,source:"deezer",tracks:(t.tracks||[]).map(n=>({id:String(n.id),title:n.title,artist:n.artist||t.artist,album:t.title,albumId:String(t.id),artwork:t.image||"",duration:n.duration||0,trackNumber:n.trackNumber,preview:n.preview||"",source:"deezer"}))}}async function og(e){return rt("/api/url-download/search",{artist:e.artist,title:e.title,album:e.album})}async function cg(e){const t=[];for(const n of e.tracks)try{const r=await rt("/api/url-download/search",{artist:n.artist,title:n.title,album:e.title});r.downloadId&&t.push(r.downloadId)}catch(r){console.error(`Failed to queue ${n.title}:`,r)}return{success:t.length>0,message:`Queued ${t.length}/${e.tracks.length} tracks for download`,downloadIds:t}}async function ug(e,t){return rt("/api/library/check-exists",{tracks:e,albums:t})}const dg=()=>{const{searchQuery:e,searchResults:t,searchArtists:n,searchAlbums:r,isSearching:s,search:a,clearSearch:i}=zf(),{showToast:o,openArtistDetail:c,openAlbumDetail:u}=re(),[f,h]=j.useState(e),[m,v]=j.useState("local"),[y,p]=j.useState("all"),[N,g]=j.useState([]),[d,x]=j.useState([]),[w,k]=j.useState([]),[_,P]=j.useState(!1),[L,O]=j.useState(null),[A,ee]=j.useState(null),[Ne,me]=j.useState(!1),[he,It]=j.useState(new Set),[_e,mt]=j.useState(new Set),[T,D]=j.useState({tracks:{},albums:{}}),M=j.useRef(),H=j.useCallback(C=>{M.current&&clearTimeout(M.current),M.current=window.setTimeout(()=>{a(C)},300)},[a]),Y=j.useCallback(C=>{if(M.current&&clearTimeout(M.current),!C.trim()){g([]),x([]),k([]),D({tracks:{},albums:{}}),P(!1);return}P(!0),M.current=window.setTimeout(async()=>{for(let Fe=0;Fe<2;Fe++)try{const Ye=await lg(C);g(Ye.tracks||[]),x(Ye.artists||[]),k(Ye.albums||[]),P(!1),(Ye.tracks.length>0||Ye.albums.length>0)&&ug(Ye.tracks.map(we=>({id:we.id,title:we.title,artist:we.artist})),Ye.albums.map(we=>({id:we.id,title:we.title,artist:we.artist}))).then(we=>{D(we)}).catch(we=>{console.warn("Failed to check library:",we)});return}catch(Ye){console.warn(`Online search attempt ${Fe+1} failed:`,Ye),Fe<1&&await new Promise(we=>setTimeout(we,500*(Fe+1)))}console.error("Online search failed after retries"),g([]),x([]),k([]),D({tracks:{},albums:{}}),P(!1)},500)},[]);j.useEffect(()=>(m==="local"?H(f):Y(f),()=>{M.current&&clearTimeout(M.current)}),[f,m,H,Y]),j.useEffect(()=>()=>{i()},[i]);const ht=C=>{h(C.target.value)},pe=()=>{h(""),i(),g([]),x([]),k([]),D({tracks:{},albums:{}})},Ke=C=>{v(C),p("all"),C==="local"?(g([]),x([]),k([]),O(null),ee(null),f&&a(f)):(i(),f&&Y(f))},I=async C=>{It(U=>new Set([...U,C.id])),o(`Downloading "${C.title}"...`,"info",2e3);try{await og(C),o(`"${C.title}" queued for download`,"success")}catch(U){console.error("Download failed:",U),o(`Failed to download "${C.title}"`,"error")}finally{It(U=>{const Fe=new Set(U);return Fe.delete(C.id),Fe})}},B=async C=>{me(!0);try{const U=await ag(C.id);O(U)}catch(U){console.error("Failed to load artist:",U),o("Failed to load artist details","error")}finally{me(!1)}},De=async C=>{me(!0);try{const U=await ig(C.id);ee(U)}catch(U){console.error("Failed to load album:",U),o("Failed to load album details","error")}finally{me(!1)}},kl=async C=>{mt(U=>new Set([...U,C.id])),o(`Downloading album "${C.title}"...`,"info",2e3);try{const U=await cg(C);o(U.message,U.success?"success":"error")}catch(U){console.error("Album download failed:",U),o(`Failed to download album "${C.title}"`,"error")}finally{mt(U=>{const Fe=new Set(U);return Fe.delete(C.id),Fe})}},Nn=m==="local"?s:_,Sl=t.length>0||n.length>0||r.length>0,Cl=N.length>0||d.length>0||w.length>0,ts=m==="local"?Sl:Cl;return l.jsxs("div",{className:"search-page animate-fade-in",children:[l.jsxs("div",{className:"search-header",children:[l.jsx("h1",{children:"Search"}),l.jsxs("div",{className:"search-input-container",children:[l.jsx(Ze,{placeholder:m==="local"?"Search your library...":"Search online for music...",value:f,onChange:ht,icon:l.jsx("i",{className:"fas fa-search"}),iconPosition:"left",fullWidth:!0,className:"search-input",autoFocus:!0}),f&&l.jsx("button",{className:"clear-search",onClick:pe,children:l.jsx("i",{className:"fas fa-times"})})]}),l.jsxs("div",{className:"search-mode-toggle",children:[l.jsxs("button",{className:`mode-btn ${m==="local"?"active":""}`,onClick:()=>Ke("local"),children:[l.jsx("i",{className:"fas fa-hard-drive"}),l.jsx("span",{children:"Local"})]}),l.jsxs("button",{className:`mode-btn ${m==="online"?"active":""}`,onClick:()=>Ke("online"),children:[l.jsx("i",{className:"fas fa-globe"}),l.jsx("span",{children:"Online"})]})]}),f&&ts&&l.jsxs("div",{className:"search-filters",children:[l.jsx("button",{className:`filter-btn ${y==="all"?"active":""}`,onClick:()=>p("all"),children:"All"}),l.jsxs("button",{className:`filter-btn ${y==="songs"?"active":""}`,onClick:()=>p("songs"),children:[l.jsx("i",{className:"fas fa-music"}),"Songs ",m==="local"?t.length>0&&`(${t.length})`:N.length>0&&`(${N.length})`]}),l.jsxs("button",{className:`filter-btn ${y==="artists"?"active":""}`,onClick:()=>p("artists"),children:[l.jsx("i",{className:"fas fa-user"}),"Artists ",m==="local"?n.length>0&&`(${n.length})`:d.length>0&&`(${d.length})`]}),l.jsxs("button",{className:`filter-btn ${y==="albums"?"active":""}`,onClick:()=>p("albums"),children:[l.jsx("i",{className:"fas fa-compact-disc"}),"Albums ",m==="local"?r.length>0&&`(${r.length})`:w.length>0&&`(${w.length})`]})]})]}),l.jsx("div",{className:"search-content",children:Nn?l.jsx("div",{className:"search-loading",children:[...Array(5)].map((C,U)=>l.jsx(Ff,{},U))}):ts?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"results-header",children:l.jsxs("span",{className:"results-count",children:[m==="local"?`${t.length+n.length+r.length} results`:`${N.length+d.length+w.length} results`,f&&` for "${f}"`,m==="online"&&" (Online)"]})}),m==="local"?l.jsxs("div",{className:"search-results-container",children:[(y==="all"||y==="songs")&&t.length>0&&l.jsxs("div",{className:"results-section",children:[y==="all"&&l.jsx("h3",{className:"section-title",children:"Songs"}),l.jsx("div",{className:"track-list",children:(t||[]).slice(0,y==="all"?5:void 0).map((C,U)=>l.jsx(Kr,{track:C,index:U,queue:t||[],compact:!0},C.id))}),y==="all"&&t.length>5&&l.jsxs("button",{className:"show-more-btn",onClick:()=>p("songs"),children:["Show all ",t.length," songs"]})]}),(y==="all"||y==="artists")&&n.length>0&&l.jsxs("div",{className:"results-section",children:[y==="all"&&l.jsx("h3",{className:"section-title",children:"Artists"}),l.jsx("div",{className:"artists-grid",children:n.slice(0,y==="all"?5:void 0).map(C=>l.jsxs("div",{className:"artist-card",onClick:()=>c(C.artist),children:[l.jsx("img",{src:C.artist_image?K(C.artist_image):K(null),alt:C.artist,onError:te,className:"artist-image"}),l.jsx("span",{className:"artist-name",children:C.artist}),l.jsxs("span",{className:"track-count",children:[C.track_count," songs"]})]},C.artist))}),y==="all"&&n.length>5&&l.jsxs("button",{className:"show-more-btn",onClick:()=>p("artists"),children:["Show all ",n.length," artists"]})]}),(y==="all"||y==="albums")&&r.length>0&&l.jsxs("div",{className:"results-section",children:[y==="all"&&l.jsx("h3",{className:"section-title",children:"Albums"}),l.jsx("div",{className:"albums-grid",children:r.slice(0,y==="all"?5:void 0).map(C=>l.jsxs("div",{className:"album-card",onClick:()=>u(C.album,C.artist),children:[l.jsx("img",{src:C.album_cover?K(C.album_cover):K(null),alt:C.album,onError:te,className:"album-cover"}),l.jsx("span",{className:"album-name",children:C.album}),l.jsx("span",{className:"album-artist",children:C.artist})]},`${C.album}-${C.artist}`))}),y==="all"&&r.length>5&&l.jsxs("button",{className:"show-more-btn",onClick:()=>p("albums"),children:["Show all ",r.length," albums"]})]})]}):l.jsxs("div",{className:"search-results-container",children:[(y==="all"||y==="songs")&&N.length>0&&l.jsxs("div",{className:"results-section",children:[y==="all"&&l.jsx("h3",{className:"section-title",children:"Songs"}),l.jsx("div",{className:"online-results",children:N.slice(0,y==="all"?5:void 0).map(C=>l.jsxs("div",{className:`online-track ${T.tracks[C.id]?"in-library":""}`,children:[l.jsx("img",{src:C.artwork||K(null),alt:C.album,onError:te}),l.jsxs("div",{className:"track-info",children:[l.jsx("span",{className:"title",children:C.title}),l.jsx("span",{className:"artist",children:C.artist}),l.jsx("span",{className:"album",children:C.album})]}),l.jsx("span",{className:"duration",children:qt(C.duration)}),T.tracks[C.id]?l.jsxs("span",{className:"in-library-badge",children:[l.jsx("i",{className:"fas fa-check"})," In Library"]}):l.jsx(X,{variant:"secondary",size:"sm",onClick:()=>I(C),disabled:he.has(C.id),icon:he.has(C.id)?l.jsx("i",{className:"fas fa-spinner fa-spin"}):l.jsx("i",{className:"fas fa-download"}),children:he.has(C.id)?"Adding...":"Add"})]},C.id))}),y==="all"&&N.length>5&&l.jsxs("button",{className:"show-more-btn",onClick:()=>p("songs"),children:["Show all ",N.length," songs"]})]}),(y==="all"||y==="artists")&&d.length>0&&l.jsxs("div",{className:"results-section",children:[y==="all"&&l.jsx("h3",{className:"section-title",children:"Artists"}),l.jsx("div",{className:"artists-grid",children:d.slice(0,y==="all"?5:void 0).map(C=>l.jsxs("div",{className:"artist-card online",onClick:()=>B(C),children:[l.jsx("img",{src:C.image||K(null),alt:C.name,onError:te,className:"artist-image"}),l.jsx("span",{className:"artist-name",children:C.name}),C.fans&&l.jsxs("span",{className:"track-count",children:[(C.fans/1e3).toFixed(0),"K fans"]})]},C.id))}),y==="all"&&d.length>5&&l.jsxs("button",{className:"show-more-btn",onClick:()=>p("artists"),children:["Show all ",d.length," artists"]})]}),(y==="all"||y==="albums")&&w.length>0&&l.jsxs("div",{className:"results-section",children:[y==="all"&&l.jsx("h3",{className:"section-title",children:"Albums"}),l.jsx("div",{className:"albums-grid",children:w.slice(0,y==="all"?5:void 0).map(C=>l.jsxs("div",{className:`album-card online ${T.albums[C.id]?"in-library":""}`,onClick:()=>De(C),children:[T.albums[C.id]&&l.jsx("span",{className:"in-library-badge-small",children:l.jsx("i",{className:"fas fa-check"})}),l.jsx("img",{src:C.image||K(null),alt:C.title,onError:te,className:"album-cover"}),l.jsx("span",{className:"album-name",children:C.title}),l.jsx("span",{className:"album-artist",children:C.artist})]},C.id))}),y==="all"&&w.length>5&&l.jsxs("button",{className:"show-more-btn",onClick:()=>p("albums"),children:["Show all ",w.length," albums"]})]})]})]}):f?l.jsxs("div",{className:"search-empty",children:[l.jsx("i",{className:"fas fa-search"}),l.jsx("h3",{children:"No results found"}),l.jsx("p",{children:m==="local"?"Try different keywords or search online":"Try different keywords"}),m==="local"&&l.jsx(X,{variant:"secondary",onClick:()=>Ke("online"),icon:l.jsx("i",{className:"fas fa-globe"}),children:"Search Online"})]}):l.jsxs("div",{className:"search-empty",children:[l.jsx("i",{className:m==="local"?"fas fa-search":"fas fa-globe"}),l.jsx("h3",{children:m==="local"?"Search your library":"Search online"}),l.jsx("p",{children:m==="local"?"Find songs, artists, and albums in your collection":"Find and download new music to add to your library"})]})}),Ne&&l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"loading-modal",children:[l.jsx("div",{className:"spinner spinner-lg"}),l.jsx("p",{children:"Loading..."})]})}),L&&l.jsx("div",{className:"modal-overlay",onClick:()=>O(null),children:l.jsxs("div",{className:"online-detail-modal glass-elevated",onClick:C=>C.stopPropagation(),children:[l.jsx("button",{className:"modal-close",onClick:()=>O(null),children:l.jsx("i",{className:"fas fa-times"})}),l.jsxs("div",{className:"modal-header",children:[l.jsx("img",{src:L.image||K(null),alt:L.name,onError:te,className:"modal-image artist"}),l.jsxs("div",{className:"modal-info",children:[l.jsx("h2",{children:L.name}),l.jsxs("p",{className:"modal-subtitle",children:[L.albums.length," albums",L.fans&&`  ${(L.fans/1e3).toFixed(0)}K fans`]})]})]}),l.jsxs("div",{className:"modal-content",children:[l.jsx("h3",{children:"Albums"}),l.jsx("div",{className:"albums-grid modal-grid",children:L.albums.map(C=>l.jsxs("div",{className:"album-card online",onClick:()=>{O(null),De(C)},children:[l.jsx("img",{src:C.image||K(null),alt:C.title,onError:te,className:"album-cover"}),l.jsx("span",{className:"album-name",children:C.title}),C.releaseDate&&l.jsx("span",{className:"album-year",children:C.releaseDate.split("-")[0]})]},C.id))})]})]})}),A&&l.jsx("div",{className:"modal-overlay",onClick:()=>ee(null),children:l.jsxs("div",{className:"online-detail-modal glass-elevated",onClick:C=>C.stopPropagation(),children:[l.jsx("button",{className:"modal-close",onClick:()=>ee(null),children:l.jsx("i",{className:"fas fa-times"})}),l.jsxs("div",{className:"modal-header",children:[l.jsx("img",{src:A.image||K(null),alt:A.title,onError:te,className:"modal-image album"}),l.jsxs("div",{className:"modal-info",children:[l.jsx("h2",{children:A.title}),l.jsxs("p",{className:"modal-subtitle",children:[A.artist,A.releaseDate&&`  ${A.releaseDate.split("-")[0]}`]}),l.jsxs("p",{className:"modal-meta",children:[A.trackCount," tracks",A.duration&&`  ${Math.floor(A.duration/60)} min`]}),l.jsx(X,{onClick:()=>kl(A),disabled:_e.has(A.id),icon:_e.has(A.id)?l.jsx("i",{className:"fas fa-spinner fa-spin"}):l.jsx("i",{className:"fas fa-download"}),children:_e.has(A.id)?"Downloading...":"Download Album"})]})]}),l.jsxs("div",{className:"modal-content",children:[l.jsx("h3",{children:"Tracks"}),l.jsx("div",{className:"album-tracks",children:A.tracks.map((C,U)=>l.jsxs("div",{className:"album-track",children:[l.jsx("span",{className:"track-number",children:C.trackNumber||U+1}),l.jsxs("div",{className:"track-info",children:[l.jsx("span",{className:"title",children:C.title}),l.jsx("span",{className:"duration",children:qt(C.duration)})]}),l.jsx(X,{variant:"secondary",size:"sm",onClick:()=>I(C),disabled:he.has(C.id),icon:he.has(C.id)?l.jsx("i",{className:"fas fa-spinner fa-spin"}):l.jsx("i",{className:"fas fa-plus"}),children:he.has(C.id)?"":"Add"})]},C.id))})]})]})})]})},fg=()=>{const{playlists:e,isLoading:t,fetchPlaylists:n}=sr();return j.useEffect(()=>{n()},[n]),l.jsxs("div",{className:"library-page animate-fade-in",children:[l.jsxs("header",{className:"library-header",children:[l.jsx("h1",{children:"Your Playlists"}),l.jsxs("span",{className:"playlist-count",children:[e.length," playlists"]})]}),l.jsx("div",{className:"library-content",children:t?l.jsx("div",{className:"card-grid",children:[...Array(9)].map((r,s)=>l.jsx(si,{},s))}):e.length>0?l.jsx("div",{className:"card-grid",children:e.map(r=>l.jsx(bf,{playlist:r},r.id))}):l.jsxs("div",{className:"empty-state",children:[l.jsx("i",{className:"fas fa-list"}),l.jsx("h3",{children:"No playlists yet"}),l.jsx("p",{children:"Create a playlist to get started"})]})})]})},mg=()=>{var Ke;const{id:e}=Vp(),t=rn(),{playQueue:n}=Pe(),{fetchPlaylists:r}=sr(),{showToast:s}=re(),[a,i]=j.useState(null),[o,c]=j.useState([]),[u,f]=j.useState(!0),[h,m]=j.useState(!1),[v,y]=j.useState(null),[p,N]=j.useState(!1),[g,d]=j.useState(""),[x,w]=j.useState(""),[k,_]=j.useState(!1),P=j.useRef(null),[L,O]=j.useState(null),[A,ee]=j.useState(null),Ne=(a==null?void 0:a.is_generated)||e&&e.includes("-");j.useEffect(()=>{e&&me(e)},[e]);const me=async I=>{f(!0),y(null);try{const[B,De]=await Promise.all([cy(I),Tf(I)]);i(B),c(Array.isArray(De)?De:[])}catch(B){console.error("Failed to load playlist:",B),y(B instanceof Error?B.message:"Failed to load playlist")}finally{f(!1)}},he=()=>{o.length>0&&n(o)},It=()=>{if(o.length>0){const I=[...o].sort(()=>Math.random()-.5);n(I)}},_e=async()=>{if(!(!a||!window.confirm("Are you sure you want to delete this playlist?"))){m(!0);try{await Rf(a.id),await r(),t("/library")}catch(I){console.error("Failed to delete playlist:",I),m(!1)}}},mt=()=>{!a||Ne||(d(a.name),w(a.description||""),N(!0),setTimeout(()=>{var I;return(I=P.current)==null?void 0:I.focus()},100))},T=()=>{N(!1),d(""),w("")},D=async()=>{if(!(!a||!g.trim())){_(!0);try{const I=await fy(a.id,{name:g.trim(),description:x.trim()||void 0});i({...a,...I,name:g.trim(),description:x.trim()||null}),N(!1),s("Playlist updated","success"),r()}catch(I){console.error("Failed to update playlist:",I),s("Failed to update playlist","error")}finally{_(!1)}}},M=async I=>{if(!(!a||Ne))try{await Af(a.id,I),c(o.filter(B=>B.id!==I)),s("Track removed","success")}catch(B){console.error("Failed to remove track:",B),s("Failed to remove track","error")}},H=I=>{p&&O(I)},Y=(I,B)=>{I.preventDefault(),p&&ee(B)},ht=async()=>{if(L===null||A===null||L===A||!p){O(null),ee(null);return}const I=[...o],[B]=I.splice(L,1);I.splice(A,0,B),c(I);try{await hy(a.id,I.map(De=>De.id)),s("Playlist reordered","success")}catch(De){console.error("Failed to reorder:",De),e&&me(e),s("Failed to reorder playlist","error")}O(null),ee(null)},pe=o.reduce((I,B)=>I+(B.duration||0),0);return u?l.jsxs("div",{className:"playlist-page animate-fade-in",children:[l.jsxs("div",{className:"playlist-header playlist-header-loading",children:[l.jsx("div",{className:"playlist-artwork-container skeleton"}),l.jsxs("div",{className:"playlist-info",children:[l.jsx("div",{className:"skeleton",style:{width:80,height:12,borderRadius:4}}),l.jsx("div",{className:"skeleton",style:{width:200,height:32,borderRadius:4,marginTop:8}}),l.jsx("div",{className:"skeleton",style:{width:120,height:14,borderRadius:4,marginTop:8}})]})]}),l.jsxs("div",{className:"playlist-actions-skeleton",children:[l.jsx("div",{className:"skeleton",style:{width:100,height:44,borderRadius:22}}),l.jsx("div",{className:"skeleton",style:{width:100,height:44,borderRadius:22}})]}),l.jsx("div",{className:"track-list",children:[...Array(5)].map((I,B)=>l.jsx(Ff,{},B))})]}):v||!a?l.jsx("div",{className:"playlist-page",children:l.jsxs("div",{className:"empty-state",children:[l.jsx("i",{className:"fas fa-exclamation-circle"}),l.jsx("h3",{children:v?"Error loading playlist":"Playlist not found"}),l.jsx("p",{children:v||"This playlist may have been deleted or moved."}),l.jsx(X,{onClick:()=>t("/library"),children:"Go to Library"})]})}):l.jsxs("div",{className:"playlist-page animate-fade-in",children:[l.jsxs("div",{className:"playlist-header",children:[l.jsx("div",{className:"playlist-artwork-container",children:l.jsx("img",{className:"playlist-cover-image",src:K(a.artwork||((Ke=o[0])==null?void 0:Ke.album_cover)),alt:a.name,onError:I=>te(I)})}),l.jsxs("div",{className:"playlist-info",children:[l.jsx("span",{className:"playlist-type",children:Ne?"Made for you":"Playlist"}),p?l.jsxs("div",{className:"playlist-edit-form",children:[l.jsx("input",{ref:P,type:"text",className:"playlist-name-input",value:g,onChange:I=>d(I.target.value),placeholder:"Playlist name",onKeyDown:I=>{I.key==="Enter"&&D(),I.key==="Escape"&&T()}}),l.jsx("input",{type:"text",className:"playlist-description-input",value:x,onChange:I=>w(I.target.value),placeholder:"Add a description (optional)",onKeyDown:I=>{I.key==="Enter"&&D(),I.key==="Escape"&&T()}}),l.jsxs("div",{className:"playlist-edit-actions",children:[l.jsx(X,{size:"sm",onClick:D,isLoading:k,children:"Save"}),l.jsx(X,{size:"sm",variant:"ghost",onClick:T,children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"playlist-name",children:a.name}),a.description&&l.jsx("p",{className:"playlist-description",children:a.description})]}),l.jsxs("div",{className:"playlist-meta",children:[l.jsxs("span",{children:[o.length," tracks"]}),l.jsx("span",{className:"separator",children:""}),l.jsx("span",{children:Df(pe)})]})]})]}),l.jsxs("div",{className:"playlist-actions",children:[l.jsx(X,{size:"lg",onClick:he,disabled:o.length===0,icon:l.jsx("i",{className:"fas fa-play"}),children:"Play"}),l.jsx(X,{variant:"secondary",size:"lg",onClick:It,disabled:o.length===0,icon:l.jsx("i",{className:"fas fa-shuffle"}),children:"Shuffle"}),!Ne&&l.jsxs(l.Fragment,{children:[l.jsx(X,{variant:"ghost",size:"lg",onClick:mt,icon:l.jsx("i",{className:"fas fa-pen"}),title:"Edit playlist"}),l.jsx(X,{variant:"ghost",size:"lg",onClick:_e,isLoading:h,icon:l.jsx("i",{className:"fas fa-trash"}),title:"Delete playlist"})]})]}),l.jsx("div",{className:"playlist-tracks",children:o.length>0?l.jsx("div",{className:`track-list ${p?"editable":""}`,children:o.map((I,B)=>l.jsxs("div",{className:`track-item-wrapper ${L===B?"dragging":""} ${A===B?"drag-over":""}`,draggable:p,onDragStart:()=>H(B),onDragOver:De=>Y(De,B),onDragEnd:ht,children:[p&&l.jsx("div",{className:"drag-handle",children:l.jsx("i",{className:"fas fa-grip-vertical"})}),l.jsx(Kr,{track:I,index:B,showIndex:!0,queue:o,onRemove:Ne?void 0:()=>M(I.id)})]},I.id))}):l.jsxs("div",{className:"empty-state",children:[l.jsx("i",{className:"fas fa-music"}),l.jsx("h3",{children:"This playlist is empty"}),l.jsx("p",{children:"Add some tracks to get started"})]})})]})};function hg(e){const t=e.toLowerCase();return t.includes("too many")||t.includes("rate limit")||t.includes("attempts")?"fa-clock":t.includes("credentials")||t.includes("password")||t.includes("invalid")?"fa-key":t.includes("not found")||t.includes("user")?"fa-user-slash":t.includes("server")||t.includes("500")?"fa-server":t.includes("suspended")||t.includes("denied")||t.includes("blocked")?"fa-ban":"fa-exclamation-circle"}const pg=()=>{const e=rn(),{login:t,isAuthenticated:n,isLoading:r,error:s,clearError:a}=rr(),[i,o]=j.useState(""),[c,u]=j.useState("");j.useEffect(()=>{n&&e("/")},[n,e]),j.useEffect(()=>()=>a(),[a]);const f=async h=>{h.preventDefault(),await t(i,c)&&e("/")};return l.jsx("div",{className:"auth-page",children:l.jsxs("div",{className:"auth-container glass-elevated",children:[l.jsxs("div",{className:"auth-header",children:[l.jsx("div",{className:"auth-logo-icon",children:l.jsx("img",{src:"/icons/icon.svg",alt:"Noxa Music"})}),l.jsx("h1",{className:"auth-logo",children:"Noxa Music"}),l.jsx("h2",{children:"Welcome back"}),l.jsx("p",{children:"Sign in to continue to your music"})]}),l.jsxs("form",{onSubmit:f,className:"auth-form",children:[l.jsx(Ze,{label:"Username",placeholder:"Enter your username",value:i,onChange:h=>o(h.target.value),fullWidth:!0,disabled:r,autoFocus:!0}),l.jsx(Ze,{label:"Password",type:"password",placeholder:"Enter your password",value:c,onChange:h=>u(h.target.value),fullWidth:!0,disabled:r}),s&&l.jsxs("div",{className:"auth-error",children:[l.jsx("i",{className:`fas ${hg(s)}`}),l.jsx("span",{children:s})]}),l.jsx(X,{type:"submit",fullWidth:!0,isLoading:r,size:"lg",children:"Sign In"})]}),l.jsx("div",{className:"auth-footer",children:l.jsxs("p",{children:["Don't have an account?"," ",l.jsx(Zr,{to:"/signup",className:"auth-link",children:"Sign up"})]})})]})})};function vg(e){const t=e.toLowerCase();return t.includes("username")&&(t.includes("taken")||t.includes("exists"))?"fa-user-times":t.includes("email")&&(t.includes("taken")||t.includes("exists")||t.includes("already"))?"fa-envelope-circle-xmark":t.includes("password")&&(t.includes("weak")||t.includes("match")||t.includes("short"))?"fa-lock":t.includes("invalid")?"fa-triangle-exclamation":t.includes("server")||t.includes("500")?"fa-server":"fa-exclamation-circle"}const yg=()=>{const e=rn(),{signup:t,isAuthenticated:n,isLoading:r,error:s,clearError:a}=rr(),[i,o]=j.useState(""),[c,u]=j.useState(""),[f,h]=j.useState(""),[m,v]=j.useState(""),[y,p]=j.useState(null);j.useEffect(()=>{n&&e("/")},[n,e]),j.useEffect(()=>()=>a(),[a]);const N=async d=>{if(d.preventDefault(),p(null),f!==m){p("Passwords do not match");return}if(f.length<6){p("Password must be at least 6 characters");return}await t(i,f,c)&&e("/")},g=y||s;return l.jsx("div",{className:"auth-page",children:l.jsxs("div",{className:"auth-container glass-elevated",children:[l.jsxs("div",{className:"auth-header",children:[l.jsx("div",{className:"auth-logo-icon",children:l.jsx("img",{src:"/icons/icon.svg",alt:"Noxa Music"})}),l.jsx("h1",{className:"auth-logo",children:"Noxa Music"}),l.jsx("h2",{children:"Create account"}),l.jsx("p",{children:"Start your music journey"})]}),l.jsxs("form",{onSubmit:N,className:"auth-form",children:[l.jsx(Ze,{label:"Username",placeholder:"Choose a username",value:i,onChange:d=>o(d.target.value),fullWidth:!0,disabled:r,autoFocus:!0}),l.jsx(Ze,{label:"Email",type:"email",placeholder:"Enter your email",value:c,onChange:d=>u(d.target.value),fullWidth:!0,disabled:r}),l.jsx(Ze,{label:"Password",type:"password",placeholder:"Create a password",value:f,onChange:d=>h(d.target.value),fullWidth:!0,disabled:r}),l.jsx(Ze,{label:"Confirm Password",type:"password",placeholder:"Confirm your password",value:m,onChange:d=>v(d.target.value),fullWidth:!0,disabled:r}),g&&l.jsxs("div",{className:"auth-error",children:[l.jsx("i",{className:`fas ${vg(g)}`}),l.jsx("span",{children:g})]}),l.jsx(X,{type:"submit",fullWidth:!0,isLoading:r,size:"lg",children:"Create Account"})]}),l.jsx("div",{className:"auth-footer",children:l.jsxs("p",{children:["Already have an account?"," ",l.jsx(Zr,{to:"/login",className:"auth-link",children:"Sign in"})]})})]})})},gg=()=>{const{openImportModal:e,showToast:t}=re(),[n,r]=j.useState([]),[s,a]=j.useState(!0),[i,o]=j.useState(!1),c=n.some(p=>p.status==="pending"||p.status==="downloading");j.useEffect(()=>{u()},[]),j.useEffect(()=>{if(!c)return;const p=setInterval(u,5e3);return()=>clearInterval(p)},[c]);const u=async()=>{try{const p=await Qy();r(p)}catch(p){console.error("Failed to fetch downloads:",p)}finally{a(!1)}},f=async p=>{try{await Hy(p),r(N=>N.filter(g=>g.id!==p)),t("Download cancelled","info")}catch(N){console.error("Failed to cancel download:",N),t("Failed to cancel download","error")}},h=async()=>{o(!0);try{const p=await Ky();p.success&&(t(`Cleanup complete: ${p.removed} downloads removed`,"success"),await u())}catch(p){console.error("Failed to cleanup downloads:",p),t("Failed to cleanup downloads","error")}finally{o(!1)}},m=n.filter(p=>p.status==="completed"||p.status==="failed").length,v=p=>{switch(p){case"pending":return"fa-clock";case"searching":return"fa-search fa-pulse";case"downloading":return"fa-spinner fa-spin";case"completed":return"fa-check-circle";case"failed":return"fa-exclamation-circle";default:return"fa-spinner fa-spin"}},y=p=>{switch(p){case"completed":return"var(--accent-green)";case"failed":return"var(--accent-red)";case"downloading":case"searching":return"var(--accent-blue)";default:return"var(--text-subdued)"}};return l.jsxs("div",{className:"downloads-page animate-fade-in",children:[l.jsxs("header",{className:"downloads-header",children:[l.jsxs("div",{children:[l.jsx("h1",{children:"Downloads"}),l.jsxs("p",{children:["Manage your download queue  ",n.length," items"]})]}),l.jsxs("div",{className:"downloads-actions",children:[l.jsx(X,{onClick:()=>e("spotify"),icon:l.jsx("i",{className:"fab fa-spotify"}),children:"Import Playlist"}),m>0&&l.jsx(X,{variant:"secondary",onClick:h,disabled:i,icon:l.jsx("i",{className:`fas ${i?"fa-spinner fa-spin":"fa-broom"}`}),children:i?"Cleaning...":`Cleanup (${m})`})]})]}),l.jsx("div",{className:"downloads-content",children:s?l.jsx("div",{className:"downloads-loading",children:l.jsx("div",{className:"spinner spinner-lg"})}):n.length>0?l.jsx("div",{className:"downloads-list",children:n.map(p=>l.jsxs("div",{className:`download-item status-${p.status}`,children:[l.jsx("div",{className:"download-icon",style:{color:y(p.status)},children:l.jsx("i",{className:`fas ${v(p.status)}`})}),l.jsxs("div",{className:"download-info",children:[l.jsx("span",{className:"download-title",children:p.title&&p.title!=="Extracting..."?`${p.artist} - ${p.title}`:p.message||`Download ${p.status}`}),p.progress!==void 0&&p.status==="downloading"&&l.jsx("div",{className:"download-progress",children:l.jsx("div",{className:"download-progress-bar",style:{width:`${p.progress}%`}})})]}),(p.status==="pending"||p.status==="downloading")&&l.jsx("button",{className:"cancel-btn",onClick:()=>f(p.id),children:l.jsx("i",{className:"fas fa-times"})})]},p.id))}):l.jsxs("div",{className:"downloads-empty",children:[l.jsx("i",{className:"fas fa-download"}),l.jsx("h3",{children:"No downloads"}),l.jsx("p",{children:"Search online to find and download music"})]})})]})},xg="https://stream.noxamusic.com";let Pr=null;function jg(e,t){Pr={username:e,password:t},sessionStorage.setItem("admin_credentials",btoa(`${e}:${t}`))}function Uf(){return Pr?btoa(`${Pr.username}:${Pr.password}`):sessionStorage.getItem("admin_credentials")}function ao(){Pr=null,sessionStorage.removeItem("admin_credentials")}function Ng(){return!!Uf()}async function st(e,t={}){const n=Uf();if(!n)throw new Error("Admin authentication required");const r=await fetch(`${xg}${e}`,{...t,headers:{"Content-Type":"application/json",Authorization:`Basic ${n}`,...t.headers}});if(!r.ok){if(r.status===401)throw ao(),new Error("Invalid admin credentials");const s=await r.json().catch(()=>({}));throw new Error(s.error||`Admin API Error: ${r.status}`)}return r.json()}async function wg(e,t){jg(e,t);try{return await st("/api/admin/stats"),!0}catch{return ao(),!1}}async function kg(){return st("/api/admin/stats")}async function Bc(){return st("/api/admin/user-stats")}async function Sg(){return st("/api/admin/disk-usage")}async function Cg(e){return st(`/api/admin/users/${e}`,{method:"DELETE"})}async function Eg(e="30d"){return st(`/api/analytics/overview?range=${e}`)}async function Pg(e=30){return st(`/api/analytics/dau-trend?days=${e}`)}async function _g(e="30d"){return st(`/api/analytics/engagement?range=${e}`)}async function Lg(e=10){return st(`/api/analytics/top-songs?limit=${e}`)}async function Tg(e=10){return st(`/api/analytics/top-artists?limit=${e}`)}async function Rg(e=30){return st(`/api/analytics/traffic-sources?days=${e}`)}async function aa(e=24){return st(`/api/admin/access-logs?hours=${e}`)}const Ag=()=>{var we,io,oo,co,uo,fo,mo,ho,po;const{showToast:e}=re(),[t,n]=j.useState(Ng()),[r,s]=j.useState(!1),[a,i]=j.useState(""),[o,c]=j.useState(""),[u,f]=j.useState(""),[h,m]=j.useState("dashboard"),[v,y]=j.useState(null),[p,N]=j.useState(null),[g,d]=j.useState([]),[x,w]=j.useState(null),[k,_]=j.useState(null),[P,L]=j.useState(!1),[O,A]=j.useState([]),[ee,Ne]=j.useState(!1),me=j.useRef(null),[he,It]=j.useState(null),[_e,mt]=j.useState(null),[T,D]=j.useState(null),[M,H]=j.useState([]),[Y,ht]=j.useState([]),[pe,Ke]=j.useState(null);j.useEffect(()=>{t&&I()},[t]),j.useEffect(()=>{if(!t)return;const S=setInterval(()=>{B()},3e4);return()=>clearInterval(S)},[t]);const I=async()=>{var S,b;try{const[V,q,z,$]=await Promise.all([kg(),Bc().catch(()=>[]),Sg().catch(()=>null),aa(24).catch(()=>null)]),Xe={...V,total_tracks:V.total_songs||V.total_tracks||0,total_albums:V.unique_albums||V.total_albums||0,total_artists:V.unique_artists||V.total_artists||0,total_users:q.length||0};y(Xe);const lr=new Date().toISOString().split("T")[0],El=((S=$==null?void 0:$.recentUsers)==null?void 0:S.filter(Pl=>{var vo;return((vo=Pl.last_access)==null?void 0:vo.split(" ")[0])===lr}).length)||0;N({users:[],summary:{total_users:q.length||0,active_today:El,online_now:((b=$==null?void 0:$.recentUsers)==null?void 0:b.filter(Pl=>Nn(Pl.last_access)).length)||0}}),w(z),_($)}catch(V){console.error("Failed to load dashboard data:",V),V.message.includes("credentials")&&n(!1)}},B=async()=>{try{const S=await aa(1);_(S)}catch(S){console.error("Failed to load access logs:",S)}},De=async()=>{try{const[S,b]=await Promise.all([Bc(),aa(24)]),V=S.map(q=>{var $;const z=($=b==null?void 0:b.recentUsers)==null?void 0:$.find(Xe=>Xe.user_id===q.id);return{...q,device:(z==null?void 0:z.device)||null,country:(z==null?void 0:z.country)||null,last_seen:(z==null?void 0:z.last_access)||q.last_login,is_online:z?Nn(z.last_access):!1}});V.sort((q,z)=>q.is_online&&!z.is_online?-1:!q.is_online&&z.is_online?1:new Date(z.last_seen||0).getTime()-new Date(q.last_seen||0).getTime()),d(V),_(b)}catch(S){console.error("Failed to load users:",S)}},kl=async()=>{try{const[S,b,V,q,z,$]=await Promise.all([Eg("30d").catch(()=>null),Pg(30).catch(()=>null),_g("30d").catch(()=>null),Lg(10).catch(()=>({songs:[]})),Tg(10).catch(()=>({artists:[]})),Rg(30).catch(()=>null)]);It(S),mt(b),D(V),H((q==null?void 0:q.songs)||[]),ht((z==null?void 0:z.artists)||[]),Ke($)}catch(S){console.error("Failed to load analytics:",S)}},Nn=S=>{if(!S)return!1;const b=S.includes("T")?S:S.replace(" ","T")+"Z";return Date.now()-new Date(b).getTime()<5*60*1e3},Sl=async S=>{S.preventDefault(),s(!0),f(""),await wg(a,o)?(n(!0),i(""),c("")):f("Invalid admin credentials"),s(!1)},Cl=()=>{ao(),n(!1),y(null),N(null),d([])},ts=async()=>{L(!0),A([]),Ne(!0);try{const S=sessionStorage.getItem("admin_credentials"),b="",V=new EventSource(`${b}/api/admin/scan-stream?auth=${encodeURIComponent(S||"")}`);V.onmessage=q=>{try{const{type:z,data:$}=JSON.parse(q.data);if(z==="log")A(Xe=>[...Xe,$]),setTimeout(()=>{me.current&&(me.current.scrollTop=me.current.scrollHeight)},10);else if(z==="error")A(Xe=>[...Xe,` ${$}`]);else if(z==="complete")if(V.close(),L(!1),$.success){const Xe=` Scan completed: ${$.scanned} files, ${$.added} new, ${$.pathsUpdated} paths updated`;A(lr=>[...lr,"",Xe]),e(Xe,"success"),I()}else e("Scan failed: "+($.error||"Unknown error"),"error")}catch(z){console.error("Error parsing SSE:",z)}},V.onerror=()=>{V.close(),L(!1),e("Scan connection lost","error")}}catch{e("Failed to start scan","error"),L(!1)}},C=async(S,b)=>{if(confirm(`Are you sure you want to delete user "${b}"? This cannot be undone.`))try{await Cg(S),e(`User "${b}" deleted`,"success"),De(),I()}catch{e("Failed to delete user","error")}},U=S=>{if(!S)return"fa-question";const b=S.toLowerCase();return b.includes("ios")||b.includes("iphone")||b.includes("ipad")||b.includes("android")?"fa-mobile-alt":b.includes("windows")?"fa-windows":b.includes("mac")?"fa-apple":b.includes("linux")?"fa-linux":"fa-laptop"},Fe=S=>{if(!S)return"Never";const b=S.includes("T")?S:S.replace(" ","T")+"Z",V=Date.now()-new Date(b).getTime(),q=Math.floor(V/6e4),z=Math.floor(V/36e5),$=Math.floor(V/864e5);return q<1?"Just now":q<60?`${q}m ago`:z<24?`${z}h ago`:`${$}d ago`};if(!t)return l.jsx("div",{className:"admin-auth-gate",children:l.jsxs("div",{className:"admin-auth-card glass-elevated",children:[l.jsx("div",{className:"admin-auth-icon",children:l.jsx("i",{className:"fas fa-shield-alt"})}),l.jsx("h2",{children:"Admin Console"}),l.jsx("p",{children:"Enter your admin credentials to continue"}),l.jsxs("form",{onSubmit:Sl,children:[l.jsx(Ze,{placeholder:"Username",value:a,onChange:S=>i(S.target.value),fullWidth:!0,disabled:r}),l.jsx(Ze,{type:"password",placeholder:"Password",value:o,onChange:S=>c(S.target.value),fullWidth:!0,disabled:r}),u&&l.jsxs("div",{className:"admin-auth-error",children:[l.jsx("i",{className:"fas fa-exclamation-circle"}),u]}),l.jsx(X,{type:"submit",fullWidth:!0,isLoading:r,children:"Sign In"})]})]})});const Ye=((we=k==null?void 0:k.recentUsers)==null?void 0:we.filter(S=>Nn(S.last_access)).length)||0;return l.jsxs("div",{className:"admin-page",children:[l.jsxs("div",{className:"admin-header",children:[l.jsxs("div",{className:"admin-title",children:[l.jsx("i",{className:"fas fa-cog"}),l.jsx("h1",{children:"Admin Console"})]}),l.jsxs("button",{className:"admin-logout",onClick:Cl,children:[l.jsx("i",{className:"fas fa-sign-out-alt"}),"Logout"]})]}),l.jsxs("nav",{className:"admin-nav",children:[l.jsxs("button",{className:`admin-nav-btn ${h==="dashboard"?"active":""}`,onClick:()=>m("dashboard"),children:[l.jsx("i",{className:"fas fa-chart-line"}),"Dashboard"]}),l.jsxs("button",{className:`admin-nav-btn ${h==="users"?"active":""}`,onClick:()=>{m("users"),De()},children:[l.jsx("i",{className:"fas fa-users"}),"Users"]}),l.jsxs("button",{className:`admin-nav-btn ${h==="analytics"?"active":""}`,onClick:()=>{m("analytics"),kl()},children:[l.jsx("i",{className:"fas fa-chart-bar"}),"Analytics"]}),l.jsxs("button",{className:`admin-nav-btn ${h==="library"?"active":""}`,onClick:()=>m("library"),children:[l.jsx("i",{className:"fas fa-music"}),"Library"]})]}),h==="dashboard"&&l.jsxs("div",{className:"admin-section",children:[l.jsx("h2",{children:"Dashboard"}),l.jsxs("div",{className:"stats-grid",children:[l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-icon users",children:l.jsx("i",{className:"fas fa-users"})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-value",children:(p==null?void 0:p.summary.total_users)||0}),l.jsx("span",{className:"stat-label",children:"Total Users"})]})]}),l.jsxs("div",{className:"stat-card highlight",children:[l.jsx("div",{className:"stat-icon online",children:l.jsx("i",{className:"fas fa-circle"})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-value",children:Ye}),l.jsx("span",{className:"stat-label",children:"Online Now"})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-icon active",children:l.jsx("i",{className:"fas fa-clock"})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-value",children:(p==null?void 0:p.summary.active_today)||0}),l.jsx("span",{className:"stat-label",children:"Active Today"})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-icon tracks",children:l.jsx("i",{className:"fas fa-music"})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-value",children:((io=v==null?void 0:v.total_tracks)==null?void 0:io.toLocaleString())||0}),l.jsx("span",{className:"stat-label",children:"Total Tracks"})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-icon albums",children:l.jsx("i",{className:"fas fa-compact-disc"})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-value",children:((oo=v==null?void 0:v.total_albums)==null?void 0:oo.toLocaleString())||0}),l.jsx("span",{className:"stat-label",children:"Albums"})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-icon artists",children:l.jsx("i",{className:"fas fa-microphone"})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-value",children:((co=v==null?void 0:v.total_artists)==null?void 0:co.toLocaleString())||0}),l.jsx("span",{className:"stat-label",children:"Artists"})]})]})]}),k&&k.recentUsers.length>0&&l.jsxs("div",{className:"online-users-card glass-card",children:[l.jsxs("h3",{children:[l.jsx("i",{className:"fas fa-circle online-dot"})," Currently Online"]}),l.jsxs("div",{className:"online-users-list",children:[k.recentUsers.filter(S=>Nn(S.last_access)).slice(0,5).map(S=>l.jsxs("div",{className:"online-user-item",children:[l.jsx("div",{className:"user-avatar-sm",children:S.username.charAt(0).toUpperCase()}),l.jsxs("div",{className:"online-user-info",children:[l.jsx("span",{className:"name",children:S.username}),l.jsxs("span",{className:"device",children:[l.jsx("i",{className:`fab ${U(S.device)}`}),S.device||"Unknown","  ",S.country||"Unknown"]})]}),l.jsx("span",{className:"online-badge",children:"Online"})]},S.user_id)),Ye===0&&l.jsx("div",{className:"empty-state-sm",children:"No users currently online"})]})]}),x&&l.jsxs("div",{className:"disk-usage-card glass-card",children:[l.jsxs("h3",{children:[l.jsx("i",{className:"fas fa-hdd"})," Disk Usage"]}),l.jsx("div",{className:"disk-bar",children:l.jsx("div",{className:"disk-bar-fill",style:{width:`${x.percent_used||x.usagePercent||0}%`}})}),l.jsxs("div",{className:"disk-stats",children:[l.jsxs("span",{children:["Used: ",x.used]}),l.jsxs("span",{children:["Free: ",x.free||x.available]}),l.jsxs("span",{children:["Total: ",x.total]})]})]})]}),h==="users"&&l.jsxs("div",{className:"admin-section",children:[l.jsx("h2",{children:"Users"}),l.jsxs("div",{className:"users-table-container glass-card",children:[l.jsxs("table",{className:"users-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"User"}),l.jsx("th",{children:"Device"}),l.jsx("th",{children:"Tracks"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Last Seen"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:g.map(S=>l.jsxs("tr",{className:S.is_online?"user-online":"",children:[l.jsx("td",{children:l.jsxs("div",{className:"user-cell",children:[l.jsxs("div",{className:`user-avatar ${S.is_online?"online":""}`,children:[S.username.charAt(0).toUpperCase(),S.is_online&&l.jsx("span",{className:"online-indicator"})]}),l.jsxs("div",{className:"user-info",children:[l.jsx("span",{className:"user-name",children:S.username}),S.is_admin&&l.jsx("span",{className:"admin-badge",children:"Admin"}),S.country&&l.jsx("span",{className:"country-badge",children:S.country})]})]})}),l.jsx("td",{children:l.jsxs("span",{className:"device-info",children:[l.jsx("i",{className:`fab ${U(S.device||null)}`}),S.device||"Unknown"]})}),l.jsx("td",{children:S.music_count||0}),l.jsx("td",{children:l.jsx("span",{className:`status-badge ${S.is_online?"online":S.was_active_today?"active":"offline"}`,children:S.is_online?"Online":S.was_active_today?"Active Today":"Offline"})}),l.jsx("td",{className:"time-cell",children:Fe(S.last_seen||S.last_login)}),l.jsx("td",{children:l.jsx("div",{className:"action-buttons",children:l.jsx("button",{className:"action-btn delete",onClick:()=>C(S.id,S.username),title:"Delete user",children:l.jsx("i",{className:"fas fa-trash"})})})})]},S.id))})]}),g.length===0&&l.jsxs("div",{className:"empty-state",children:[l.jsx("i",{className:"fas fa-users"}),l.jsx("p",{children:"No users found"})]})]})]}),h==="analytics"&&l.jsxs("div",{className:"admin-section",children:[l.jsx("h2",{children:"Analytics"}),l.jsxs("div",{className:"stats-grid",children:[l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-icon users",children:l.jsx("i",{className:"fas fa-user-plus"})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-value",children:(he==null?void 0:he.newUsersToday)||0}),l.jsx("span",{className:"stat-label",children:"New Users Today"})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-icon active",children:l.jsx("i",{className:"fas fa-user-clock"})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-value",children:(he==null?void 0:he.activeToday)||0}),l.jsx("span",{className:"stat-label",children:"Active Today"})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-icon tracks",children:l.jsx("i",{className:"fas fa-headphones"})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-value",children:(T==null?void 0:T.avgSessionLengthFormatted)||"0s"}),l.jsx("span",{className:"stat-label",children:"Avg Session"})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-icon albums",children:l.jsx("i",{className:"fas fa-forward"})}),l.jsxs("div",{className:"stat-info",children:[l.jsx("span",{className:"stat-value",children:((uo=T==null?void 0:T.skipsPerSession)==null?void 0:uo.toFixed(1))||0}),l.jsx("span",{className:"stat-label",children:"Skips / Session"})]})]})]}),_e&&_e.trend&&_e.trend.length>0&&l.jsxs("div",{className:"chart-card glass-card",children:[l.jsxs("h3",{children:[l.jsx("i",{className:"fas fa-chart-line"})," Daily Active Users"]}),l.jsx("p",{className:"chart-subtitle",children:"Last 14 days"}),l.jsx("div",{className:"dau-chart",children:_e.trend.slice(-14).map((S,b)=>{const V=Math.max(..._e.trend.map(El=>El.dau),1),q=Math.max(5,S.dau/V*100),z=new Date(S.date+"T00:00:00"),$=z.getDate(),Xe=z.toLocaleDateString("en",{month:"short"}),lr=new Date().toDateString()===z.toDateString();return l.jsxs("div",{className:`dau-bar-wrapper ${lr?"today":""}`,children:[l.jsxs("div",{className:"dau-bar-area",children:[l.jsx("span",{className:"dau-count",children:S.dau}),l.jsx("div",{className:"dau-bar",style:{height:`${q}%`}})]}),l.jsxs("div",{className:"dau-date",children:[l.jsx("span",{className:"day",children:$}),l.jsx("span",{className:"month",children:Xe})]})]},b)})})]}),l.jsxs("div",{className:"analytics-grid",children:[l.jsxs("div",{className:"top-list-card glass-card",children:[l.jsxs("h3",{children:[l.jsx("i",{className:"fas fa-music"})," Top Songs"]}),l.jsxs("div",{className:"top-list",children:[M.slice(0,5).map((S,b)=>l.jsxs("div",{className:"top-item",children:[l.jsxs("span",{className:"rank",children:["#",b+1]}),l.jsxs("div",{className:"top-item-info",children:[l.jsx("span",{className:"title",children:S.title}),l.jsx("span",{className:"subtitle",children:S.artist})]}),l.jsxs("span",{className:"count",children:[S.play_count," plays"]})]},S.id)),M.length===0&&l.jsx("div",{className:"empty-state-sm",children:"No play data yet"})]})]}),l.jsxs("div",{className:"top-list-card glass-card",children:[l.jsxs("h3",{children:[l.jsx("i",{className:"fas fa-microphone"})," Top Artists"]}),l.jsxs("div",{className:"top-list",children:[Y.slice(0,5).map((S,b)=>l.jsxs("div",{className:"top-item",children:[l.jsxs("span",{className:"rank",children:["#",b+1]}),l.jsxs("div",{className:"top-item-info",children:[l.jsx("span",{className:"title",children:S.artist}),l.jsxs("span",{className:"subtitle",children:[S.track_count," tracks"]})]}),l.jsxs("span",{className:"count",children:[S.play_count," plays"]})]},S.artist)),Y.length===0&&l.jsx("div",{className:"empty-state-sm",children:"No play data yet"})]})]})]}),k&&l.jsxs("div",{className:"analytics-grid",children:[l.jsxs("div",{className:"breakdown-card glass-card",children:[l.jsxs("h3",{children:[l.jsx("i",{className:"fas fa-mobile-alt"})," Devices"]}),l.jsx("div",{className:"breakdown-list",children:k.summary.devices.map(S=>l.jsxs("div",{className:"breakdown-item",children:[l.jsx("i",{className:`fab ${U(S.label)}`}),l.jsx("span",{className:"label",children:S.label}),l.jsx("span",{className:"count",children:S.count})]},S.label))})]}),l.jsxs("div",{className:"breakdown-card glass-card",children:[l.jsxs("h3",{children:[l.jsx("i",{className:"fas fa-globe"})," Countries"]}),l.jsx("div",{className:"breakdown-list",children:k.summary.countries.map(S=>l.jsxs("div",{className:"breakdown-item",children:[l.jsx("i",{className:"fas fa-map-marker-alt"}),l.jsx("span",{className:"label",children:S.label}),l.jsx("span",{className:"count",children:S.count})]},S.label))})]})]}),pe&&pe.sources.length>0&&l.jsxs("div",{className:"chart-card glass-card traffic-sources-card",children:[l.jsxs("h3",{children:[l.jsx("i",{className:"fas fa-share-alt"})," Traffic Sources"]}),l.jsxs("p",{className:"chart-subtitle",children:["Where your users come from (last ",pe.days," days)"]}),l.jsx("div",{className:"traffic-sources-list",children:pe.sources.map((S,b)=>{const V=z=>{const $=z.toLowerCase();return $==="direct"?"fas fa-home":$.includes("google")?"fab fa-google":$.includes("reddit")?"fab fa-reddit":$.includes("twitter")||$.includes("x.com")?"fab fa-twitter":$.includes("facebook")?"fab fa-facebook":$.includes("instagram")?"fab fa-instagram":$.includes("youtube")?"fab fa-youtube":$.includes("discord")?"fab fa-discord":$.includes("telegram")?"fab fa-telegram":$.includes("tiktok")?"fab fa-tiktok":$.includes("linkedin")?"fab fa-linkedin":"fas fa-link"},q=z=>{const $=z.toLowerCase();return $==="direct"?"#1db954":$.includes("google")?"#4285f4":$.includes("reddit")?"#ff4500":$.includes("twitter")||$.includes("x.com")?"#1da1f2":$.includes("facebook")?"#1877f2":$.includes("instagram")?"#e4405f":$.includes("youtube")?"#ff0000":$.includes("discord")?"#5865f2":"#888"};return l.jsxs("div",{className:"traffic-source-item",children:[l.jsxs("div",{className:"source-rank",children:["#",b+1]}),l.jsx("i",{className:V(S.source),style:{color:q(S.source)}}),l.jsxs("div",{className:"source-info",children:[l.jsx("span",{className:"source-name",children:S.source}),l.jsxs("span",{className:"source-stats",children:[S.unique_users," users  ",S.visits," visits"]})]}),l.jsx("div",{className:"source-bar-container",children:l.jsx("div",{className:"source-bar",style:{width:`${S.percentage}%`,backgroundColor:q(S.source)}})}),l.jsxs("span",{className:"source-percent",children:[S.percentage,"%"]})]},S.source)})}),l.jsxs("div",{className:"traffic-totals",children:[l.jsxs("span",{children:[l.jsx("i",{className:"fas fa-users"})," ",pe.totalUniqueUsers," unique users"]}),l.jsxs("span",{children:[l.jsx("i",{className:"fas fa-eye"})," ",pe.totalVisits," total visits"]})]})]})]}),h==="library"&&l.jsxs("div",{className:"admin-section",children:[l.jsx("h2",{children:"Library Management"}),l.jsxs("div",{className:"library-actions glass-card",children:[l.jsxs("div",{className:"library-action",children:[l.jsxs("div",{className:"action-info",children:[l.jsxs("h3",{children:[l.jsx("i",{className:"fas fa-sync"})," Safe Scan Library"]}),l.jsx("p",{children:"Scan for new files, update moved file paths, fetch missing artwork. Preserves all manual metadata corrections."})]}),l.jsx(X,{onClick:ts,isLoading:P,children:P?"Scanning...":"Start Scan"})]}),ee&&l.jsxs("div",{className:"scan-log-container",children:[l.jsxs("div",{className:"scan-log-header",children:[l.jsxs("h4",{children:[l.jsx("i",{className:"fas fa-terminal"})," Scan Log"]}),l.jsx("button",{className:"close-log-btn",onClick:()=>Ne(!1),disabled:P,children:l.jsx("i",{className:"fas fa-times"})})]}),l.jsxs("div",{className:"scan-log",ref:me,children:[O.length===0?l.jsx("div",{className:"log-line log-waiting",children:"Waiting for scan output..."}):O.map((S,b)=>l.jsx("div",{className:`log-line ${S.startsWith("")?"log-success":S.startsWith("")?"log-error":S.startsWith("")?"log-download":S.startsWith("")||S.startsWith("")?"log-artwork":S.startsWith("")||S.startsWith("")?"log-info":""}`,children:S||""},b)),P&&l.jsxs("div",{className:"log-line log-scanning",children:[l.jsx("i",{className:"fas fa-spinner fa-spin"})," Scanning..."]})]})]})]}),l.jsxs("div",{className:"library-info glass-card",children:[l.jsxs("h3",{children:[l.jsx("i",{className:"fas fa-info-circle"})," Library Information"]}),l.jsxs("div",{className:"info-grid",children:[l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Total Tracks"}),l.jsx("span",{className:"info-value",children:((fo=v==null?void 0:v.total_tracks)==null?void 0:fo.toLocaleString())||0})]}),l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Albums"}),l.jsx("span",{className:"info-value",children:((mo=v==null?void 0:v.total_albums)==null?void 0:mo.toLocaleString())||0})]}),l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Artists"}),l.jsx("span",{className:"info-value",children:((ho=v==null?void 0:v.total_artists)==null?void 0:ho.toLocaleString())||0})]}),l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Playlists"}),l.jsx("span",{className:"info-value",children:((po=v==null?void 0:v.total_playlists)==null?void 0:po.toLocaleString())||0})]})]})]})]})]})};function Ig(){const{toggleLyrics:e,toggleQueue:t,closeAllModals:n}=re();j.useEffect(()=>{const r=s=>{if(!(s.target instanceof HTMLInputElement||s.target instanceof HTMLTextAreaElement))switch(s.key){case"Escape":n();break;case"l":case"L":e();break;case"q":case"Q":t();break}};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[e,t,n])}const Dg=({children:e})=>{const{isAuthenticated:t}=rr(),n=jn();return t?l.jsx(l.Fragment,{children:e}):l.jsx(mf,{to:"/login",state:{from:n},replace:!0})},Mg=({children:e})=>{const{checkAuth:t}=rr();return j.useEffect(()=>{t()},[t]),Ig(),ay(),l.jsxs("div",{className:"app-container",children:[l.jsx(py,{}),l.jsx(yy,{}),l.jsx("main",{className:"app-content",children:e}),l.jsx(ky,{}),l.jsx(Sy,{}),l.jsx(Ey,{}),l.jsx(Py,{}),l.jsx(gy,{}),l.jsx(_y,{}),l.jsx(zy,{}),l.jsx(by,{}),l.jsx(Xy,{}),l.jsx(Gy,{}),l.jsx(qy,{}),l.jsx(Jy,{}),l.jsx(eg,{})]})};function Og(){return l.jsxs(Ac,{children:[l.jsx(at,{path:"/login",element:l.jsx(pg,{})}),l.jsx(at,{path:"/signup",element:l.jsx(yg,{})}),l.jsx(at,{path:"/*",element:l.jsx(Dg,{children:l.jsx(Mg,{children:l.jsxs(Ac,{children:[l.jsx(at,{path:"/",element:l.jsx(sg,{})}),l.jsx(at,{path:"/search",element:l.jsx(dg,{})}),l.jsx(at,{path:"/library",element:l.jsx(fg,{})}),l.jsx(at,{path:"/playlist/:id",element:l.jsx(mg,{})}),l.jsx(at,{path:"/downloads",element:l.jsx(gg,{})}),l.jsx(at,{path:"/admin",element:l.jsx(Ag,{})}),l.jsx(at,{path:"*",element:l.jsx(mf,{to:"/",replace:!0})})]})})})})]})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{console.log(" Service Worker registered:",e.scope),e.addEventListener("updatefound",()=>{const t=e.installing;console.log(" Service Worker update found"),t==null||t.addEventListener("statechange",()=>{t.state==="installed"&&navigator.serviceWorker.controller&&console.log(" New Service Worker available - refresh to update")})})}).catch(e=>{console.error(" Service Worker registration failed:",e)})});ia.createRoot(document.getElementById("root")).render(l.jsx(ci.StrictMode,{children:l.jsx(mv,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:l.jsx(Og,{})})}));
